var hO=Object.defineProperty,yO=Object.defineProperties;var vO=Object.getOwnPropertyDescriptors;var Dy=Object.getOwnPropertySymbols;var gO=Object.prototype.hasOwnProperty,bO=Object.prototype.propertyIsEnumerable;var Ny=(y,h,c)=>h in y?hO(y,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):y[h]=c,Lc=(y,h)=>{for(var c in h||(h={}))gO.call(h,c)&&Ny(y,c,h[c]);if(Dy)for(var c of Dy(h))bO.call(h,c)&&Ny(y,c,h[c]);return y},Cy=(y,h)=>yO(y,vO(h));var Ea=(y,h,c)=>new Promise((f,a)=>{var p=m=>{try{b(c.next(m))}catch(w){a(w)}},s=m=>{try{b(c.throw(m))}catch(w){a(w)}},b=m=>m.done?f(m.value):Promise.resolve(m.value).then(p,s);b((c=c.apply(y,h)).next())});import{I as mO,_ as Hc,a as _O,W as OO,w as wO}from"./index.78902926.js";import{P as xO,S as EO,B as uv,b2 as jO,aa as SO,r as ja,an as PO,u as en,a0 as zc,ak as AO,a1 as Pr,D as jr,F as fi,ac as Ry,aq as kO,w as vi,a7 as ka,af as MO,K as TO,L as Sa,ae as Bc,a5 as DO,a2 as Yc,ck as NO,j as CO,T as Iy,$ as RO,J as IO}from"./vendor.e45423c9.js";/* empty css               */import{B as LO,b as zO}from"./index.54d102fe.js";import{J as BO}from"./index.32bbdb18.js";import{P as FO}from"./index.169a0c7c.js";import"./useWindowSizeFn.7b3a7491.js";/* empty css               *//* empty css                */import"./useContentViewHeight.1c0e1783.js";const cv=Symbol("flow-chart");function UO(y){EO(cv,y)}function GO(){return xO(cv)}var Xt=(y=>(y.ZOOM_IN="zoomIn",y.ZOOM_OUT="zoomOut",y.RESET_ZOOM="resetZoom",y.UNDO="undo",y.REDO="redo",y.SNAPSHOT="snapshot",y.VIEW_DATA="viewData",y))(Xt||{});const XO=uv({name:"FlowChartToolbar",components:{Icon:mO,Divider:jO,Tooltip:SO},props:{prefixCls:String},emits:["view-data"],setup(y,{emit:h}){const c=ja([{type:Xt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Xt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Xt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Xt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Xt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Xt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Xt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:f}=GO();function a({data:{undoAble:s,redoAble:b}}){const m=en(c),w=m.findIndex(j=>j.type===Xt.UNDO),O=m.findIndex(j=>j.type===Xt.REDO);w!==-1&&(en(c)[w].disabled=!s),O!==-1&&(en(c)[O].disabled=!b)}const p=s=>{const b=en(f);if(!!b)switch(s.type){case Xt.ZOOM_IN:b.zoom();break;case Xt.ZOOM_OUT:b.zoom(!0);break;case Xt.RESET_ZOOM:b.resetZoom();break;case Xt.UNDO:b.undo();break;case Xt.REDO:b.redo();break;case Xt.SNAPSHOT:b.getSnapshot();break;case Xt.VIEW_DATA:h("view-data");break}};return PO(()=>Ea(this,null,function*(){var s;en(f)&&(yield zc(),(s=en(f))==null||s.on("history:change",a))})),AO(()=>{var s;(s=en(f))==null||s.off("history:change",a)}),{toolbarItemList:c,onControl:p}}}),HO=["onClick"];function YO(y,h,c,f,a,p){const s=Pr("Icon"),b=Pr("Tooltip"),m=Pr("Divider");return jr(),fi("div",{class:Sa([`${y.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(jr(!0),fi(Ry,null,kO(y.toolbarItemList,w=>(jr(),fi(Ry,{key:w.type},[vi(b,DO({placement:"bottom"},w.disabled?{visible:!1}:{}),{title:ka(()=>[MO(TO(w.tooltip),1)]),default:ka(()=>[w.icon?(jr(),fi("span",{key:0,class:Sa(`${y.prefixCls}-toolbar__icon`),onClick:O=>y.onControl(w)},[vi(s,{icon:w.icon,class:Sa(w.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,HO)):Bc("",!0)]),_:2},1040),w.separate?(jr(),Yc(m,{key:0,type:"vertical"})):Bc("",!0)],64))),128))],2)}var VO=Hc(XO,[["render",YO]]),Fe={exports:{}};(function(y,h){(function(c,f){y.exports=f()})(window,function(){return function(c){var f={};function a(p){if(f[p])return f[p].exports;var s=f[p]={i:p,l:!1,exports:{}};return c[p].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=f,a.d=function(p,s,b){a.o(p,s)||Object.defineProperty(p,s,{enumerable:!0,get:b})},a.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},a.t=function(p,s){if(1&s&&(p=a(p)),8&s||4&s&&typeof p=="object"&&p&&p.__esModule)return p;var b=Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:p}),2&s&&typeof p!="string")for(var m in p)a.d(b,m,function(w){return p[w]}.bind(null,m));return b},a.n=function(p){var s=p&&p.__esModule?function(){return p.default}:function(){return p};return a.d(s,"a",s),s},a.o=function(p,s){return Object.prototype.hasOwnProperty.call(p,s)},a.p="",a(a.s=202)}([function(c,f,a){(function(p,s){a.d(f,"a",function(){return k}),a.d(f,"b",function(){return Mo}),a.d(f,"c",function(){return On}),a.d(f,"d",function(){return lt}),a.d(f,"e",function(){return dt}),a.d(f,"f",function(){return Qe}),a.d(f,"g",function(){return Je}),a.d(f,"h",function(){return Cr}),a.d(f,"i",function(){return Bt}),a.d(f,"j",function(){return Ge}),a.d(f,"k",function(){return Dn}),a.d(f,"l",function(){return Eo}),a.d(f,"m",function(){return kt}),a.d(f,"n",function(){return fr}),a.d(f,"o",function(){return ee}),a.d(f,"p",function(){return Di}),a.d(f,"q",function(){return Nn}),a.d(f,"r",function(){return ki}),a.d(f,"s",function(){return yn}),a.d(f,"t",function(){return Ar}),a.d(f,"u",function(){return Qr}),a.d(f,"v",function(){return Va}),a.d(f,"w",function(){return Ti}),a.d(f,"x",function(){return Mr}),a.d(f,"y",function(){return nn}),a.d(f,"z",function(){return Zt}),a.d(f,"A",function(){return un}),a.d(f,"B",function(){return Cn}),a.d(f,"C",function(){return Ye}),a.d(f,"D",function(){return Wa}),a.d(f,"E",function(){return lr}),a.d(f,"F",function(){return sr}),a.d(f,"G",function(){return Xa}),a.d(f,"H",function(){return Oi}),a.d(f,"I",function(){return Ci}),a.d(f,"J",function(){return pn}),a.d(f,"K",function(){return we}),a.d(f,"L",function(){return Ft}),a.d(f,"M",function(){return dn});var b=[];Object.freeze(b);var m={};function w(){return++Ne.mobxGuid}function O(v){throw j(!1,v),"X"}function j(v,g){if(!v)throw new Error("[mobx] "+(g||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(m);function S(v){var g=!1;return function(){if(!g)return g=!0,v.apply(this,arguments)}}var P=function(){};function C(v){return v!==null&&typeof v=="object"}function R(v){if(v===null||typeof v!="object")return!1;var g=Object.getPrototypeOf(v);return g===Object.prototype||g===null}function G(v,g,x){Object.defineProperty(v,g,{enumerable:!1,writable:!0,configurable:!0,value:x})}function H(v,g){var x="isMobX"+v;return g.prototype[x]=!0,function(M){return C(M)&&M[x]===!0}}function L(v){return v instanceof Map}function V(v){return v instanceof Set}function Z(v){var g=new Set;for(var x in v)g.add(x);return Object.getOwnPropertySymbols(v).forEach(function(M){Object.getOwnPropertyDescriptor(v,M).enumerable&&g.add(M)}),Array.from(g)}function Y(v){return v&&v.toString?v.toString():new String(v).toString()}function N(v){return v===null?null:typeof v=="object"?""+v:v}var z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:Object.getOwnPropertyNames,k=Symbol("mobx administration"),I=function(){function v(g){g===void 0&&(g="Atom@"+w()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=q.NOT_TRACKING}return v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},v.prototype.reportObserved=function(){return Tn(this)},v.prototype.reportChanged=function(){on(),function(g){g.lowestObserverState!==q.STALE&&(g.lowestObserverState=q.STALE,g.observers.forEach(function(x){x.dependenciesState===q.UP_TO_DATE&&(x.isTracing!==ze.NONE&&cr(x,g),x.onBecomeStale()),x.dependenciesState=q.STALE}))}(this),an()},v.prototype.toString=function(){return this.name},v}(),U=H("Atom",I);function ee(v,g,x){g===void 0&&(g=P),x===void 0&&(x=P);var M,T=new I(v);return g!==P&&Ei("onBecomeObserved",T,g,M),x!==P&&lr(T,x),T}var $={identity:function(v,g){return v===g},structural:function(v,g){return No(v,g)},default:function(v,g){return Object.is(v,g)},shallow:function(v,g){return No(v,g,1)}},ie=function(v,g){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,M){x.__proto__=M}||function(x,M){for(var T in M)M.hasOwnProperty(T)&&(x[T]=M[T])})(v,g)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ve=function(){return(ve=Object.assign||function(v){for(var g,x=1,M=arguments.length;x<M;x++)for(var T in g=arguments[x])Object.prototype.hasOwnProperty.call(g,T)&&(v[T]=g[T]);return v}).apply(this,arguments)};function ge(v){var g=typeof Symbol=="function"&&v[Symbol.iterator],x=0;return g?g.call(v):{next:function(){return v&&x>=v.length&&(v=void 0),{value:v&&v[x++],done:!v}}}}function de(v,g){var x=typeof Symbol=="function"&&v[Symbol.iterator];if(!x)return v;var M,T,F=x.call(v),te=[];try{for(;(g===void 0||g-- >0)&&!(M=F.next()).done;)te.push(M.value)}catch(be){T={error:be}}finally{try{M&&!M.done&&(x=F.return)&&x.call(F)}finally{if(T)throw T.error}}return te}function Ee(){for(var v=[],g=0;g<arguments.length;g++)v=v.concat(de(arguments[g]));return v}var fe=Symbol("mobx did run lazy initializers"),ue=Symbol("mobx pending decorators"),me={},_e={};function Pe(v,g){var x=g?me:_e;return x[v]||(x[v]={configurable:!0,enumerable:g,get:function(){return De(this),this[v]},set:function(M){De(this),this[v]=M}})}function De(v){var g,x;if(v[fe]!==!0){var M=v[ue];if(M){G(v,fe,!0);var T=Ee(Object.getOwnPropertySymbols(M),Object.keys(M));try{for(var F=ge(T),te=F.next();!te.done;te=F.next()){var be=M[te.value];be.propertyCreator(v,be.prop,be.descriptor,be.decoratorTarget,be.decoratorArguments)}}catch(Ae){g={error:Ae}}finally{try{te&&!te.done&&(x=F.return)&&x.call(F)}finally{if(g)throw g.error}}}}}function Le(v,g){return function(){var x,M=function(T,F,te,be){if(be===!0)return g(T,F,te,T,x),null;if(!Object.prototype.hasOwnProperty.call(T,ue)){var Ae=T[ue];G(T,ue,ve({},Ae))}return T[ue][F]={prop:F,propertyCreator:g,descriptor:te,decoratorTarget:T,decoratorArguments:x},Pe(F,v)};return ke(arguments)?(x=b,M.apply(null,arguments)):(x=Array.prototype.slice.call(arguments),M)}}function ke(v){return(v.length===2||v.length===3)&&(typeof v[1]=="string"||typeof v[1]=="symbol")||v.length===4&&v[3]===!0}function Ue(v,g,x){return Mr(v)?v:Array.isArray(v)?Ye.array(v,{name:x}):R(v)?Ye.object(v,void 0,{name:x}):L(v)?Ye.map(v,{name:x}):V(v)?Ye.set(v,{name:x}):v}function at(v){return v}function K(v){j(v);var g=Le(!0,function(M,T,F,te,be){var Ae=F?F.initializer?F.initializer.call(M):F.value:void 0;To(M).addObservableProp(T,Ae,v)}),x=(p!==void 0&&p.env,g);return x.enhancer=v,x}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function oe(v){return v==null?J:typeof v=="string"?{name:v,deep:!0,proxy:!0}:v}Object.freeze(J);var ye=K(Ue),Se=K(function(v,g,x){return v==null||un(v)||nn(v)||Zt(v)||Ht(v)?v:Array.isArray(v)?Ye.array(v,{name:x,deep:!1}):R(v)?Ye.object(v,void 0,{name:x,deep:!1}):L(v)?Ye.map(v,{name:x,deep:!1}):V(v)?Ye.set(v,{name:x,deep:!1}):O(!1)}),Oe=K(at),We=K(function(v,g,x){return No(v,g)?g:v});function He(v){return v.defaultDecorator?v.defaultDecorator.enhancer:v.deep===!1?at:Ue}var $e={box:function(v,g){arguments.length>2&&pe("box");var x=oe(g);return new Wt(v,He(x),x.name,!0,x.equals)},array:function(v,g){arguments.length>2&&pe("array");var x=oe(g);return Ii(v,He(x),x.name)},map:function(v,g){arguments.length>2&&pe("map");var x=oe(g);return new Mo(v,He(x),x.name)},set:function(v,g){arguments.length>2&&pe("set");var x=oe(g);return new qn(v,He(x),x.name)},object:function(v,g,x){typeof arguments[1]=="string"&&pe("object");var M=oe(x);if(M.proxy===!1)return Nn({},v,g,M);var T=ji(M),F=Nn({},void 0,void 0,M),te=Dr(F);return Si(te,v,g,T),te},ref:Oe,shallow:Se,deep:ye,struct:We},Ye=function(v,g,x){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ye.apply(null,arguments);if(Mr(v))return v;var M=R(v)?Ye.object(v,g,x):Array.isArray(v)?Ye.array(v,g):L(v)?Ye.map(v,g):V(v)?Ye.set(v,g):v;if(M!==v)return M;O(!1)};function pe(v){O("Expected one or two arguments to observable."+v+". Did you accidentally try to use observable."+v+" as decorator?")}Object.keys($e).forEach(function(v){return Ye[v]=$e[v]});var q,ze,Ie=Le(!1,function(v,g,x,M,T){var F=x.get,te=x.set,be=T[0]||{};To(v).addComputedProp(v,g,ve({get:F,set:te,context:v},be))}),Ve=Ie({equals:$.structural}),kt=function(v,g,x){if(typeof g=="string"||v!==null&&typeof v=="object"&&arguments.length===1)return Ie.apply(null,arguments);var M=typeof g=="object"?g:{};return M.get=v,M.set=typeof g=="function"?g:M.set,M.name=M.name||v.name||"",new Mn(M)};kt.struct=Ve,function(v){v[v.NOT_TRACKING=-1]="NOT_TRACKING",v[v.UP_TO_DATE=0]="UP_TO_DATE",v[v.POSSIBLY_STALE=1]="POSSIBLY_STALE",v[v.STALE=2]="STALE"}(q||(q={})),function(v){v[v.NONE=0]="NONE",v[v.LOG=1]="LOG",v[v.BREAK=2]="BREAK"}(ze||(ze={}));var rt=function(v){this.cause=v};function st(v){return v instanceof rt}function pt(v){switch(v.dependenciesState){case q.UP_TO_DATE:return!1;case q.NOT_TRACKING:case q.STALE:return!0;case q.POSSIBLY_STALE:for(var g=Qe(!0),x=Ze(),M=v.observing,T=M.length,F=0;F<T;F++){var te=M[F];if(Wn(te)){if(Ne.disableErrorBoundaries)te.get();else try{te.get()}catch(be){return Xe(x),dt(g),!0}if(v.dependenciesState===q.STALE)return Xe(x),dt(g),!0}}return At(v),Xe(x),dt(g),!1}}function Bt(){return Ne.trackingDerivation!==null}function X(v){var g=v.observers.size>0;Ne.computationDepth>0&&g&&O(!1),Ne.allowStateChanges||!g&&Ne.enforceActions!=="strict"||O(!1)}function Q(v,g,x){var M=Qe(!0);At(v),v.newObserving=new Array(v.observing.length+100),v.unboundDepsCount=0,v.runId=++Ne.runId;var T,F=Ne.trackingDerivation;if(Ne.trackingDerivation=v,Ne.disableErrorBoundaries===!0)T=g.call(x);else try{T=g.call(x)}catch(te){T=new rt(te)}return Ne.trackingDerivation=F,function(te){for(var be=te.observing,Ae=te.observing=te.newObserving,tt=q.UP_TO_DATE,et=0,bt=te.unboundDepsCount,ht=0;ht<bt;ht++)(ft=Ae[ht]).diffValue===0&&(ft.diffValue=1,et!==ht&&(Ae[et]=ft),et++),ft.dependenciesState>tt&&(tt=ft.dependenciesState);for(Ae.length=et,te.newObserving=null,bt=be.length;bt--;)(ft=be[bt]).diffValue===0&&bi(ft,te),ft.diffValue=0;for(;et--;){var ft;(ft=Ae[et]).diffValue===1&&(ft.diffValue=0,Ba(ft,te))}tt!==q.UP_TO_DATE&&(te.dependenciesState=tt,te.onBecomeStale())}(v),dt(M),T}function se(v){var g=v.observing;v.observing=[];for(var x=g.length;x--;)bi(g[x],v);v.dependenciesState=q.NOT_TRACKING}function we(v){var g=Ze();try{return v()}finally{Xe(g)}}function Ze(){var v=Ne.trackingDerivation;return Ne.trackingDerivation=null,v}function Xe(v){Ne.trackingDerivation=v}function Qe(v){var g=Ne.allowStateReads;return Ne.allowStateReads=v,g}function dt(v){Ne.allowStateReads=v}function At(v){if(v.dependenciesState!==q.UP_TO_DATE){v.dependenciesState=q.UP_TO_DATE;for(var g=v.observing,x=g.length;x--;)g[x].lowestObserverState=q.UP_TO_DATE}}var Ct=0,Vn=1,kn=Object.getOwnPropertyDescriptor(function(){},"name");kn&&kn.configurable;function gt(v,g,x){var M=function(){return Te(v,g,x||this,arguments)};return M.isMobxAction=!0,M}function Te(v,g,x,M){var T=Ge();try{return g.apply(x,M)}catch(F){throw T.error=F,F}finally{Je(T)}}function Ge(v,g,x){var M=0,T=Ze();on();var F={prevDerivation:T,prevAllowStateChanges:Ot(!0),prevAllowStateReads:Qe(!0),notifySpy:!1,startTime:M,actionId:Vn++,parentActionId:Ct};return Ct=F.actionId,F}function Je(v){Ct!==v.actionId&&O("invalid action stack. did you forget to finish an action?"),Ct=v.parentActionId,v.error!==void 0&&(Ne.suppressReactionErrors=!0),Mt(v.prevAllowStateChanges),dt(v.prevAllowStateReads),an(),Xe(v.prevDerivation),v.notifySpy,Ne.suppressReactionErrors=!1}function lt(v,g){var x,M=Ot(v);try{x=g()}finally{Mt(M)}return x}function Ot(v){var g=Ne.allowStateChanges;return Ne.allowStateChanges=v,g}function Mt(v){Ne.allowStateChanges=v}var Wt=function(v){function g(x,M,T,F,te){T===void 0&&(T="ObservableValue@"+w()),te===void 0&&(te=$.default);var be=v.call(this,T)||this;return be.enhancer=M,be.name=T,be.equals=te,be.hasUnreportedChange=!1,be.value=M(x,void 0,T),be}return function(x,M){function T(){this.constructor=x}ie(x,M),x.prototype=M===null?Object.create(M):(T.prototype=M.prototype,new T)}(g,v),g.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},g.prototype.set=function(x){this.value,(x=this.prepareNewValue(x))!==Ne.UNCHANGED&&this.setNewValue(x)},g.prototype.prepareNewValue=function(x){if(X(this),hn(this)){var M=tn(this,{object:this,type:"update",newValue:x});if(!M)return Ne.UNCHANGED;x=M.newValue}return x=this.enhancer(x,this.value,this.name),this.equals(this.value,x)?Ne.UNCHANGED:x},g.prototype.setNewValue=function(x){var M=this.value;this.value=x,this.reportChanged(),ut(this)&&Kt(this,{type:"update",object:this,newValue:x,oldValue:M})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(x){return Rn(this,x)},g.prototype.observe=function(x,M){return M&&x({object:this,type:"update",newValue:this.value,oldValue:void 0}),Nr(this,x)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return N(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(I),Oo=H("ObservableValue",Wt),Mn=function(){function v(g){this.dependenciesState=q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ze.NONE,j(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+w(),g.set&&(this.setter=gt(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?$.structural:$.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return v.prototype.onBecomeStale=function(){(function(g){g.lowestObserverState===q.UP_TO_DATE&&(g.lowestObserverState=q.POSSIBLY_STALE,g.observers.forEach(function(x){x.dependenciesState===q.UP_TO_DATE&&(x.dependenciesState=q.POSSIBLY_STALE,x.isTracing!==ze.NONE&&cr(x,g),x.onBecomeStale())}))})(this)},v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},v.prototype.get=function(){this.isComputing&&O("Cycle detected in computation "+this.name+": "+this.derivation),Ne.inBatch!==0||this.observers.size!==0||this.keepAlive?(Tn(this),pt(this)&&this.trackAndCompute()&&function(x){x.lowestObserverState!==q.STALE&&(x.lowestObserverState=q.STALE,x.observers.forEach(function(M){M.dependenciesState===q.POSSIBLY_STALE?M.dependenciesState=q.STALE:M.dependenciesState===q.UP_TO_DATE&&(x.lowestObserverState=q.UP_TO_DATE)}))}(this)):pt(this)&&(this.warnAboutUntrackedRead(),on(),this.value=this.computeValue(!1),an());var g=this.value;if(st(g))throw g.cause;return g},v.prototype.peek=function(){var g=this.computeValue(!1);if(st(g))throw g.cause;return g},v.prototype.set=function(g){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else j(!1,!1)},v.prototype.trackAndCompute=function(){var g=this.value,x=this.dependenciesState===q.NOT_TRACKING,M=this.computeValue(!0),T=x||st(g)||st(M)||!this.equals(g,M);return T&&(this.value=M),T},v.prototype.computeValue=function(g){var x;if(this.isComputing=!0,Ne.computationDepth++,g)x=Q(this,this.derivation,this.scope);else if(Ne.disableErrorBoundaries===!0)x=this.derivation.call(this.scope);else try{x=this.derivation.call(this.scope)}catch(M){x=new rt(M)}return Ne.computationDepth--,this.isComputing=!1,x},v.prototype.suspend=function(){this.keepAlive||(se(this),this.value=void 0)},v.prototype.observe=function(g,x){var M=this,T=!0,F=void 0;return Eo(function(){var te=M.get();if(!T||x){var be=Ze();g({type:"update",object:M,newValue:te,oldValue:F}),Xe(be)}T=!1,F=te})},v.prototype.warnAboutUntrackedRead=function(){},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},v.prototype.valueOf=function(){return N(this.get())},v.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},v}(),Wn=H("ComputedValue",Mn),qr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},za={};function _n(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:za}var $r=!0,gi=!1,Ne=function(){var v=_n();return v.__mobxInstanceCount>0&&!v.__mobxGlobals&&($r=!1),v.__mobxGlobals&&v.__mobxGlobals.version!==new qr().version&&($r=!1),$r?v.__mobxGlobals?(v.__mobxInstanceCount+=1,v.__mobxGlobals.UNCHANGED||(v.__mobxGlobals.UNCHANGED={}),v.__mobxGlobals):(v.__mobxInstanceCount=1,v.__mobxGlobals=new qr):(setTimeout(function(){gi||O("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new qr)}();function Ba(v,g){v.observers.add(g),v.lowestObserverState>g.dependenciesState&&(v.lowestObserverState=g.dependenciesState)}function bi(v,g){v.observers.delete(g),v.observers.size===0&&mi(v)}function mi(v){v.isPendingUnobservation===!1&&(v.isPendingUnobservation=!0,Ne.pendingUnobservations.push(v))}function on(){Ne.inBatch++}function an(){if(--Ne.inBatch==0){_i();for(var v=Ne.pendingUnobservations,g=0;g<v.length;g++){var x=v[g];x.isPendingUnobservation=!1,x.observers.size===0&&(x.isBeingObserved&&(x.isBeingObserved=!1,x.onBecomeUnobserved()),x instanceof Mn&&x.suspend())}Ne.pendingUnobservations=[]}}function Tn(v){var g=Ne.trackingDerivation;return g!==null?(g.runId!==v.lastAccessedBy&&(v.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=v,v.isBeingObserved||(v.isBeingObserved=!0,v.onBecomeObserved())),!0):(v.observers.size===0&&Ne.inBatch>0&&mi(v),!1)}function cr(v,g){if(""+v.name+g.name,v.isTracing===ze.BREAK){var x=[];(function M(T,F,te){if(F.length>=1e3)return void F.push("(and many more)");F.push(""+new Array(te).join("	")+T.name),T.dependencies&&T.dependencies.forEach(function(be){return M(be,F,te+1)})})(Ar(v),x,1),new Function(`debugger;
/*
Tracing '`+v.name+`'

You are entering this break point because derivation '`+v.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(v instanceof Mn?v.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+x.join(`
`)+`
*/
    `)()}}var On=function(){function v(g,x,M,T){g===void 0&&(g="Reaction@"+w()),T===void 0&&(T=!1),this.name=g,this.onInvalidate=x,this.errorHandler=M,this.requiresObservable=T,this.observing=[],this.newObserving=[],this.dependenciesState=q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ze.NONE}return v.prototype.onBecomeStale=function(){this.schedule()},v.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ne.pendingReactions.push(this),_i())},v.prototype.isScheduled=function(){return this._isScheduled},v.prototype.runReaction=function(){if(!this.isDisposed){if(on(),this._isScheduled=!1,pt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(g){this.reportExceptionInDerivation(g)}}an()}},v.prototype.track=function(g){if(!this.isDisposed){on(),this._isRunning=!0;var x=Q(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&se(this),st(x)&&this.reportExceptionInDerivation(x.cause),an()}},v.prototype.reportExceptionInDerivation=function(g){var x=this;if(this.errorHandler)this.errorHandler(g,this);else{if(Ne.disableErrorBoundaries)throw g;var M="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ne.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(M,g),Ne.globalReactionErrorHandlers.forEach(function(T){return T(g,x)})}},v.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(on(),se(this),an()))},v.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[k]=this,g},v.prototype.toString=function(){return"Reaction["+this.name+"]"},v.prototype.trace=function(g){g===void 0&&(g=!1),function(){for(var x=[],M=0;M<arguments.length;M++)x[M]=arguments[M];var T=!1;typeof x[x.length-1]=="boolean"&&(T=x.pop());var F=So(x);if(!F)return O(!1);F.isTracing===ze.NONE&&""+F.name,F.isTracing=T?ze.BREAK:ze.LOG}(this,g)},v}(),wo=function(v){return v()};function _i(){Ne.inBatch>0||Ne.isRunningReactions||wo(Fa)}function Fa(){Ne.isRunningReactions=!0;for(var v=Ne.pendingReactions,g=0;v.length>0;){++g==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+v[0]),v.splice(0));for(var x=v.splice(0),M=0,T=x.length;M<T;M++)x[M].runReaction()}Ne.isRunningReactions=!1}var Jr=H("Reaction",On);function Ua(v){var g=wo;wo=function(x){return v(function(){return g(x)})}}function Oi(v){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Ga(){O(!1)}function Kn(v){return function(g,x,M){if(M){if(M.value)return{value:gt(v,M.value),enumerable:!1,configurable:!0,writable:!0};var T=M.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return gt(v,T.call(this))}}}return wi(v).apply(this,arguments)}}function wi(v){return function(g,x,M){Object.defineProperty(g,x,{configurable:!0,enumerable:!1,get:function(){},set:function(T){G(this,x,Dn(v,T))}})}}var Dn=function(v,g,x,M){return arguments.length===1&&typeof v=="function"?gt(v.name||"<unnamed action>",v):arguments.length===2&&typeof g=="function"?gt(v,g):arguments.length===1&&typeof v=="string"?Kn(v):M!==!0?Kn(g).apply(null,arguments):void G(v,g,gt(v.name||g,x.value,this))};function Xa(v,g){return Te(typeof v=="string"?v:v.name||"<unnamed action>",typeof v=="function"?v:g,this,void 0)}function Qr(v){return typeof v=="function"&&v.isMobxAction===!0}function xo(v,g,x){G(v,g,gt(g,x.bind(v)))}function Eo(v,g){g===void 0&&(g=m);var x,M=g&&g.name||v.name||"Autorun@"+w();if(!g.scheduler&&!g.delay)x=new On(M,function(){this.track(te)},g.onError,g.requiresObservable);else{var T=xi(g),F=!1;x=new On(M,function(){F||(F=!0,T(function(){F=!1,x.isDisposed||x.track(te)}))},g.onError,g.requiresObservable)}function te(){v(x)}return x.schedule(),x.getDisposer()}Dn.bound=function(v,g,x,M){return M===!0?(xo(v,g,x.value),null):x?{configurable:!0,enumerable:!1,get:function(){return xo(this,g,x.value||x.initializer.call(this)),this[g]},set:Ga}:{enumerable:!1,configurable:!0,set:function(T){xo(this,g,T)},get:function(){}}};var Ha=function(v){return v()};function xi(v){return v.scheduler?v.scheduler:v.delay?function(g){return setTimeout(g,v.delay)}:Ha}function sr(v,g,x){x===void 0&&(x=m);var M,T,F,te=x.name||"Reaction@"+w(),be=Dn(te,x.onError?(M=x.onError,T=g,function(){try{return T.apply(this,arguments)}catch(mt){M.call(this,mt)}}):g),Ae=!x.scheduler&&!x.delay,tt=xi(x),et=!0,bt=!1,ht=x.compareStructural?$.structural:x.equals||$.default,ft=new On(te,function(){et||Ae?wt():bt||(bt=!0,tt(wt))},x.onError,x.requiresObservable);function wt(){if(bt=!1,!ft.isDisposed){var mt=!1;ft.track(function(){var yt=v(ft);mt=et||!ht(F,yt),F=yt}),et&&x.fireImmediately&&be(F,ft),et||mt!==!0||be(F,ft),et&&(et=!1)}}return ft.schedule(),ft.getDisposer()}function lr(v,g,x){return Ei("onBecomeUnobserved",v,g,x)}function Ei(v,g,x,M){var T=typeof M=="function"?yn(g,x):yn(g),F=typeof M=="function"?M:x,te=v+"Listeners";return T[te]?T[te].add(F):T[te]=new Set([F]),typeof T[v]!="function"?O(!1):function(){var be=T[te];be&&(be.delete(F),be.size===0&&delete T[te])}}function fr(v){var g=v.enforceActions,x=v.computedRequiresReaction,M=v.computedConfigurable,T=v.disableErrorBoundaries,F=v.reactionScheduler,te=v.reactionRequiresObservable,be=v.observableRequiresReaction;if(v.isolateGlobalState===!0&&((Ne.pendingReactions.length||Ne.inBatch||Ne.isRunningReactions)&&O("isolateGlobalState should be called before MobX is running any reactions"),gi=!0,$r&&(--_n().__mobxInstanceCount==0&&(_n().__mobxGlobals=void 0),Ne=new qr)),g!==void 0){var Ae=void 0;switch(g){case!0:case"observed":Ae=!0;break;case!1:case"never":Ae=!1;break;case"strict":case"always":Ae="strict";break;default:O("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}Ne.enforceActions=Ae,Ne.allowStateChanges=Ae!==!0&&Ae!=="strict"}x!==void 0&&(Ne.computedRequiresReaction=!!x),te!==void 0&&(Ne.reactionRequiresObservable=!!te),be!==void 0&&(Ne.observableRequiresReaction=!!be,Ne.allowStateReads=!Ne.observableRequiresReaction),M!==void 0&&(Ne.computedConfigurable=!!M),T!==void 0&&(T===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ne.disableErrorBoundaries=!!T),F&&Ua(F)}function Nn(v,g,x,M){var T=ji(M=oe(M));return De(v),To(v,M.name,T.enhancer),g&&Si(v,g,x,T),v}function ji(v){return v.defaultDecorator||(v.deep===!1?Oe:ye)}function Si(v,g,x,M){var T,F;on();try{var te=z(g);try{for(var be=ge(te),Ae=be.next();!Ae.done;Ae=be.next()){var tt=Ae.value,et=Object.getOwnPropertyDescriptor(g,tt),bt=(x&&tt in x?x[tt]:et.get?Ie:M)(v,tt,et,!0);bt&&Object.defineProperty(v,tt,bt)}}catch(ht){T={error:ht}}finally{try{Ae&&!Ae.done&&(F=be.return)&&F.call(be)}finally{if(T)throw T.error}}}finally{an()}}function Ar(v,g){return Pi(yn(v,g))}function Pi(v){var g,x,M={name:v.name};return v.observing&&v.observing.length>0&&(M.dependencies=(g=v.observing,x=[],g.forEach(function(T){x.indexOf(T)===-1&&x.push(T)}),x).map(Pi)),M}var Ya=0;function Ai(){this.message="FLOW_CANCELLED"}function ki(v){arguments.length!==1&&O("Flow expects 1 argument and cannot be used as decorator");var g=v.name||"<unnamed flow>";return function(){var x,M=this,T=arguments,F=++Ya,te=Dn(g+" - runid: "+F+" - init",v).apply(M,T),be=void 0,Ae=new Promise(function(tt,et){var bt=0;function ht(mt){var yt;be=void 0;try{yt=Dn(g+" - runid: "+F+" - yield "+bt++,te.next).call(te,mt)}catch(xn){return et(xn)}wt(yt)}function ft(mt){var yt;be=void 0;try{yt=Dn(g+" - runid: "+F+" - yield "+bt++,te.throw).call(te,mt)}catch(xn){return et(xn)}wt(yt)}function wt(mt){if(!mt||typeof mt.then!="function")return mt.done?tt(mt.value):(be=Promise.resolve(mt.value)).then(ht,ft);mt.then(wt,et)}x=et,ht(void 0)});return Ae.cancel=Dn(g+" - runid: "+F+" - cancel",function(){try{be&&kr(be);var tt=te.return(void 0),et=Promise.resolve(tt.value);et.then(P,P),kr(et),x(new Ai)}catch(bt){x(bt)}}),Ae}}function kr(v){typeof v.cancel=="function"&&v.cancel()}function Mi(v,g){if(v==null)return!1;if(g!==void 0){if(un(v)===!1||!v[k].values.has(g))return!1;var x=yn(v,g);return Wn(x)}return Wn(v)}function Va(v){return arguments.length>1?O(!1):Mi(v)}function Ti(v,g){return typeof g!="string"?O(!1):Mi(v,g)}function jo(v,g){return v!=null&&(g!==void 0?!!un(v)&&v[k].values.has(g):un(v)||!!v[k]||U(v)||Jr(v)||Wn(v))}function Mr(v){return arguments.length!==1&&O(!1),jo(v)}function Cn(v){return un(v)?v[k].getKeys():Zt(v)||Ht(v)?Array.from(v.keys()):nn(v)?v.map(function(g,x){return x}):O(!1)}function Ft(v){return un(v)?Cn(v).map(function(g){return v[g]}):Zt(v)?Cn(v).map(function(g){return v.get(g)}):Ht(v)?Array.from(v.values()):nn(v)?v.slice():O(!1)}function Di(v){return un(v)?Cn(v).map(function(g){return[g,v[g]]}):Zt(v)?Cn(v).map(function(g){return[g,v.get(g)]}):Ht(v)?Array.from(v.entries()):nn(v)?v.map(function(g,x){return[x,g]}):O(!1)}function Wa(v,g,x,M){return typeof x=="function"?function(T,F,te,be){return Cr(T,F).observe(te,be)}(v,g,x,M):function(T,F,te){return Cr(T).observe(F,te)}(v,g,x)}Ai.prototype=Object.create(Error.prototype);var Ni={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function pr(v,g,x,M){return M.detectCycles&&v.set(g,x),x}function Ci(v,g){var x;return typeof g=="boolean"&&(g={detectCycles:g}),g||(g=Ni),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0,g.detectCycles&&(x=new Map),function M(T,F,te){if(!F.recurseEverything&&!Mr(T)||typeof T!="object")return T;if(T===null)return null;if(T instanceof Date)return T;if(Oo(T))return M(T.get(),F,te);if(Mr(T)&&Cn(T),F.detectCycles===!0&&T!==null&&te.has(T))return te.get(T);if(nn(T)||Array.isArray(T)){var be=pr(te,T,[],F),Ae=T.map(function(yt){return M(yt,F,te)});be.length=Ae.length;for(var tt=0,et=Ae.length;tt<et;tt++)be[tt]=Ae[tt];return be}if(Ht(T)||Object.getPrototypeOf(T)===Set.prototype){if(F.exportMapsAsObjects===!1){var bt=pr(te,T,new Set,F);return T.forEach(function(yt){bt.add(M(yt,F,te))}),bt}var ht=pr(te,T,[],F);return T.forEach(function(yt){ht.push(M(yt,F,te))}),ht}if(Zt(T)||Object.getPrototypeOf(T)===Map.prototype){if(F.exportMapsAsObjects===!1){var ft=pr(te,T,new Map,F);return T.forEach(function(yt,xn){ft.set(xn,M(yt,F,te))}),ft}var wt=pr(te,T,{},F);return T.forEach(function(yt,xn){wt[xn]=M(yt,F,te)}),wt}var mt=pr(te,T,{},F);return Z(T).forEach(function(yt){mt[yt]=M(T[yt],F,te)}),mt}(v,g,x)}function So(v){switch(v.length){case 0:return Ne.trackingDerivation;case 1:return yn(v[0]);case 2:return yn(v[0],v[1])}}function pn(v,g){g===void 0&&(g=void 0),on();try{return v.apply(g)}finally{an()}}function dn(v,g,x){return arguments.length===1||g&&typeof g=="object"?Ri(v,g):Po(v,g,x||{})}function Po(v,g,x){var M;typeof x.timeout=="number"&&(M=setTimeout(function(){if(!F[k].isDisposed){F();var te=new Error("WHEN_TIMEOUT");if(!x.onError)throw te;x.onError(te)}},x.timeout)),x.name=x.name||"When@"+w();var T=gt(x.name+"-effect",g),F=Eo(function(te){v()&&(te.dispose(),M&&clearTimeout(M),T())},x);return F}function Ri(v,g){var x,M=new Promise(function(T,F){var te=Po(v,T,ve(ve({},g),{onError:F}));x=function(){te(),F("WHEN_CANCELLED")}});return M.cancel=x,M}function eo(v){return v[k]}function to(v){return typeof v=="string"||typeof v=="number"||typeof v=="symbol"}var Tr={has:function(v,g){if(g===k||g==="constructor"||g===fe)return!0;var x=eo(v);return to(g)?x.has(g):g in v},get:function(v,g){if(g===k||g==="constructor"||g===fe)return v[g];var x=eo(v),M=x.values.get(g);if(M instanceof I){var T=M.get();return T===void 0&&x.has(g),T}return to(g)&&x.has(g),v[g]},set:function(v,g,x){return!!to(g)&&(function M(T,F,te){if(arguments.length!==2||Ht(T))if(un(T)){var be=T[k],Ae=be.values.get(F);Ae?be.write(F,te):be.addObservableProp(F,te,be.defaultEnhancer)}else if(Zt(T))T.set(F,te);else if(Ht(T))T.add(F);else{if(!nn(T))return O(!1);typeof F!="number"&&(F=parseInt(F,10)),j(F>=0,"Not a valid index: '"+F+"'"),on(),F>=T.length&&(T.length=F+1),T[F]=te,an()}else{on();var tt=F;try{for(var et in tt)M(T,et,tt[et])}finally{an()}}}(v,g,x),!0)},deleteProperty:function(v,g){return!!to(g)&&(eo(v).remove(g),!0)},ownKeys:function(v){return eo(v).keysAtom.reportObserved(),Reflect.ownKeys(v)},preventExtensions:function(v){return O("Dynamic observable objects cannot be frozen"),!1}};function Dr(v){var g=new Proxy(v,Tr);return v[k].proxy=g,g}function hn(v){return v.interceptors!==void 0&&v.interceptors.length>0}function Rn(v,g){var x=v.interceptors||(v.interceptors=[]);return x.push(g),S(function(){var M=x.indexOf(g);M!==-1&&x.splice(M,1)})}function tn(v,g){var x=Ze();try{for(var M=Ee(v.interceptors||[]),T=0,F=M.length;T<F&&(j(!(g=M[T](g))||g.type,"Intercept handlers should return nothing or a change object"),g);T++);return g}finally{Xe(x)}}function ut(v){return v.changeListeners!==void 0&&v.changeListeners.length>0}function Nr(v,g){var x=v.changeListeners||(v.changeListeners=[]);return x.push(g),S(function(){var M=x.indexOf(g);M!==-1&&x.splice(M,1)})}function Kt(v,g){var x=Ze(),M=v.changeListeners;if(M){for(var T=0,F=(M=M.slice()).length;T<F;T++)M[T](g);Xe(x)}}var dr={get:function(v,g){return g===k?v[k]:g==="length"?v[k].getArrayLength():typeof g=="number"?wn.get.call(v,g):typeof g!="string"||isNaN(g)?wn.hasOwnProperty(g)?wn[g]:v[g]:wn.get.call(v,parseInt(g))},set:function(v,g,x){return g==="length"&&v[k].setArrayLength(x),typeof g=="number"&&wn.set.call(v,g,x),typeof g=="symbol"||isNaN(g)?v[g]=x:wn.set.call(v,parseInt(g),x),!0},preventExtensions:function(v){return O("Observable arrays cannot be frozen"),!1}};function Ii(v,g,x,M){x===void 0&&(x="ObservableArray@"+w()),M===void 0&&(M=!1);var T,F,te,be=new no(x,g,M);T=be.values,F=k,te=be,Object.defineProperty(T,F,{enumerable:!1,writable:!1,configurable:!0,value:te});var Ae=new Proxy(be.values,dr);if(be.proxy=Ae,v&&v.length){var tt=Ot(!0);be.spliceWithArray(0,0,v),Mt(tt)}return Ae}var no=function(){function v(g,x,M){this.owned=M,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new I(g||"ObservableArray@"+w()),this.enhancer=function(T,F){return x(T,F,g+"[..]")}}return v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},v.prototype.intercept=function(g){return Rn(this,g)},v.prototype.observe=function(g,x){return x===void 0&&(x=!1),x&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Nr(this,g)},v.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},v.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var x=this.values.length;if(g!==x)if(g>x){for(var M=new Array(g-x),T=0;T<g-x;T++)M[T]=void 0;this.spliceWithArray(x,0,M)}else this.spliceWithArray(g,x-g)},v.prototype.updateArrayLength=function(g,x){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=x},v.prototype.spliceWithArray=function(g,x,M){var T=this;X(this.atom);var F=this.values.length;if(g===void 0?g=0:g>F?g=F:g<0&&(g=Math.max(0,F+g)),x=arguments.length===1?F-g:x==null?0:Math.max(0,Math.min(x,F-g)),M===void 0&&(M=b),hn(this)){var te=tn(this,{object:this.proxy,type:"splice",index:g,removedCount:x,added:M});if(!te)return b;x=te.removedCount,M=te.added}M=M.length===0?M:M.map(function(Ae){return T.enhancer(Ae,void 0)});var be=this.spliceItemsIntoValues(g,x,M);return x===0&&M.length===0||this.notifyArraySplice(g,M,be),this.dehanceValues(be)},v.prototype.spliceItemsIntoValues=function(g,x,M){var T;if(M.length<1e4)return(T=this.values).splice.apply(T,Ee([g,x],M));var F=this.values.slice(g,g+x);return this.values=this.values.slice(0,g).concat(M,this.values.slice(g+x)),F},v.prototype.notifyArrayChildUpdate=function(g,x,M){var T=!this.owned&&!1,F=ut(this),te=F||T?{object:this.proxy,type:"update",index:g,newValue:x,oldValue:M}:null;this.atom.reportChanged(),F&&Kt(this,te)},v.prototype.notifyArraySplice=function(g,x,M){var T=!this.owned&&!1,F=ut(this),te=F||T?{object:this.proxy,type:"splice",index:g,removed:M,added:x,removedCount:M.length,addedCount:x.length}:null;this.atom.reportChanged(),F&&Kt(this,te)},v}(),wn={intercept:function(v){return this[k].intercept(v)},observe:function(v,g){return g===void 0&&(g=!1),this[k].observe(v,g)},clear:function(){return this.splice(0)},replace:function(v){var g=this[k];return g.spliceWithArray(0,g.values.length,v)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(v,g){for(var x=[],M=2;M<arguments.length;M++)x[M-2]=arguments[M];var T=this[k];switch(arguments.length){case 0:return[];case 1:return T.spliceWithArray(v);case 2:return T.spliceWithArray(v,g)}return T.spliceWithArray(v,g,x)},spliceWithArray:function(v,g,x){return this[k].spliceWithArray(v,g,x)},push:function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var x=this[k];return x.spliceWithArray(x.values.length,0,v),x.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var x=this[k];return x.spliceWithArray(0,0,v),x.values.length},reverse:function(){var v=this.slice();return v.reverse.apply(v,arguments)},sort:function(v){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(v){var g=this[k],x=g.dehanceValues(g.values).indexOf(v);return x>-1&&(this.splice(x,1),!0)},get:function(v){var g=this[k];if(g){if(v<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[v]);console.warn("[mobx.array] Attempt to read an array index ("+v+") that is out of bounds ("+g.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(v,g){var x=this[k],M=x.values;if(v<M.length){X(x.atom);var T=M[v];if(hn(x)){var F=tn(x,{type:"update",object:x.proxy,index:v,newValue:g});if(!F)return;g=F.newValue}(g=x.enhancer(g,T))!==T&&(M[v]=g,x.notifyArrayChildUpdate(v,g,T))}else{if(v!==M.length)throw new Error("[mobx.array] Index out of bounds, "+v+" is larger than "+M.length);x.spliceWithArray(v,0,[g])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(v){typeof Array.prototype[v]=="function"&&(wn[v]=function(){var g=this[k];g.atom.reportObserved();var x=g.dehanceValues(g.values);return x[v].apply(x,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(v){typeof Array.prototype[v]=="function"&&(wn[v]=function(g,x){var M=this,T=this[k];return T.atom.reportObserved(),T.dehanceValues(T.values)[v](function(F,te){return g.call(x,F,te,M)},x)})}),["reduce","reduceRight"].forEach(function(v){wn[v]=function(){var g=this,x=this[k];x.atom.reportObserved();var M=arguments[0];return arguments[0]=function(T,F,te){return F=x.dehanceValue(F),M(T,F,te,g)},x.values[v].apply(x.values,arguments)}});var Ao,Ka=H("ObservableArrayAdministration",no);function nn(v){return C(v)&&Ka(v[k])}var ko,Za={},Mo=function(){function v(g,x,M){if(x===void 0&&(x=Ue),M===void 0&&(M="ObservableMap@"+w()),this.enhancer=x,this.name=M,this[Ao]=Za,this._keysAtom=ee(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return v.prototype._has=function(g){return this._data.has(g)},v.prototype.has=function(g){var x=this;if(!Ne.trackingDerivation)return this._has(g);var M=this._hasMap.get(g);if(!M){var T=M=new Wt(this._has(g),at,this.name+"."+Y(g)+"?",!1);this._hasMap.set(g,T),lr(T,function(){return x._hasMap.delete(g)})}return M.get()},v.prototype.set=function(g,x){var M=this._has(g);if(hn(this)){var T=tn(this,{type:M?"update":"add",object:this,newValue:x,name:g});if(!T)return this;x=T.newValue}return M?this._updateValue(g,x):this._addValue(g,x),this},v.prototype.delete=function(g){var x=this;if(X(this._keysAtom),hn(this)&&!(T=tn(this,{type:"delete",object:this,name:g})))return!1;if(this._has(g)){var M=ut(this),T=M?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return pn(function(){x._keysAtom.reportChanged(),x._updateHasMapEntry(g,!1),x._data.get(g).setNewValue(void 0),x._data.delete(g)}),M&&Kt(this,T),!0}return!1},v.prototype._updateHasMapEntry=function(g,x){var M=this._hasMap.get(g);M&&M.setNewValue(x)},v.prototype._updateValue=function(g,x){var M=this._data.get(g);if((x=M.prepareNewValue(x))!==Ne.UNCHANGED){var T=ut(this),F=T?{type:"update",object:this,oldValue:M.value,name:g,newValue:x}:null;M.setNewValue(x),T&&Kt(this,F)}},v.prototype._addValue=function(g,x){var M=this;X(this._keysAtom),pn(function(){var te=new Wt(x,M.enhancer,M.name+"."+Y(g),!1);M._data.set(g,te),x=te.value,M._updateHasMapEntry(g,!0),M._keysAtom.reportChanged()});var T=ut(this),F=T?{type:"add",object:this,name:g,newValue:x}:null;T&&Kt(this,F)},v.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},v.prototype.values=function(){var g=this,x=this.keys();return Ir({next:function(){var M=x.next(),T=M.done,F=M.value;return{done:T,value:T?void 0:g.get(F)}}})},v.prototype.entries=function(){var g=this,x=this.keys();return Ir({next:function(){var M=x.next(),T=M.done,F=M.value;return{done:T,value:T?void 0:[F,g.get(F)]}}})},v.prototype[Ao=k,Symbol.iterator]=function(){return this.entries()},v.prototype.forEach=function(g,x){var M,T;try{for(var F=ge(this),te=F.next();!te.done;te=F.next()){var be=de(te.value,2),Ae=be[0],tt=be[1];g.call(x,tt,Ae,this)}}catch(et){M={error:et}}finally{try{te&&!te.done&&(T=F.return)&&T.call(F)}finally{if(M)throw M.error}}},v.prototype.merge=function(g){var x=this;return Zt(g)&&(g=g.toJS()),pn(function(){var M=Ot(!0);try{R(g)?Z(g).forEach(function(T){return x.set(T,g[T])}):Array.isArray(g)?g.forEach(function(T){var F=de(T,2),te=F[0],be=F[1];return x.set(te,be)}):L(g)?(g.constructor!==Map&&O("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(T,F){return x.set(F,T)})):g!=null&&O("Cannot initialize map from "+g)}finally{Mt(M)}}),this},v.prototype.clear=function(){var g=this;pn(function(){we(function(){var x,M;try{for(var T=ge(g.keys()),F=T.next();!F.done;F=T.next()){var te=F.value;g.delete(te)}}catch(be){x={error:be}}finally{try{F&&!F.done&&(M=T.return)&&M.call(T)}finally{if(x)throw x.error}}})})},v.prototype.replace=function(g){var x=this;return pn(function(){var M,T,F,te,be=function(qt){if(L(qt)||Zt(qt))return qt;if(Array.isArray(qt))return new Map(qt);if(R(qt)){var Bi=new Map;for(var Ro in qt)Bi.set(Ro,qt[Ro]);return Bi}return O("Cannot convert to map from '"+qt+"'")}(g),Ae=new Map,tt=!1;try{for(var et=ge(x._data.keys()),bt=et.next();!bt.done;bt=et.next()){var ht=bt.value;if(!be.has(ht))if(x.delete(ht))tt=!0;else{var ft=x._data.get(ht);Ae.set(ht,ft)}}}catch(qt){M={error:qt}}finally{try{bt&&!bt.done&&(T=et.return)&&T.call(et)}finally{if(M)throw M.error}}try{for(var wt=ge(be.entries()),mt=wt.next();!mt.done;mt=wt.next()){var yt=de(mt.value,2),xn=(ht=yt[0],ft=yt[1],x._data.has(ht));if(x.set(ht,ft),x._data.has(ht)){var $a=x._data.get(ht);Ae.set(ht,$a),xn||(tt=!0)}}}catch(qt){F={error:qt}}finally{try{mt&&!mt.done&&(te=wt.return)&&te.call(wt)}finally{if(F)throw F.error}}if(!tt)if(x._data.size!==Ae.size)x._keysAtom.reportChanged();else for(var Lr=x._data.keys(),hr=Ae.keys(),zr=Lr.next(),Co=hr.next();!zr.done;){if(zr.value!==Co.value){x._keysAtom.reportChanged();break}zr=Lr.next(),Co=hr.next()}x._data=Ae}),this},Object.defineProperty(v.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.toPOJO=function(){var g,x,M={};try{for(var T=ge(this),F=T.next();!F.done;F=T.next()){var te=de(F.value,2),be=te[0],Ae=te[1];M[typeof be=="symbol"?be:Y(be)]=Ae}}catch(tt){g={error:tt}}finally{try{F&&!F.done&&(x=T.return)&&x.call(T)}finally{if(g)throw g.error}}return M},v.prototype.toJS=function(){return new Map(this)},v.prototype.toJSON=function(){return this.toPOJO()},v.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(x){return Y(x)+": "+g.get(x)}).join(", ")+" }]"},v.prototype.observe=function(g,x){return Nr(this,g)},v.prototype.intercept=function(g){return Rn(this,g)},v}(),Zt=H("ObservableMap",Mo),Zn={},qn=function(){function v(g,x,M){if(x===void 0&&(x=Ue),M===void 0&&(M="ObservableSet@"+w()),this.name=M,this[ko]=Zn,this._data=new Set,this._atom=ee(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(T,F){return x(T,F,M)},g&&this.replace(g)}return v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.clear=function(){var g=this;pn(function(){we(function(){var x,M;try{for(var T=ge(g._data.values()),F=T.next();!F.done;F=T.next()){var te=F.value;g.delete(te)}}catch(be){x={error:be}}finally{try{F&&!F.done&&(M=T.return)&&M.call(T)}finally{if(x)throw x.error}}})})},v.prototype.forEach=function(g,x){var M,T;try{for(var F=ge(this),te=F.next();!te.done;te=F.next()){var be=te.value;g.call(x,be,be,this)}}catch(Ae){M={error:Ae}}finally{try{te&&!te.done&&(T=F.return)&&T.call(F)}finally{if(M)throw M.error}}},Object.defineProperty(v.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.add=function(g){var x=this;if(X(this._atom),hn(this)&&!(T=tn(this,{type:"add",object:this,newValue:g})))return this;if(!this.has(g)){pn(function(){x._data.add(x.enhancer(g,void 0)),x._atom.reportChanged()});var M=ut(this),T=M?{type:"add",object:this,newValue:g}:null;M&&Kt(this,T)}return this},v.prototype.delete=function(g){var x=this;if(hn(this)&&!(T=tn(this,{type:"delete",object:this,oldValue:g})))return!1;if(this.has(g)){var M=ut(this),T=M?{type:"delete",object:this,oldValue:g}:null;return pn(function(){x._atom.reportChanged(),x._data.delete(g)}),M&&Kt(this,T),!0}return!1},v.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},v.prototype.entries=function(){var g=0,x=Array.from(this.keys()),M=Array.from(this.values());return Ir({next:function(){var T=g;return g+=1,T<M.length?{value:[x[T],M[T]],done:!1}:{done:!0}}})},v.prototype.keys=function(){return this.values()},v.prototype.values=function(){this._atom.reportObserved();var g=this,x=0,M=Array.from(this._data.values());return Ir({next:function(){return x<M.length?{value:g.dehanceValue(M[x++]),done:!1}:{done:!0}}})},v.prototype.replace=function(g){var x=this;return Ht(g)&&(g=g.toJS()),pn(function(){var M=Ot(!0);try{Array.isArray(g)||V(g)?(x.clear(),g.forEach(function(T){return x.add(T)})):g!=null&&O("Cannot initialize set from "+g)}finally{Mt(M)}}),this},v.prototype.observe=function(g,x){return Nr(this,g)},v.prototype.intercept=function(g){return Rn(this,g)},v.prototype.toJS=function(){return new Set(this)},v.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},v.prototype[ko=k,Symbol.iterator]=function(){return this.values()},v}(),Ht=H("ObservableSet",qn),Li=function(){function v(g,x,M,T){x===void 0&&(x=new Map),this.target=g,this.values=x,this.name=M,this.defaultEnhancer=T,this.keysAtom=new I(M+".keys")}return v.prototype.read=function(g){return this.values.get(g).get()},v.prototype.write=function(g,x){var M=this.target,T=this.values.get(g);if(T instanceof Mn)T.set(x);else{if(hn(this)){if(!(te=tn(this,{type:"update",object:this.proxy||M,name:g,newValue:x})))return;x=te.newValue}if((x=T.prepareNewValue(x))!==Ne.UNCHANGED){var F=ut(this),te=F?{type:"update",object:this.proxy||M,oldValue:T.value,name:g,newValue:x}:null;T.setNewValue(x),F&&Kt(this,te)}}},v.prototype.has=function(g){var x=this.pendingKeys||(this.pendingKeys=new Map),M=x.get(g);if(M)return M.get();var T=!!this.values.get(g);return M=new Wt(T,at,this.name+"."+Y(g)+"?",!1),x.set(g,M),M.get()},v.prototype.addObservableProp=function(g,x,M){M===void 0&&(M=this.defaultEnhancer);var T=this.target;if(hn(this)){var F=tn(this,{object:this.proxy||T,name:g,type:"add",newValue:x});if(!F)return;x=F.newValue}var te=new Wt(x,M,this.name+"."+Y(g),!1);this.values.set(g,te),x=te.value,Object.defineProperty(T,g,function(be){return ro[be]||(ro[be]={configurable:!0,enumerable:!0,get:function(){return this[k].read(be)},set:function(Ae){this[k].write(be,Ae)}})}(g)),this.notifyPropertyAddition(g,x)},v.prototype.addComputedProp=function(g,x,M){var T,F,te,be=this.target;M.name=M.name||this.name+"."+Y(x),this.values.set(x,new Mn(M)),(g===be||(T=g,F=x,!(te=Object.getOwnPropertyDescriptor(T,F))||te.configurable!==!1&&te.writable!==!1))&&Object.defineProperty(g,x,function(Ae){return oo[Ae]||(oo[Ae]={configurable:Ne.computedConfigurable,enumerable:!1,get:function(){return io(this).read(Ae)},set:function(tt){io(this).write(Ae,tt)}})}(x))},v.prototype.remove=function(g){if(this.values.has(g)){var x=this.target;if(hn(this)&&!(be=tn(this,{object:this.proxy||x,name:g,type:"remove"})))return;try{on();var M=ut(this),T=this.values.get(g),F=T&&T.get();if(T&&T.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var te=this.pendingKeys.get(g);te&&te.set(!1)}delete this.target[g];var be=M?{type:"remove",object:this.proxy||x,oldValue:F,name:g}:null;M&&Kt(this,be)}finally{an()}}},v.prototype.illegalAccess=function(g,x){console.warn("Property '"+x+"' of '"+g+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},v.prototype.observe=function(g,x){return Nr(this,g)},v.prototype.intercept=function(g){return Rn(this,g)},v.prototype.notifyPropertyAddition=function(g,x){var M=ut(this),T=M?{type:"add",object:this.proxy||this.target,name:g,newValue:x}:null;if(M&&Kt(this,T),this.pendingKeys){var F=this.pendingKeys.get(g);F&&F.set(!0)}this.keysAtom.reportChanged()},v.prototype.getKeys=function(){var g,x;this.keysAtom.reportObserved();var M=[];try{for(var T=ge(this.values),F=T.next();!F.done;F=T.next()){var te=de(F.value,2),be=te[0];te[1]instanceof Wt&&M.push(be)}}catch(Ae){g={error:Ae}}finally{try{F&&!F.done&&(x=T.return)&&x.call(T)}finally{if(g)throw g.error}}return M},v}();function To(v,g,x){if(g===void 0&&(g=""),x===void 0&&(x=Ue),Object.prototype.hasOwnProperty.call(v,k))return v[k];R(v)||(g=(v.constructor.name||"ObservableObject")+"@"+w()),g||(g="ObservableObject@"+w());var M=new Li(v,new Map,Y(g),x);return G(v,k,M),M}var ro=Object.create(null),oo=Object.create(null);function io(v){var g=v[k];return g||(De(v),v[k])}var Do=H("ObservableObjectAdministration",Li);function un(v){return!!C(v)&&(De(v),Do(v[k]))}function yn(v,g){if(typeof v=="object"&&v!==null){if(nn(v))return g!==void 0&&O(!1),v[k].atom;if(Ht(v))return v[k];if(Zt(v)){var x=v;return g===void 0?x._keysAtom:((M=x._data.get(g)||x._hasMap.get(g))||O(!1),M)}var M;if(De(v),g&&!v[k]&&v[g],un(v))return g?((M=v[k].values.get(g))||O(!1),M):O(!1);if(U(v)||Wn(v)||Jr(v))return v}else if(typeof v=="function"&&Jr(v[k]))return v[k];return O(!1)}function Cr(v,g){return v||O("Expecting some object"),g!==void 0?Cr(yn(v,g)):U(v)||Wn(v)||Jr(v)||Zt(v)||Ht(v)?v:(De(v),v[k]?v[k]:void O(!1))}var zi=Object.prototype.toString;function No(v,g,x){return x===void 0&&(x=-1),function M(T,F,te,be,Ae){if(T===F)return T!==0||1/T==1/F;if(T==null||F==null)return!1;if(T!=T)return F!=F;var tt=typeof T;if(tt!=="function"&&tt!=="object"&&typeof F!="object")return!1;var et=zi.call(T);if(et!==zi.call(F))return!1;switch(et){case"[object RegExp]":case"[object String]":return""+T==""+F;case"[object Number]":return+T!=+T?+F!=+F:+T==0?1/+T==1/F:+T==+F;case"[object Date]":case"[object Boolean]":return+T==+F;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(T)===Symbol.valueOf.call(F);case"[object Map]":case"[object Set]":te>=0&&te++}T=In(T),F=In(F);var bt=et==="[object Array]";if(!bt){if(typeof T!="object"||typeof F!="object")return!1;var ht=T.constructor,ft=F.constructor;if(ht!==ft&&!(typeof ht=="function"&&ht instanceof ht&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in T&&"constructor"in F)return!1}if(te===0)return!1;te<0&&(te=-1),Ae=Ae||[];for(var wt=(be=be||[]).length;wt--;)if(be[wt]===T)return Ae[wt]===F;if(be.push(T),Ae.push(F),bt){if((wt=T.length)!==F.length)return!1;for(;wt--;)if(!M(T[wt],F[wt],te-1,be,Ae))return!1}else{var mt=Object.keys(T),yt=void 0;if(wt=mt.length,Object.keys(F).length!==wt)return!1;for(;wt--;)if(yt=mt[wt],!Rr(F,yt)||!M(T[yt],F[yt],te-1,be,Ae))return!1}return be.pop(),Ae.pop(),!0}(v,g,x)}function In(v){return nn(v)?v.slice():L(v)||Zt(v)||V(v)||Ht(v)?Array.from(v.entries()):v}function Rr(v,g){return Object.prototype.hasOwnProperty.call(v,g)}function Ir(v){return v[Symbol.iterator]=qa,v}function qa(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Oi,extras:{getDebugName:function(v,g){return(g!==void 0?yn(v,g):un(v)||Zt(v)||Ht(v)?Cr(v):yn(v)).name}},$mobx:k})}).call(this,a(151),a(74))},function(c,f,a){a.d(f,"a",function(){return Y}),a.d(f,"b",function(){return Z}),a.d(f,"c",function(){return Ue}),a.d(f,"d",function(){return at}),a.d(f,"e",function(){return H}),a.d(f,"f",function(){return V}),a.d(f,"g",function(){return H}),a.d(f,"h",function(){return ke}),a.d(f,"i",function(){return s}),a.d(f,"j",function(){return Le}),a.d(f,"k",function(){return $});var p,s,b,m,w,O,j,S={},P=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(K,J){for(var oe in J)K[oe]=J[oe];return K}function G(K){var J=K.parentNode;J&&J.removeChild(K)}function H(K,J,oe){var ye,Se,Oe,We={};for(Oe in J)Oe=="key"?ye=J[Oe]:Oe=="ref"?Se=J[Oe]:We[Oe]=J[Oe];if(arguments.length>2&&(We.children=arguments.length>3?p.call(arguments,2):oe),typeof K=="function"&&K.defaultProps!=null)for(Oe in K.defaultProps)We[Oe]===void 0&&(We[Oe]=K.defaultProps[Oe]);return L(K,We,ye,Se,null)}function L(K,J,oe,ye,Se){var Oe={type:K,props:J,key:oe,ref:ye,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Se==null?++b:Se};return Se==null&&s.vnode!=null&&s.vnode(Oe),Oe}function V(){return{current:null}}function Z(K){return K.children}function Y(K,J){this.props=K,this.context=J}function N(K,J){if(J==null)return K.__?N(K.__,K.__.__k.indexOf(K)+1):null;for(var oe;J<K.__k.length;J++)if((oe=K.__k[J])!=null&&oe.__e!=null)return oe.__e;return typeof K.type=="function"?N(K):null}function z(K){var J,oe;if((K=K.__)!=null&&K.__c!=null){for(K.__e=K.__c.base=null,J=0;J<K.__k.length;J++)if((oe=K.__k[J])!=null&&oe.__e!=null){K.__e=K.__c.base=oe.__e;break}return z(K)}}function k(K){(!K.__d&&(K.__d=!0)&&m.push(K)&&!I.__r++||O!==s.debounceRendering)&&((O=s.debounceRendering)||w)(I)}function I(){for(var K;I.__r=m.length;)K=m.sort(function(J,oe){return J.__v.__b-oe.__v.__b}),m=[],K.some(function(J){var oe,ye,Se,Oe,We,He;J.__d&&(We=(Oe=(oe=J).__v).__e,(He=oe.__P)&&(ye=[],(Se=R({},Oe)).__v=Oe.__v+1,fe(He,Oe,Se,oe.__n,He.ownerSVGElement!==void 0,Oe.__h!=null?[We]:null,ye,We==null?N(Oe):We,Oe.__h),ue(ye,Oe),Oe.__e!=We&&z(Oe)))})}function U(K,J,oe,ye,Se,Oe,We,He,$e,Ye){var pe,q,ze,Ie,Ve,kt,rt,st=ye&&ye.__k||P,pt=st.length;for(oe.__k=[],pe=0;pe<J.length;pe++)if((Ie=oe.__k[pe]=(Ie=J[pe])==null||typeof Ie=="boolean"?null:typeof Ie=="string"||typeof Ie=="number"||typeof Ie=="bigint"?L(null,Ie,null,null,Ie):Array.isArray(Ie)?L(Z,{children:Ie},null,null,null):Ie.__b>0?L(Ie.type,Ie.props,Ie.key,null,Ie.__v):Ie)!=null){if(Ie.__=oe,Ie.__b=oe.__b+1,(ze=st[pe])===null||ze&&Ie.key==ze.key&&Ie.type===ze.type)st[pe]=void 0;else for(q=0;q<pt;q++){if((ze=st[q])&&Ie.key==ze.key&&Ie.type===ze.type){st[q]=void 0;break}ze=null}fe(K,Ie,ze=ze||S,Se,Oe,We,He,$e,Ye),Ve=Ie.__e,(q=Ie.ref)&&ze.ref!=q&&(rt||(rt=[]),ze.ref&&rt.push(ze.ref,null,Ie),rt.push(q,Ie.__c||Ve,Ie)),Ve!=null?(kt==null&&(kt=Ve),typeof Ie.type=="function"&&Ie.__k===ze.__k?Ie.__d=$e=ee(Ie,$e,K):$e=ie(K,Ie,ze,st,Ve,$e),typeof oe.type=="function"&&(oe.__d=$e)):$e&&ze.__e==$e&&$e.parentNode!=K&&($e=N(ze))}for(oe.__e=kt,pe=pt;pe--;)st[pe]!=null&&(typeof oe.type=="function"&&st[pe].__e!=null&&st[pe].__e==oe.__d&&(oe.__d=N(ye,pe+1)),Pe(st[pe],st[pe]));if(rt)for(pe=0;pe<rt.length;pe++)_e(rt[pe],rt[++pe],rt[++pe])}function ee(K,J,oe){for(var ye,Se=K.__k,Oe=0;Se&&Oe<Se.length;Oe++)(ye=Se[Oe])&&(ye.__=K,J=typeof ye.type=="function"?ee(ye,J,oe):ie(oe,ye,ye,Se,ye.__e,J));return J}function $(K,J){return J=J||[],K==null||typeof K=="boolean"||(Array.isArray(K)?K.some(function(oe){$(oe,J)}):J.push(K)),J}function ie(K,J,oe,ye,Se,Oe){var We,He,$e;if(J.__d!==void 0)We=J.__d,J.__d=void 0;else if(oe==null||Se!=Oe||Se.parentNode==null)e:if(Oe==null||Oe.parentNode!==K)K.appendChild(Se),We=null;else{for(He=Oe,$e=0;(He=He.nextSibling)&&$e<ye.length;$e+=2)if(He==Se)break e;K.insertBefore(Se,Oe),We=Oe}return We!==void 0?We:Se.nextSibling}function ve(K,J,oe){J[0]==="-"?K.setProperty(J,oe):K[J]=oe==null?"":typeof oe!="number"||C.test(J)?oe:oe+"px"}function ge(K,J,oe,ye,Se){var Oe;e:if(J==="style")if(typeof oe=="string")K.style.cssText=oe;else{if(typeof ye=="string"&&(K.style.cssText=ye=""),ye)for(J in ye)oe&&J in oe||ve(K.style,J,"");if(oe)for(J in oe)ye&&oe[J]===ye[J]||ve(K.style,J,oe[J])}else if(J[0]==="o"&&J[1]==="n")Oe=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in K?J.toLowerCase().slice(2):J.slice(2),K.l||(K.l={}),K.l[J+Oe]=oe,oe?ye||K.addEventListener(J,Oe?Ee:de,Oe):K.removeEventListener(J,Oe?Ee:de,Oe);else if(J!=="dangerouslySetInnerHTML"){if(Se)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in K)try{K[J]=oe==null?"":oe;break e}catch(We){}typeof oe=="function"||(oe!=null&&(oe!==!1||J[0]==="a"&&J[1]==="r")?K.setAttribute(J,oe):K.removeAttribute(J))}}function de(K){this.l[K.type+!1](s.event?s.event(K):K)}function Ee(K){this.l[K.type+!0](s.event?s.event(K):K)}function fe(K,J,oe,ye,Se,Oe,We,He,$e){var Ye,pe,q,ze,Ie,Ve,kt,rt,st,pt,Bt,X=J.type;if(J.constructor!==void 0)return null;oe.__h!=null&&($e=oe.__h,He=J.__e=oe.__e,J.__h=null,Oe=[He]),(Ye=s.__b)&&Ye(J);try{e:if(typeof X=="function"){if(rt=J.props,st=(Ye=X.contextType)&&ye[Ye.__c],pt=Ye?st?st.props.value:Ye.__:ye,oe.__c?kt=(pe=J.__c=oe.__c).__=pe.__E:("prototype"in X&&X.prototype.render?J.__c=pe=new X(rt,pt):(J.__c=pe=new Y(rt,pt),pe.constructor=X,pe.render=De),st&&st.sub(pe),pe.props=rt,pe.state||(pe.state={}),pe.context=pt,pe.__n=ye,q=pe.__d=!0,pe.__h=[]),pe.__s==null&&(pe.__s=pe.state),X.getDerivedStateFromProps!=null&&(pe.__s==pe.state&&(pe.__s=R({},pe.__s)),R(pe.__s,X.getDerivedStateFromProps(rt,pe.__s))),ze=pe.props,Ie=pe.state,q)X.getDerivedStateFromProps==null&&pe.componentWillMount!=null&&pe.componentWillMount(),pe.componentDidMount!=null&&pe.__h.push(pe.componentDidMount);else{if(X.getDerivedStateFromProps==null&&rt!==ze&&pe.componentWillReceiveProps!=null&&pe.componentWillReceiveProps(rt,pt),!pe.__e&&pe.shouldComponentUpdate!=null&&pe.shouldComponentUpdate(rt,pe.__s,pt)===!1||J.__v===oe.__v){pe.props=rt,pe.state=pe.__s,J.__v!==oe.__v&&(pe.__d=!1),pe.__v=J,J.__e=oe.__e,J.__k=oe.__k,J.__k.forEach(function(Q){Q&&(Q.__=J)}),pe.__h.length&&We.push(pe);break e}pe.componentWillUpdate!=null&&pe.componentWillUpdate(rt,pe.__s,pt),pe.componentDidUpdate!=null&&pe.__h.push(function(){pe.componentDidUpdate(ze,Ie,Ve)})}pe.context=pt,pe.props=rt,pe.state=pe.__s,(Ye=s.__r)&&Ye(J),pe.__d=!1,pe.__v=J,pe.__P=K,Ye=pe.render(pe.props,pe.state,pe.context),pe.state=pe.__s,pe.getChildContext!=null&&(ye=R(R({},ye),pe.getChildContext())),q||pe.getSnapshotBeforeUpdate==null||(Ve=pe.getSnapshotBeforeUpdate(ze,Ie)),Bt=Ye!=null&&Ye.type===Z&&Ye.key==null?Ye.props.children:Ye,U(K,Array.isArray(Bt)?Bt:[Bt],J,oe,ye,Se,Oe,We,He,$e),pe.base=J.__e,J.__h=null,pe.__h.length&&We.push(pe),kt&&(pe.__E=pe.__=null),pe.__e=!1}else Oe==null&&J.__v===oe.__v?(J.__k=oe.__k,J.__e=oe.__e):J.__e=me(oe.__e,J,oe,ye,Se,Oe,We,$e);(Ye=s.diffed)&&Ye(J)}catch(Q){J.__v=null,($e||Oe!=null)&&(J.__e=He,J.__h=!!$e,Oe[Oe.indexOf(He)]=null),s.__e(Q,J,oe)}}function ue(K,J){s.__c&&s.__c(J,K),K.some(function(oe){try{K=oe.__h,oe.__h=[],K.some(function(ye){ye.call(oe)})}catch(ye){s.__e(ye,oe.__v)}})}function me(K,J,oe,ye,Se,Oe,We,He){var $e,Ye,pe,q=oe.props,ze=J.props,Ie=J.type,Ve=0;if(Ie==="svg"&&(Se=!0),Oe!=null){for(;Ve<Oe.length;Ve++)if(($e=Oe[Ve])&&"setAttribute"in $e==!!Ie&&(Ie?$e.localName===Ie:$e.nodeType===3)){K=$e,Oe[Ve]=null;break}}if(K==null){if(Ie===null)return document.createTextNode(ze);K=Se?document.createElementNS("http://www.w3.org/2000/svg",Ie):document.createElement(Ie,ze.is&&ze),Oe=null,He=!1}if(Ie===null)q===ze||He&&K.data===ze||(K.data=ze);else{if(Oe=Oe&&p.call(K.childNodes),Ye=(q=oe.props||S).dangerouslySetInnerHTML,pe=ze.dangerouslySetInnerHTML,!He){if(Oe!=null)for(q={},Ve=0;Ve<K.attributes.length;Ve++)q[K.attributes[Ve].name]=K.attributes[Ve].value;(pe||Ye)&&(pe&&(Ye&&pe.__html==Ye.__html||pe.__html===K.innerHTML)||(K.innerHTML=pe&&pe.__html||""))}if(function(kt,rt,st,pt,Bt){var X;for(X in st)X==="children"||X==="key"||X in rt||ge(kt,X,null,st[X],pt);for(X in rt)Bt&&typeof rt[X]!="function"||X==="children"||X==="key"||X==="value"||X==="checked"||st[X]===rt[X]||ge(kt,X,rt[X],st[X],pt)}(K,ze,q,Se,He),pe)J.__k=[];else if(Ve=J.props.children,U(K,Array.isArray(Ve)?Ve:[Ve],J,oe,ye,Se&&Ie!=="foreignObject",Oe,We,Oe?Oe[0]:oe.__k&&N(oe,0),He),Oe!=null)for(Ve=Oe.length;Ve--;)Oe[Ve]!=null&&G(Oe[Ve]);He||("value"in ze&&(Ve=ze.value)!==void 0&&(Ve!==q.value||Ve!==K.value||Ie==="progress"&&!Ve)&&ge(K,"value",Ve,q.value,!1),"checked"in ze&&(Ve=ze.checked)!==void 0&&Ve!==K.checked&&ge(K,"checked",Ve,q.checked,!1))}return K}function _e(K,J,oe){try{typeof K=="function"?K(J):K.current=J}catch(ye){s.__e(ye,oe)}}function Pe(K,J,oe){var ye,Se;if(s.unmount&&s.unmount(K),(ye=K.ref)&&(ye.current&&ye.current!==K.__e||_e(ye,null,J)),(ye=K.__c)!=null){if(ye.componentWillUnmount)try{ye.componentWillUnmount()}catch(Oe){s.__e(Oe,J)}ye.base=ye.__P=null}if(ye=K.__k)for(Se=0;Se<ye.length;Se++)ye[Se]&&Pe(ye[Se],J,typeof K.type!="function");oe||K.__e==null||G(K.__e),K.__e=K.__d=void 0}function De(K,J,oe){return this.constructor(K,oe)}function Le(K,J,oe){var ye,Se,Oe;s.__&&s.__(K,J),Se=(ye=typeof oe=="function")?null:oe&&oe.__k||J.__k,Oe=[],fe(J,K=(!ye&&oe||J).__k=H(Z,null,[K]),Se||S,S,J.ownerSVGElement!==void 0,!ye&&oe?[oe]:Se?null:J.firstChild?p.call(J.childNodes):null,Oe,!ye&&oe?oe:Se?Se.__e:J.firstChild,ye),ue(Oe,K)}function ke(K,J){Le(K,J,ke)}function Ue(K,J,oe){var ye,Se,Oe,We=R({},K.props);for(Oe in J)Oe=="key"?ye=J[Oe]:Oe=="ref"?Se=J[Oe]:We[Oe]=J[Oe];return arguments.length>2&&(We.children=arguments.length>3?p.call(arguments,2):oe),L(K.type,We,ye||K.key,Se||K.ref,null)}function at(K,J){var oe={__c:J="__cC"+j++,__:K,Consumer:function(ye,Se){return ye.children(Se)},Provider:function(ye){var Se,Oe;return this.getChildContext||(Se=[],(Oe={})[J]=this,this.getChildContext=function(){return Oe},this.shouldComponentUpdate=function(We){this.props.value!==We.value&&Se.some(k)},this.sub=function(We){Se.push(We);var He=We.componentWillUnmount;We.componentWillUnmount=function(){Se.splice(Se.indexOf(We),1),He&&He.call(We)}}),ye.children}};return oe.Provider.__=oe.Consumer.contextType=oe}p=P.slice,s={__e:function(K,J){for(var oe,ye,Se;J=J.__;)if((oe=J.__c)&&!oe.__)try{if((ye=oe.constructor)&&ye.getDerivedStateFromError!=null&&(oe.setState(ye.getDerivedStateFromError(K)),Se=oe.__d),oe.componentDidCatch!=null&&(oe.componentDidCatch(K),Se=oe.__d),Se)return oe.__E=oe}catch(Oe){K=Oe}throw K}},b=0,Y.prototype.setState=function(K,J){var oe;oe=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof K=="function"&&(K=K(R({},oe),this.props)),K&&R(oe,K),K!=null&&this.__v&&(J&&this.__h.push(J),k(this))},Y.prototype.forceUpdate=function(K){this.__v&&(this.__e=!0,K&&this.__h.push(K),k(this))},Y.prototype.render=Z,m=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I.__r=0,j=0},function(c,f,a){var p=a(114),s=a(45),b=a(172);p||s(Object.prototype,"toString",b,{unsafe:!0})},function(c,f,a){var p=a(39),s=a(75),b=a(65),m=a(57),w=a(108),O=m.set,j=m.getterFor("Array Iterator");c.exports=w(Array,"Array",function(S,P){O(this,{type:"Array Iterator",target:p(S),index:0,kind:P})},function(){var S=j(this),P=S.target,C=S.kind,R=S.index++;return!P||R>=P.length?(S.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:R,done:!1}:C=="values"?{value:P[R],done:!1}:{value:[R,P[R]],done:!1}},"values"),b.Arguments=b.Array,s("keys"),s("values"),s("entries")},function(c,f,a){var p=a(17),s=a(9),b=a(49),m=a(95),w=a(36),O=a(15),j=a(77),S=a(35),P=a(104),C=a(19),R=a(34),G=a(93),H=a(29),L=a(33),V=a(55),Z=a(82),Y=a(32),N=a(38),z=a(39),k=a(81),I=a(40),U=a(66),ee=a(52),$=a(61),ie=a(67),ve=a(134),ge=a(109),de=a(54),Ee=a(37),fe=a(86),ue=a(117),me=a(45),_e=a(76),Pe=a(85),De=a(64),Le=a(78),ke=a(27),Ue=a(145),at=a(146),K=a(89),J=a(57),oe=a(68).forEach,ye=Pe("hidden"),Se=ke("toPrimitive"),Oe=J.set,We=J.getterFor("Symbol"),He=Object.prototype,$e=s.Symbol,Ye=$e&&$e.prototype,pe=s.TypeError,q=s.QObject,ze=b("JSON","stringify"),Ie=de.f,Ve=Ee.f,kt=ve.f,rt=fe.f,st=O([].push),pt=_e("symbols"),Bt=_e("op-symbols"),X=_e("string-to-symbol-registry"),Q=_e("symbol-to-string-registry"),se=_e("wks"),we=!q||!q.prototype||!q.prototype.findChild,Ze=S&&C(function(){return ee(Ve({},"a",{get:function(){return Ve(this,"a",{value:7}).a}})).a!=7})?function(Te,Ge,Je){var lt=Ie(He,Ge);lt&&delete He[Ge],Ve(Te,Ge,Je),lt&&Te!==He&&Ve(He,Ge,lt)}:Ve,Xe=function(Te,Ge){var Je=pt[Te]=ee(Ye);return Oe(Je,{type:"Symbol",tag:Te,description:Ge}),S||(Je.description=Ge),Je},Qe=function(Te,Ge,Je){Te===He&&Qe(Bt,Ge,Je),Y(Te);var lt=k(Ge);return Y(Je),R(pt,lt)?(Je.enumerable?(R(Te,ye)&&Te[ye][lt]&&(Te[ye][lt]=!1),Je=ee(Je,{enumerable:U(0,!1)})):(R(Te,ye)||Ve(Te,ye,U(1,{})),Te[ye][lt]=!0),Ze(Te,lt,Je)):Ve(Te,lt,Je)},dt=function(Te,Ge){Y(Te);var Je=z(Ge),lt=$(Je).concat(kn(Je));return oe(lt,function(Ot){S&&!w(At,Je,Ot)||Qe(Te,Ot,Je[Ot])}),Te},At=function(Te){var Ge=k(Te),Je=w(rt,this,Ge);return!(this===He&&R(pt,Ge)&&!R(Bt,Ge))&&(!(Je||!R(this,Ge)||!R(pt,Ge)||R(this,ye)&&this[ye][Ge])||Je)},Ct=function(Te,Ge){var Je=z(Te),lt=k(Ge);if(Je!==He||!R(pt,lt)||R(Bt,lt)){var Ot=Ie(Je,lt);return!Ot||!R(pt,lt)||R(Je,ye)&&Je[ye][lt]||(Ot.enumerable=!0),Ot}},Vn=function(Te){var Ge=kt(z(Te)),Je=[];return oe(Ge,function(lt){R(pt,lt)||R(De,lt)||st(Je,lt)}),Je},kn=function(Te){var Ge=Te===He,Je=kt(Ge?Bt:z(Te)),lt=[];return oe(Je,function(Ot){!R(pt,Ot)||Ge&&!R(He,Ot)||st(lt,pt[Ot])}),lt};if(P||(me(Ye=($e=function(){if(V(Ye,this))throw pe("Symbol is not a constructor");var Te=arguments.length&&arguments[0]!==void 0?I(arguments[0]):void 0,Ge=Le(Te),Je=function(lt){this===He&&w(Je,Bt,lt),R(this,ye)&&R(this[ye],Ge)&&(this[ye][Ge]=!1),Ze(this,Ge,U(1,lt))};return S&&we&&Ze(He,Ge,{configurable:!0,set:Je}),Xe(Ge,Te)}).prototype,"toString",function(){return We(this).tag}),me($e,"withoutSetter",function(Te){return Xe(Le(Te),Te)}),fe.f=At,Ee.f=Qe,de.f=Ct,ie.f=ve.f=Vn,ge.f=kn,Ue.f=function(Te){return Xe(ke(Te),Te)},S&&(Ve(Ye,"description",{configurable:!0,get:function(){return We(this).description}}),j||me(He,"propertyIsEnumerable",At,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:$e}),oe($(se),function(Te){at(Te)}),p({target:"Symbol",stat:!0,forced:!P},{for:function(Te){var Ge=I(Te);if(R(X,Ge))return X[Ge];var Je=$e(Ge);return X[Ge]=Je,Q[Je]=Ge,Je},keyFor:function(Te){if(!Z(Te))throw pe(Te+" is not a symbol");if(R(Q,Te))return Q[Te]},useSetter:function(){we=!0},useSimple:function(){we=!1}}),p({target:"Object",stat:!0,forced:!P,sham:!S},{create:function(Te,Ge){return Ge===void 0?ee(Te):dt(ee(Te),Ge)},defineProperty:Qe,defineProperties:dt,getOwnPropertyDescriptor:Ct}),p({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:Vn,getOwnPropertySymbols:kn}),p({target:"Object",stat:!0,forced:C(function(){ge.f(1)})},{getOwnPropertySymbols:function(Te){return ge.f(N(Te))}}),ze&&p({target:"JSON",stat:!0,forced:!P||C(function(){var Te=$e();return ze([Te])!="[null]"||ze({a:Te})!="{}"||ze(Object(Te))!="{}"})},{stringify:function(Te,Ge,Je){var lt=ue(arguments),Ot=Ge;if((L(Ge)||Te!==void 0)&&!Z(Te))return G(Ge)||(Ge=function(Mt,Wt){if(H(Ot)&&(Wt=w(Ot,this,Mt,Wt)),!Z(Wt))return Wt}),lt[1]=Ge,m(ze,null,lt)}}),!Ye[Se]){var gt=Ye.valueOf;me(Ye,Se,function(Te){return w(gt,this)})}K($e,"Symbol"),De[ye]=!0},function(c,f,a){var p=a(9),s=a(143),b=a(144),m=a(3),w=a(53),O=a(27),j=O("iterator"),S=O("toStringTag"),P=m.values,C=function(G,H){if(G){if(G[j]!==P)try{w(G,j,P)}catch(V){G[j]=P}if(G[S]||w(G,S,H),s[H]){for(var L in m)if(G[L]!==m[L])try{w(G,L,m[L])}catch(V){G[L]=m[L]}}}};for(var R in s)C(p[R]&&p[R].prototype,R);C(b,"DOMTokenList")},function(c,f,a){var p=a(142).charAt,s=a(40),b=a(57),m=a(108),w=b.set,O=b.getterFor("String Iterator");m(String,"String",function(j){w(this,{type:"String Iterator",string:s(j),index:0})},function(){var j,S=O(this),P=S.string,C=S.index;return C>=P.length?{value:void 0,done:!0}:(j=p(P,C),S.index+=j.length,{value:j,done:!1})})},function(c,f,a){var p=a(17),s=a(35),b=a(9),m=a(15),w=a(34),O=a(29),j=a(55),S=a(40),P=a(37).f,C=a(129),R=b.Symbol,G=R&&R.prototype;if(s&&O(R)&&(!("description"in G)||R().description!==void 0)){var H={},L=function(){var I=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),U=j(G,this)?new R(I):I===void 0?R():R(I);return I===""&&(H[U]=!0),U};C(L,R),L.prototype=G,G.constructor=L;var V=String(R("test"))=="Symbol(test)",Z=m(G.toString),Y=m(G.valueOf),N=/^Symbol\((.*)\)[^)]+$/,z=m("".replace),k=m("".slice);P(G,"description",{configurable:!0,get:function(){var I=Y(this),U=Z(I);if(w(H,I))return"";var ee=V?k(U,7,-1):z(U,N,"$1");return ee===""?void 0:ee}}),p({global:!0,forced:!0},{Symbol:L})}},function(c,f,a){a(146)("iterator")},function(c,f,a){(function(p){var s=function(b){return b&&b.Math==Math&&b};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,a(74))},function(c,f,a){a.d(f,"a",function(){return m.a}),a.d(f,"c",function(){return m.e}),a.d(f,"h",function(){return N}),a.d(f,"i",function(){return V}),a.d(f,"j",function(){return H}),a.d(f,"b",function(){return de}),a.d(f,"e",function(){return me}),a.d(f,"f",function(){return Ee}),a.d(f,"g",function(){return st});var p,s,b,m=a(1),w=0,O=[],j=m.i.__b,S=m.i.__r,P=m.i.diffed,C=m.i.__c,R=m.i.unmount;function G(X,Q){m.i.__h&&m.i.__h(s,X,w||Q),w=0;var se=s.__H||(s.__H={__:[],__h:[]});return X>=se.__.length&&se.__.push({}),se.__[X]}function H(X){return w=1,L(ie,X)}function L(X,Q,se){var we=G(p++,2);return we.t=X,we.__c||(we.__=[se?se(Q):ie(void 0,Q),function(Ze){var Xe=we.t(we.__[0],Ze);we.__[0]!==Xe&&(we.__=[Xe,we.__[1]],we.__c.setState({}))}],we.__c=s),we.__}function V(X,Q){var se=G(p++,3);!m.i.__s&&$(se.__H,Q)&&(se.__=X,se.__H=Q,s.__H.__h.push(se))}function Z(X,Q){var se=G(p++,4);!m.i.__s&&$(se.__H,Q)&&(se.__=X,se.__H=Q,s.__h.push(se))}function Y(X,Q){var se=G(p++,7);return $(se.__H,Q)&&(se.__=X(),se.__H=Q,se.__h=X),se.__}function N(X,Q){return w=8,Y(function(){return X},Q)}function z(){var X;for(O.sort(function(Q,se){return Q.__v.__b-se.__v.__b});X=O.pop();)if(X.__P)try{X.__H.__h.forEach(U),X.__H.__h.forEach(ee),X.__H.__h=[]}catch(Q){X.__H.__h=[],m.i.__e(Q,X.__v)}}m.i.__b=function(X){s=null,j&&j(X)},m.i.__r=function(X){S&&S(X),p=0;var Q=(s=X.__c).__H;Q&&(Q.__h.forEach(U),Q.__h.forEach(ee),Q.__h=[])},m.i.diffed=function(X){P&&P(X);var Q=X.__c;Q&&Q.__H&&Q.__H.__h.length&&(O.push(Q)!==1&&b===m.i.requestAnimationFrame||((b=m.i.requestAnimationFrame)||I)(z)),s=null},m.i.__c=function(X,Q){Q.some(function(se){try{se.__h.forEach(U),se.__h=se.__h.filter(function(we){return!we.__||ee(we)})}catch(we){Q.some(function(Ze){Ze.__h&&(Ze.__h=[])}),Q=[],m.i.__e(we,se.__v)}}),C&&C(X,Q)},m.i.unmount=function(X){R&&R(X);var Q,se=X.__c;se&&se.__H&&(se.__H.__.forEach(function(we){try{U(we)}catch(Ze){Q=Ze}}),Q&&m.i.__e(Q,se.__v))};var k=typeof requestAnimationFrame=="function";function I(X){var Q,se=function(){clearTimeout(we),k&&cancelAnimationFrame(Q),setTimeout(X)},we=setTimeout(se,100);k&&(Q=requestAnimationFrame(se))}function U(X){var Q=s,se=X.__c;typeof se=="function"&&(X.__c=void 0,se()),s=Q}function ee(X){var Q=s;X.__c=X.__(),s=Q}function $(X,Q){return!X||X.length!==Q.length||Q.some(function(se,we){return se!==X[we]})}function ie(X,Q){return typeof Q=="function"?Q(X):Q}function ve(X,Q){for(var se in Q)X[se]=Q[se];return X}function ge(X,Q){for(var se in X)if(se!=="__source"&&!(se in Q))return!0;for(var we in Q)if(we!=="__source"&&X[we]!==Q[we])return!0;return!1}function de(X){this.props=X}function Ee(X,Q){function se(Ze){var Xe=this.props.ref,Qe=Xe==Ze.ref;return!Qe&&Xe&&(Xe.call?Xe(null):Xe.current=null),Q?!Q(this.props,Ze)||!Qe:ge(this.props,Ze)}function we(Ze){return this.shouldComponentUpdate=se,Object(m.e)(X,Ze)}return we.displayName="Memo("+(X.displayName||X.name)+")",we.prototype.isReactComponent=!0,we.__f=!0,we}(de.prototype=new m.a).isPureReactComponent=!0,de.prototype.shouldComponentUpdate=function(X,Q){return ge(this.props,X)||ge(this.state,Q)};var fe=m.i.__b;m.i.__b=function(X){X.type&&X.type.__f&&X.ref&&(X.props.ref=X.ref,X.ref=null),fe&&fe(X)};var ue=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function me(X){function Q(se,we){var Ze=ve({},se);return delete Ze.ref,X(Ze,!(we=se.ref||we)||typeof we=="object"&&!("current"in we)?null:we)}return Q.$$typeof=ue,Q.render=Q,Q.prototype.isReactComponent=Q.__f=!0,Q.displayName="ForwardRef("+(X.displayName||X.name)+")",Q}var _e=function(X,Q){return X==null?null:Object(m.k)(Object(m.k)(X).map(Q))},Pe={map:_e,forEach:_e,count:function(X){return X?Object(m.k)(X).length:0},only:function(X){var Q=Object(m.k)(X);if(Q.length!==1)throw"Children.only";return Q[0]},toArray:m.k},De=m.i.__e;m.i.__e=function(X,Q,se){if(X.then){for(var we,Ze=Q;Ze=Ze.__;)if((we=Ze.__c)&&we.__c)return Q.__e==null&&(Q.__e=se.__e,Q.__k=se.__k),we.__c(X,Q)}De(X,Q,se)};var Le=m.i.unmount;function ke(){this.__u=0,this.t=null,this.__b=null}function Ue(X){var Q=X.__.__c;return Q&&Q.__e&&Q.__e(X)}function at(){this.u=null,this.o=null}m.i.unmount=function(X){var Q=X.__c;Q&&Q.__R&&Q.__R(),Q&&X.__h===!0&&(X.type=null),Le&&Le(X)},(ke.prototype=new m.a).__c=function(X,Q){var se=Q.__c,we=this;we.t==null&&(we.t=[]),we.t.push(se);var Ze=Ue(we.__v),Xe=!1,Qe=function(){Xe||(Xe=!0,se.__R=null,Ze?Ze(dt):dt())};se.__R=Qe;var dt=function(){if(!--we.__u){if(we.state.__e){var Ct=we.state.__e;we.__v.__k[0]=function kn(gt,Te,Ge){return gt&&(gt.__v=null,gt.__k=gt.__k&&gt.__k.map(function(Je){return kn(Je,Te,Ge)}),gt.__c&&gt.__c.__P===Te&&(gt.__e&&Ge.insertBefore(gt.__e,gt.__d),gt.__c.__e=!0,gt.__c.__P=Ge)),gt}(Ct,Ct.__c.__P,Ct.__c.__O)}var Vn;for(we.setState({__e:we.__b=null});Vn=we.t.pop();)Vn.forceUpdate()}},At=Q.__h===!0;we.__u++||At||we.setState({__e:we.__b=we.__v.__k[0]}),X.then(Qe,Qe)},ke.prototype.componentWillUnmount=function(){this.t=[]},ke.prototype.render=function(X,Q){if(this.__b){if(this.__v.__k){var se=document.createElement("div"),we=this.__v.__k[0].__c;this.__v.__k[0]=function Xe(Qe,dt,At){return Qe&&(Qe.__c&&Qe.__c.__H&&(Qe.__c.__H.__.forEach(function(Ct){typeof Ct.__c=="function"&&Ct.__c()}),Qe.__c.__H=null),(Qe=ve({},Qe)).__c!=null&&(Qe.__c.__P===At&&(Qe.__c.__P=dt),Qe.__c=null),Qe.__k=Qe.__k&&Qe.__k.map(function(Ct){return Xe(Ct,dt,At)})),Qe}(this.__b,se,we.__O=we.__P)}this.__b=null}var Ze=Q.__e&&Object(m.e)(m.b,null,X.fallback);return Ze&&(Ze.__h=null),[Object(m.e)(m.b,null,Q.__e?null:X.children),Ze]};var K=function(X,Q,se){if(++se[1]===se[0]&&X.o.delete(Q),X.props.revealOrder&&(X.props.revealOrder[0]!=="t"||!X.o.size))for(se=X.u;se;){for(;se.length>3;)se.pop()();if(se[1]<se[0])break;X.u=se=se[2]}};function J(X){return this.getChildContext=function(){return X.context},X.children}function oe(X){var Q=this,se=X.i;Q.componentWillUnmount=function(){Object(m.j)(null,Q.l),Q.l=null,Q.i=null},Q.i&&Q.i!==se&&Q.componentWillUnmount(),X.__v?(Q.l||(Q.i=se,Q.l={nodeType:1,parentNode:se,childNodes:[],appendChild:function(we){this.childNodes.push(we),Q.i.appendChild(we)},insertBefore:function(we,Ze){this.childNodes.push(we),Q.i.appendChild(we)},removeChild:function(we){this.childNodes.splice(this.childNodes.indexOf(we)>>>1,1),Q.i.removeChild(we)}}),Object(m.j)(Object(m.e)(J,{context:Q.context},X.__v),Q.l)):Q.l&&Q.componentWillUnmount()}(at.prototype=new m.a).__e=function(X){var Q=this,se=Ue(Q.__v),we=Q.o.get(X);return we[0]++,function(Ze){var Xe=function(){Q.props.revealOrder?(we.push(Ze),K(Q,X,we)):Ze()};se?se(Xe):Xe()}},at.prototype.render=function(X){this.u=null,this.o=new Map;var Q=Object(m.k)(X.children);X.revealOrder&&X.revealOrder[0]==="b"&&Q.reverse();for(var se=Q.length;se--;)this.o.set(Q[se],this.u=[1,0,this.u]);return X.children},at.prototype.componentDidUpdate=at.prototype.componentDidMount=function(){var X=this;this.o.forEach(function(Q,se){K(X,se,Q)})};var ye=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Se=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Oe=typeof document!="undefined",We=function(X){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(X)};m.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(X){Object.defineProperty(m.a.prototype,X,{configurable:!0,get:function(){return this["UNSAFE_"+X]},set:function(Q){Object.defineProperty(this,X,{configurable:!0,writable:!0,value:Q})}})});var He=m.i.event;function $e(){}function Ye(){return this.cancelBubble}function pe(){return this.defaultPrevented}m.i.event=function(X){return He&&(X=He(X)),X.persist=$e,X.isPropagationStopped=Ye,X.isDefaultPrevented=pe,X.nativeEvent=X};var q,ze={configurable:!0,get:function(){return this.class}},Ie=m.i.vnode;m.i.vnode=function(X){var Q=X.type,se=X.props,we=se;if(typeof Q=="string"){var Ze=Q.indexOf("-")===-1;for(var Xe in we={},se){var Qe=se[Xe];Oe&&Xe==="children"&&Q==="noscript"||Xe==="value"&&"defaultValue"in se&&Qe==null||(Xe==="defaultValue"&&"value"in se&&se.value==null?Xe="value":Xe==="download"&&Qe===!0?Qe="":/ondoubleclick/i.test(Xe)?Xe="ondblclick":/^onchange(textarea|input)/i.test(Xe+Q)&&!We(se.type)?Xe="oninput":/^onfocus$/i.test(Xe)?Xe="onfocusin":/^onblur$/i.test(Xe)?Xe="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Xe)?Xe=Xe.toLowerCase():Ze&&Se.test(Xe)?Xe=Xe.replace(/[A-Z0-9]/,"-$&").toLowerCase():Qe===null&&(Qe=void 0),we[Xe]=Qe)}Q=="select"&&we.multiple&&Array.isArray(we.value)&&(we.value=Object(m.k)(se.children).forEach(function(dt){dt.props.selected=we.value.indexOf(dt.props.value)!=-1})),Q=="select"&&we.defaultValue!=null&&(we.value=Object(m.k)(se.children).forEach(function(dt){dt.props.selected=we.multiple?we.defaultValue.indexOf(dt.props.value)!=-1:we.defaultValue==dt.props.value})),X.props=we,se.class!=se.className&&(ze.enumerable="className"in se,se.className!=null&&(we.class=se.className),Object.defineProperty(we,"className",ze))}X.$$typeof=ye,Ie&&Ie(X)};var Ve=m.i.__r;m.i.__r=function(X){Ve&&Ve(X),q=X.__c};var kt={ReactCurrentDispatcher:{current:{readContext:function(X){return q.__n[X.__c].props.value}}}};function rt(X){return!!X&&X.$$typeof===ye}var st=function(X,Q){return X(Q)},pt=m.b,Bt={useState:H,useReducer:L,useEffect:V,useLayoutEffect:Z,useRef:function(X){return w=5,Y(function(){return{current:X}},[])},useImperativeHandle:function(X,Q,se){w=6,Z(function(){typeof X=="function"?X(Q()):X&&(X.current=Q())},se==null?se:se.concat(X))},useMemo:Y,useCallback:N,useContext:function(X){var Q=s.context[X.__c],se=G(p++,9);return se.c=X,Q?(se.__==null&&(se.__=!0,Q.sub(s)),Q.props.value):X.__},useDebugValue:function(X,Q){m.i.useDebugValue&&m.i.useDebugValue(Q?Q(X):X)},version:"17.0.2",Children:Pe,render:function(X,Q,se){return Q.__k==null&&(Q.textContent=""),Object(m.j)(X,Q),typeof se=="function"&&se(),X?X.__c:null},hydrate:function(X,Q,se){return Object(m.h)(X,Q),typeof se=="function"&&se(),X?X.__c:null},unmountComponentAtNode:function(X){return!!X.__k&&(Object(m.j)(null,X),!0)},createPortal:function(X,Q){return Object(m.e)(oe,{__v:X,i:Q})},createElement:m.e,createContext:m.d,createFactory:function(X){return m.e.bind(null,X)},cloneElement:function(X){return rt(X)?m.c.apply(null,arguments):X},createRef:m.f,Fragment:m.b,isValidElement:rt,findDOMNode:function(X){return X&&(X.base||X.nodeType===1&&X)||null},Component:m.a,PureComponent:de,memo:Ee,forwardRef:me,flushSync:function(X,Q){return X(Q)},unstable_batchedUpdates:st,StrictMode:pt,Suspense:ke,SuspenseList:at,lazy:function(X){var Q,se,we;function Ze(Xe){if(Q||(Q=X()).then(function(Qe){se=Qe.default||Qe},function(Qe){we=Qe}),we)throw we;if(!se)throw Q;return Object(m.e)(se,Xe)}return Ze.displayName="Lazy",Ze.__f=!0,Ze},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:kt};f.d=Bt},function(c,f,a){var p=a(9),s=a(143),b=a(144),m=a(173),w=a(53),O=function(S){if(S&&S.forEach!==m)try{w(S,"forEach",m)}catch(P){S.forEach=m}};for(var j in s)s[j]&&O(p[j]&&p[j].prototype);O(b)},function(c,f,a){a(17)({target:"Object",stat:!0},{setPrototypeOf:a(111)})},function(c,f,a){var p=a(17),s=a(19),b=a(38),m=a(88),w=a(132);p({target:"Object",stat:!0,forced:s(function(){m(1)}),sham:!w},{getPrototypeOf:function(O){return m(b(O))}})},function(c,f,a){var p=a(17),s=a(49),b=a(95),m=a(194),w=a(152),O=a(32),j=a(33),S=a(52),P=a(19),C=s("Reflect","construct"),R=Object.prototype,G=[].push,H=P(function(){function Z(){}return!(C(function(){},[],Z)instanceof Z)}),L=!P(function(){C(function(){})}),V=H||L;p({target:"Reflect",stat:!0,forced:V,sham:V},{construct:function(Z,Y){w(Z),O(Y);var N=arguments.length<3?Z:w(arguments[2]);if(L&&!H)return C(Z,Y,N);if(Z==N){switch(Y.length){case 0:return new Z;case 1:return new Z(Y[0]);case 2:return new Z(Y[0],Y[1]);case 3:return new Z(Y[0],Y[1],Y[2]);case 4:return new Z(Y[0],Y[1],Y[2],Y[3])}var z=[null];return b(G,z,Y),new(b(m,Z,z))}var k=N.prototype,I=S(j(k)?k:R),U=b(Z,I,Y);return j(U)?U:I}})},function(c,f){var a=Function.prototype,p=a.bind,s=a.call,b=p&&p.bind(s);c.exports=p?function(m){return m&&b(s,m)}:function(m){return m&&function(){return s.apply(m,arguments)}}},function(c,f,a){var p=a(17),s=a(9),b=a(93),m=a(94),w=a(33),O=a(62),j=a(43),S=a(39),P=a(58),C=a(27),R=a(69),G=a(117),H=R("slice"),L=C("species"),V=s.Array,Z=Math.max;p({target:"Array",proto:!0,forced:!H},{slice:function(Y,N){var z,k,I,U=S(this),ee=j(U),$=O(Y,ee),ie=O(N===void 0?ee:N,ee);if(b(U)&&(z=U.constructor,(m(z)&&(z===V||b(z.prototype))||w(z)&&(z=z[L])===null)&&(z=void 0),z===V||z===void 0))return G(U,$,ie);for(k=new(z===void 0?V:z)(Z(ie-$,0)),I=0;$<ie;$++,I++)$ in U&&P(k,I,U[$]);return k.length=I,k}})},function(c,f,a){var p=a(9),s=a(54).f,b=a(53),m=a(45),w=a(103),O=a(129),j=a(110);c.exports=function(S,P){var C,R,G,H,L,V=S.target,Z=S.global,Y=S.stat;if(C=Z?p:Y?p[V]||w(V,{}):(p[V]||{}).prototype)for(R in P){if(H=P[R],G=S.noTargetGet?(L=s(C,R))&&L.value:C[R],!j(Z?R:V+(Y?".":"#")+R,S.forced)&&G!==void 0){if(typeof H==typeof G)continue;O(H,G)}(S.sham||G&&G.sham)&&b(H,"sham",!0),m(C,R,H,S)}}},function(c,f,a){var p=a(17),s=a(96);p({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,f){c.exports=function(a){try{return!!a()}catch(p){return!0}}},function(c,f,a){var p=a(17),s=a(38),b=a(61);p({target:"Object",stat:!0,forced:a(19)(function(){b(1)})},{keys:function(m){return b(s(m))}})},function(c,f,a){var p=a(17),s=a(19),b=a(39),m=a(54).f,w=a(35),O=s(function(){m(1)});p({target:"Object",stat:!0,forced:!w||O,sham:!w},{getOwnPropertyDescriptor:function(j,S){return m(b(j),S)}})},function(c,f,a){var p=a(17),s=a(68).filter;p({target:"Array",proto:!0,forced:!a(69)("filter")},{filter:function(b){return s(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(17),s=a(35),b=a(130),m=a(39),w=a(54),O=a(58);p({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(j){for(var S,P,C=m(j),R=w.f,G=b(C),H={},L=0;G.length>L;)(P=R(C,S=G[L++]))!==void 0&&O(H,S,P);return H}})},function(c,f,a){var p=a(35),s=a(87).EXISTS,b=a(15),m=a(37).f,w=Function.prototype,O=b(w.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=b(j.exec);p&&!s&&m(w,"name",{configurable:!0,get:function(){try{return S(j,O(this))[1]}catch(P){return""}}})},function(c,f,a){var p=a(17),s=a(176);p({target:"Array",stat:!0,forced:!a(140)(function(b){Array.from(b)})},{from:s})},,function(c,f,a){var p=a(9),s=a(76),b=a(34),m=a(78),w=a(104),O=a(124),j=s("wks"),S=p.Symbol,P=S&&S.for,C=O?S:S&&S.withoutSetter||m;c.exports=function(R){if(!b(j,R)||!w&&typeof j[R]!="string"){var G="Symbol."+R;w&&b(S,R)?j[R]=S[R]:j[R]=O&&P?P(G):C(G)}return j[R]}},function(c,f,a){var p=a(100),s=typeof self=="object"&&self&&self.Object===Object&&self,b=p.a||s||Function("return this")();f.a=b},function(c,f){c.exports=function(a){return typeof a=="function"}},function(c,f,a){var p=a(17),s=a(9),b=a(19),m=a(93),w=a(33),O=a(38),j=a(43),S=a(58),P=a(115),C=a(69),R=a(27),G=a(79),H=R("isConcatSpreadable"),L=s.TypeError,V=G>=51||!b(function(){var N=[];return N[H]=!1,N.concat()[0]!==N}),Z=C("concat"),Y=function(N){if(!w(N))return!1;var z=N[H];return z!==void 0?!!z:m(N)};p({target:"Array",proto:!0,forced:!V||!Z},{concat:function(N){var z,k,I,U,ee,$=O(this),ie=P($,0),ve=0;for(z=-1,I=arguments.length;z<I;z++)if(Y(ee=z===-1?$:arguments[z])){if(ve+(U=j(ee))>9007199254740991)throw L("Maximum allowed index exceeded");for(k=0;k<U;k++,ve++)k in ee&&S(ie,ve,ee[k])}else{if(ve>=9007199254740991)throw L("Maximum allowed index exceeded");S(ie,ve++,ee)}return ie.length=ve,ie}})},function(c,f,a){var p=a(17),s=a(196);p({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,f,a){var p=a(9),s=a(33),b=p.String,m=p.TypeError;c.exports=function(w){if(s(w))return w;throw m(b(w)+" is not an object")}},function(c,f,a){var p=a(29);c.exports=function(s){return typeof s=="object"?s!==null:p(s)}},function(c,f,a){var p=a(15),s=a(38),b=p({}.hasOwnProperty);c.exports=Object.hasOwn||function(m,w){return b(s(m),w)}},function(c,f,a){var p=a(19);c.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,f){var a=Function.prototype.call;c.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(c,f,a){var p=a(9),s=a(35),b=a(125),m=a(32),w=a(81),O=p.TypeError,j=Object.defineProperty;f.f=s?j:function(S,P,C){if(m(S),P=w(P),m(C),b)try{return j(S,P,C)}catch(R){}if("get"in C||"set"in C)throw O("Accessors not supported");return"value"in C&&(S[P]=C.value),S}},function(c,f,a){var p=a(9),s=a(44),b=p.Object;c.exports=function(m){return b(s(m))}},function(c,f,a){var p=a(73),s=a(44);c.exports=function(b){return p(s(b))}},function(c,f,a){var p=a(9),s=a(92),b=p.String;c.exports=function(m){if(s(m)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return b(m)}},function(c,f,a){var p=a(17),s=a(68).map;p({target:"Array",proto:!0,forced:!a(69)("map")},{map:function(b){return s(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){(function(p){a.d(f,"d",function(){return m}),a.d(f,"c",function(){return w}),a.d(f,"b",function(){return O}),a.d(f,"a",function(){return S});var s=a(10),b=function(P,C){var R=typeof Symbol=="function"&&P[Symbol.iterator];if(!R)return P;var G,H,L=R.call(P),V=[];try{for(;(C===void 0||C-- >0)&&!(G=L.next()).done;)V.push(G.value)}catch(Z){H={error:Z}}finally{try{G&&!G.done&&(R=L.return)&&R.call(L)}finally{if(H)throw H.error}}return V};function m(){var P=b(Object(s.j)(0),2)[1];return Object(s.h)(function(){P(function(C){return C+1})},[])}function w(P){if(!P||typeof P!="object")return!1;var C=Object.getPrototypeOf(P);return!C||C===Object.prototype}function O(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var j={};function S(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:j}}).call(this,a(74))},function(c,f,a){var p=a(84);c.exports=function(s){return p(s.length)}},function(c,f,a){var p=a(9).TypeError;c.exports=function(s){if(s==null)throw p("Can't call method on "+s);return s}},function(c,f,a){var p=a(9),s=a(29),b=a(34),m=a(53),w=a(103),O=a(107),j=a(57),S=a(87).CONFIGURABLE,P=j.get,C=j.enforce,R=String(String).split("String");(c.exports=function(G,H,L,V){var Z,Y=!!V&&!!V.unsafe,N=!!V&&!!V.enumerable,z=!!V&&!!V.noTargetGet,k=V&&V.name!==void 0?V.name:H;s(L)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(L,"name")||S&&L.name!==k)&&m(L,"name",k),(Z=C(L)).source||(Z.source=R.join(typeof k=="string"?k:""))),G!==p?(Y?!z&&G[H]&&(N=!0):delete G[H],N?G[H]=L:m(G,H,L)):N?G[H]=L:w(H,L)})(Function.prototype,"toString",function(){return s(this)&&P(this).source||O(this)})},function(c,f,a){var p=a(17),s=a(36),b=a(33),m=a(32),w=a(195),O=a(54),j=a(88);p({target:"Reflect",stat:!0},{get:function S(P,C){var R,G,H=arguments.length<3?P:arguments[2];return m(P)===H?P[C]:(R=O.f(P,C))?w(R)?R.value:R.get===void 0?void 0:s(R.get,H):b(G=j(P))?S(G,C,H):void 0}})},function(c,f,a){(function(p){var s=a(28),b=a(156),m=h&&!h.nodeType&&h,w=m&&typeof p=="object"&&p&&!p.nodeType&&p,O=w&&w.exports===m?s.a.Buffer:void 0,j=(O?O.isBuffer:void 0)||b.a;f.a=j}).call(this,a(118)(c))},function(c,f,a){(function(p){var s=a(100),b=h&&!h.nodeType&&h,m=b&&typeof p=="object"&&p&&!p.nodeType&&p,w=m&&m.exports===b&&s.a.process,O=function(){try{var j=m&&m.require&&m.require("util").types;return j||w&&w.binding&&w.binding("util")}catch(S){}}();f.a=O}).call(this,a(118)(c))},function(c,f,a){var p=a(9),s=a(29),b=function(m){return s(m)?m:void 0};c.exports=function(m,w){return arguments.length<2?b(p[m]):p[m]&&p[m][w]}},function(c,f,a){var p=a(17),s=a(200).entries;p({target:"Object",stat:!0},{entries:function(b){return s(b)}})},function(c,f,a){var p=a(15),s=p({}.toString),b=p("".slice);c.exports=function(m){return b(s(m),8,-1)}},function(c,f,a){var p,s=a(32),b=a(159),m=a(106),w=a(64),O=a(161),j=a(105),S=a(85),P=S("IE_PROTO"),C=function(){},R=function(L){return"<script>"+L+"<\/script>"},G=function(L){L.write(R("")),L.close();var V=L.parentWindow.Object;return L=null,V},H=function(){try{p=new ActiveXObject("htmlfile")}catch(Y){}var L,V;H=typeof document!="undefined"?document.domain&&p?G(p):((V=j("iframe")).style.display="none",O.appendChild(V),V.src=String("javascript:"),(L=V.contentWindow.document).open(),L.write(R("document.F=Object")),L.close(),L.F):G(p);for(var Z=m.length;Z--;)delete H.prototype[m[Z]];return H()};w[P]=!0,c.exports=Object.create||function(L,V){var Z;return L!==null?(C.prototype=s(L),Z=new C,C.prototype=null,Z[P]=L):Z=H(),V===void 0?Z:b(Z,V)}},function(c,f,a){var p=a(35),s=a(37),b=a(66);c.exports=p?function(m,w,O){return s.f(m,w,b(1,O))}:function(m,w,O){return m[w]=O,m}},function(c,f,a){var p=a(35),s=a(36),b=a(86),m=a(66),w=a(39),O=a(81),j=a(34),S=a(125),P=Object.getOwnPropertyDescriptor;f.f=p?P:function(C,R){if(C=w(C),R=O(R),S)try{return P(C,R)}catch(G){}if(j(C,R))return m(!s(b.f,C,R),C[R])}},function(c,f,a){var p=a(15);c.exports=p({}.isPrototypeOf)},function(c,f,a){var p=a(60);c.exports=function(s,b){var m=s[b];return m==null?void 0:p(m)}},function(c,f,a){var p,s,b,m=a(162),w=a(9),O=a(15),j=a(33),S=a(53),P=a(34),C=a(102),R=a(85),G=a(64),H=w.TypeError,L=w.WeakMap;if(m||C.state){var V=C.state||(C.state=new L),Z=O(V.get),Y=O(V.has),N=O(V.set);p=function(k,I){if(Y(V,k))throw new H("Object already initialized");return I.facade=k,N(V,k,I),I},s=function(k){return Z(V,k)||{}},b=function(k){return Y(V,k)}}else{var z=R("state");G[z]=!0,p=function(k,I){if(P(k,z))throw new H("Object already initialized");return I.facade=k,S(k,z,I),I},s=function(k){return P(k,z)?k[z]:{}},b=function(k){return P(k,z)}}c.exports={set:p,get:s,has:b,enforce:function(k){return b(k)?s(k):p(k,{})},getterFor:function(k){return function(I){var U;if(!j(I)||(U=s(I)).type!==k)throw H("Incompatible receiver, "+k+" required");return U}}}},function(c,f,a){var p=a(81),s=a(37),b=a(66);c.exports=function(m,w,O){var j=p(w);j in m?s.f(m,j,b(0,O)):m[j]=O}},function(c,f,a){var p=a(17),s=a(201),b=a(75);p({target:"Array",proto:!0},{fill:s}),b("fill")},function(c,f,a){var p=a(9),s=a(29),b=a(83),m=p.TypeError;c.exports=function(w){if(s(w))return w;throw m(b(w)+" is not a function")}},function(c,f,a){var p=a(127),s=a(106);c.exports=Object.keys||function(b){return p(b,s)}},function(c,f,a){var p=a(63),s=Math.max,b=Math.min;c.exports=function(m,w){var O=p(m);return O<0?s(O+w,0):b(O,w)}},function(c,f){var a=Math.ceil,p=Math.floor;c.exports=function(s){var b=+s;return b!=b||b===0?0:(b>0?p:a)(b)}},function(c,f){c.exports={}},function(c,f){c.exports={}},function(c,f){c.exports=function(a,p){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:p}}},function(c,f,a){var p=a(127),s=a(106).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(b){return p(b,s)}},function(c,f,a){var p=a(91),s=a(15),b=a(73),m=a(38),w=a(43),O=a(115),j=s([].push),S=function(P){var C=P==1,R=P==2,G=P==3,H=P==4,L=P==6,V=P==7,Z=P==5||L;return function(Y,N,z,k){for(var I,U,ee=m(Y),$=b(ee),ie=p(N,z),ve=w($),ge=0,de=k||O,Ee=C?de(Y,ve):R||V?de(Y,0):void 0;ve>ge;ge++)if((Z||ge in $)&&(U=ie(I=$[ge],ge,ee),P))if(C)Ee[ge]=U;else if(U)switch(P){case 3:return!0;case 5:return I;case 6:return ge;case 2:j(Ee,I)}else switch(P){case 4:return!1;case 7:j(Ee,I)}return L?-1:G||H?H:Ee}};c.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},function(c,f,a){var p=a(19),s=a(27),b=a(79),m=s("species");c.exports=function(w){return b>=51||!p(function(){var O=[];return(O.constructor={})[m]=function(){return{foo:1}},O[w](Boolean).foo!==1})}},function(c,f,a){var p=a(95),s=a(36),b=a(15),m=a(119),w=a(150),O=a(32),j=a(44),S=a(189),P=a(120),C=a(84),R=a(40),G=a(56),H=a(112),L=a(121),V=a(96),Z=a(147),Y=a(19),N=Z.UNSUPPORTED_Y,z=Math.min,k=[].push,I=b(/./.exec),U=b(k),ee=b("".slice);m("split",function($,ie,ve){var ge;return ge="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(de,Ee){var fe=R(j(this)),ue=Ee===void 0?4294967295:Ee>>>0;if(ue===0)return[];if(de===void 0)return[fe];if(!w(de))return s(ie,fe,de,ue);for(var me,_e,Pe,De=[],Le=(de.ignoreCase?"i":"")+(de.multiline?"m":"")+(de.unicode?"u":"")+(de.sticky?"y":""),ke=0,Ue=new RegExp(de.source,Le+"g");(me=s(V,Ue,fe))&&!((_e=Ue.lastIndex)>ke&&(U(De,ee(fe,ke,me.index)),me.length>1&&me.index<fe.length&&p(k,De,H(me,1)),Pe=me[0].length,ke=_e,De.length>=ue));)Ue.lastIndex===me.index&&Ue.lastIndex++;return ke===fe.length?!Pe&&I(Ue,"")||U(De,""):U(De,ee(fe,ke)),De.length>ue?H(De,0,ue):De}:"0".split(void 0,0).length?function(de,Ee){return de===void 0&&Ee===0?[]:s(ie,this,de,Ee)}:ie,[function(de,Ee){var fe=j(this),ue=de==null?void 0:G(de,$);return ue?s(ue,de,fe,Ee):s(ge,R(fe),de,Ee)},function(de,Ee){var fe=O(this),ue=R(de),me=ve(ge,fe,ue,Ee,ge!==ie);if(me.done)return me.value;var _e=S(fe,RegExp),Pe=fe.unicode,De=(fe.ignoreCase?"i":"")+(fe.multiline?"m":"")+(fe.unicode?"u":"")+(N?"g":"y"),Le=new _e(N?"^(?:"+fe.source+")":fe,De),ke=Ee===void 0?4294967295:Ee>>>0;if(ke===0)return[];if(ue.length===0)return L(Le,ue)===null?[ue]:[];for(var Ue=0,at=0,K=[];at<ue.length;){Le.lastIndex=N?0:at;var J,oe=L(Le,N?ee(ue,at):ue);if(oe===null||(J=z(C(Le.lastIndex+(N?at:0)),ue.length))===Ue)at=P(ue,at,Pe);else{if(U(K,ee(ue,Ue,at)),K.length===ke)return K;for(var ye=1;ye<=oe.length-1;ye++)if(U(K,oe[ye]),K.length===ke)return K;at=Ue=J}}return U(K,ee(ue,Ue)),K}]},!!Y(function(){var $=/(?:)/,ie=$.exec;$.exec=function(){return ie.apply(this,arguments)};var ve="ab".split($);return ve.length!==2||ve[0]!=="a"||ve[1]!=="b"}),N)},function(c,f,a){var p=a(35),s=a(9),b=a(15),m=a(110),w=a(45),O=a(34),j=a(141),S=a(55),P=a(82),C=a(126),R=a(19),G=a(67).f,H=a(54).f,L=a(37).f,V=a(192),Z=a(153).trim,Y=s.Number,N=Y.prototype,z=s.TypeError,k=b("".slice),I=b("".charCodeAt),U=function(de){var Ee=C(de,"number");return typeof Ee=="bigint"?Ee:ee(Ee)},ee=function(de){var Ee,fe,ue,me,_e,Pe,De,Le,ke=C(de,"number");if(P(ke))throw z("Cannot convert a Symbol value to a number");if(typeof ke=="string"&&ke.length>2){if(ke=Z(ke),(Ee=I(ke,0))===43||Ee===45){if((fe=I(ke,2))===88||fe===120)return NaN}else if(Ee===48){switch(I(ke,1)){case 66:case 98:ue=2,me=49;break;case 79:case 111:ue=8,me=55;break;default:return+ke}for(Pe=(_e=k(ke,2)).length,De=0;De<Pe;De++)if((Le=I(_e,De))<48||Le>me)return NaN;return parseInt(_e,ue)}}return+ke};if(m("Number",!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var $,ie=function(de){var Ee=arguments.length<1?0:Y(U(de)),fe=this;return S(N,fe)&&R(function(){V(fe)})?j(Object(Ee),fe,ie):Ee},ve=p?G(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ge=0;ve.length>ge;ge++)O(Y,$=ve[ge])&&!O(ie,$)&&L(ie,$,H(Y,$));ie.prototype=N,N.constructor=ie,w(s,"Number",ie)}},function(c,f,a){a(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,f,a){var p=a(9),s=a(15),b=a(19),m=a(51),w=p.Object,O=s("".split);c.exports=b(function(){return!w("z").propertyIsEnumerable(0)})?function(j){return m(j)=="String"?O(j,""):w(j)}:w},function(c,f){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(p){typeof window=="object"&&(a=window)}c.exports=a},function(c,f,a){var p=a(27),s=a(52),b=a(37),m=p("unscopables"),w=Array.prototype;w[m]==null&&b.f(w,m,{configurable:!0,value:s(null)}),c.exports=function(O){w[m][O]=!0}},function(c,f,a){var p=a(77),s=a(102);(c.exports=function(b,m){return s[b]||(s[b]=m!==void 0?m:{})})("versions",[]).push({version:"3.19.3",mode:p?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,f){c.exports=!1},function(c,f,a){var p=a(15),s=0,b=Math.random(),m=p(1 .toString);c.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+m(++s+b,36)}},function(c,f,a){var p,s,b=a(9),m=a(80),w=b.process,O=b.Deno,j=w&&w.versions||O&&O.version,S=j&&j.v8;S&&(s=(p=S.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!s&&m&&(!(p=m.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=m.match(/Chrome\/(\d+)/))&&(s=+p[1]),c.exports=s},function(c,f,a){var p=a(49);c.exports=p("navigator","userAgent")||""},function(c,f,a){var p=a(126),s=a(82);c.exports=function(b){var m=p(b,"string");return s(m)?m:m+""}},function(c,f,a){var p=a(9),s=a(49),b=a(29),m=a(55),w=a(124),O=p.Object;c.exports=w?function(j){return typeof j=="symbol"}:function(j){var S=s("Symbol");return b(S)&&m(S.prototype,O(j))}},function(c,f,a){var p=a(9).String;c.exports=function(s){try{return p(s)}catch(b){return"Object"}}},function(c,f,a){var p=a(63),s=Math.min;c.exports=function(b){return b>0?s(p(b),9007199254740991):0}},function(c,f,a){var p=a(76),s=a(78),b=p("keys");c.exports=function(m){return b[m]||(b[m]=s(m))}},function(c,f,a){var p={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,b=s&&!p.call({1:2},1);f.f=b?function(m){var w=s(this,m);return!!w&&w.enumerable}:p},function(c,f,a){var p=a(35),s=a(34),b=Function.prototype,m=p&&Object.getOwnPropertyDescriptor,w=s(b,"name"),O=w&&function(){}.name==="something",j=w&&(!p||p&&m(b,"name").configurable);c.exports={EXISTS:w,PROPER:O,CONFIGURABLE:j}},function(c,f,a){var p=a(9),s=a(34),b=a(29),m=a(38),w=a(85),O=a(132),j=w("IE_PROTO"),S=p.Object,P=S.prototype;c.exports=O?S.getPrototypeOf:function(C){var R=m(C);if(s(R,j))return R[j];var G=R.constructor;return b(G)&&R instanceof G?G.prototype:R instanceof S?P:null}},function(c,f,a){var p=a(37).f,s=a(34),b=a(27)("toStringTag");c.exports=function(m,w,O){m&&!s(m=O?m:m.prototype,b)&&p(m,b,{configurable:!0,value:w})}},function(c,f,a){a(165)("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},a(169))},function(c,f,a){var p=a(15),s=a(60),b=p(p.bind);c.exports=function(m,w){return s(m),w===void 0?m:b?b(m,w):function(){return m.apply(w,arguments)}}},function(c,f,a){var p=a(9),s=a(114),b=a(29),m=a(51),w=a(27)("toStringTag"),O=p.Object,j=m(function(){return arguments}())=="Arguments";c.exports=s?m:function(S){var P,C,R;return S===void 0?"Undefined":S===null?"Null":typeof(C=function(G,H){try{return G[H]}catch(L){}}(P=O(S),w))=="string"?C:j?m(P):(R=m(P))=="Object"&&b(P.callee)?"Arguments":R}},function(c,f,a){var p=a(51);c.exports=Array.isArray||function(s){return p(s)=="Array"}},function(c,f,a){var p=a(15),s=a(19),b=a(29),m=a(92),w=a(49),O=a(107),j=function(){},S=[],P=w("Reflect","construct"),C=/^\s*(?:class|function)\b/,R=p(C.exec),G=!C.exec(j),H=function(L){if(!b(L))return!1;try{return P(j,S,L),!0}catch(V){return!1}};c.exports=!P||s(function(){var L;return H(H.call)||!H(Object)||!H(function(){L=!0})||L})?function(L){if(!b(L))return!1;switch(m(L)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return G||!!R(C,O(L))}:H},function(c,f){var a=Function.prototype,p=a.apply,s=a.bind,b=a.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?b.bind(p):function(){return b.apply(p,arguments)})},function(c,f,a){var p,s,b=a(36),m=a(15),w=a(40),O=a(178),j=a(147),S=a(76),P=a(52),C=a(57).get,R=a(179),G=a(180),H=S("native-string-replace",String.prototype.replace),L=RegExp.prototype.exec,V=L,Z=m("".charAt),Y=m("".indexOf),N=m("".replace),z=m("".slice),k=(s=/b*/g,b(L,p=/a/,"a"),b(L,s,"a"),p.lastIndex!==0||s.lastIndex!==0),I=j.BROKEN_CARET,U=/()??/.exec("")[1]!==void 0;(k||U||I||R||G)&&(V=function(ee){var $,ie,ve,ge,de,Ee,fe,ue=this,me=C(ue),_e=w(ee),Pe=me.raw;if(Pe)return Pe.lastIndex=ue.lastIndex,$=b(V,Pe,_e),ue.lastIndex=Pe.lastIndex,$;var De=me.groups,Le=I&&ue.sticky,ke=b(O,ue),Ue=ue.source,at=0,K=_e;if(Le&&(ke=N(ke,"y",""),Y(ke,"g")===-1&&(ke+="g"),K=z(_e,ue.lastIndex),ue.lastIndex>0&&(!ue.multiline||ue.multiline&&Z(_e,ue.lastIndex-1)!==`
`)&&(Ue="(?: "+Ue+")",K=" "+K,at++),ie=new RegExp("^(?:"+Ue+")",ke)),U&&(ie=new RegExp("^"+Ue+"$(?!\\s)",ke)),k&&(ve=ue.lastIndex),ge=b(L,Le?ie:ue,K),Le?ge?(ge.input=z(ge.input,at),ge[0]=z(ge[0],at),ge.index=ue.lastIndex,ue.lastIndex+=ge[0].length):ue.lastIndex=0:k&&ge&&(ue.lastIndex=ue.global?ge.index+ge[0].length:ve),U&&ge&&ge.length>1&&b(H,ge[0],ie,function(){for(de=1;de<arguments.length-2;de++)arguments[de]===void 0&&(ge[de]=void 0)}),ge&&De)for(ge.groups=Ee=P(null),de=0;de<De.length;de++)Ee[(fe=De[de])[0]]=ge[fe[1]];return ge}),c.exports=V},function(c,f,a){var p=a(17),s=a(9),b=a(62),m=a(63),w=a(43),O=a(38),j=a(115),S=a(58),P=a(69)("splice"),C=s.TypeError,R=Math.max,G=Math.min;p({target:"Array",proto:!0,forced:!P},{splice:function(H,L){var V,Z,Y,N,z,k,I=O(this),U=w(I),ee=b(H,U),$=arguments.length;if($===0?V=Z=0:$===1?(V=0,Z=U-ee):(V=$-2,Z=G(R(m(L),0),U-ee)),U+V-Z>9007199254740991)throw C("Maximum allowed length exceeded");for(Y=j(I,Z),N=0;N<Z;N++)(z=ee+N)in I&&S(Y,N,I[z]);if(Y.length=Z,V<Z){for(N=ee;N<U-Z;N++)k=N+V,(z=N+Z)in I?I[k]=I[z]:delete I[k];for(N=U;N>U-Z+V;N--)delete I[N-1]}else if(V>Z)for(N=U-Z;N>ee;N--)k=N+V-1,(z=N+Z-1)in I?I[k]=I[z]:delete I[k];for(N=0;N<V;N++)I[N+ee]=arguments[N+2];return I.length=U-Z+V,Y}})},function(c,f,a){var p=a(17),s=a(15),b=a(73),m=a(39),w=a(116),O=s([].join),j=b!=Object,S=w("join",",");p({target:"Array",proto:!0,forced:j||!S},{join:function(P){return O(m(this),P===void 0?",":P)}})},function(c,f,a){var p=a(17),s=a(197);p({target:"String",proto:!0,forced:a(198)("anchor")},{anchor:function(b){return s(this,"a","name",b)}})},function(c,f,a){(function(p){var s=typeof p=="object"&&p&&p.Object===Object&&p;f.a=s}).call(this,a(74))},function(c,f,a){(function(p){var s=a(28),b=h&&!h.nodeType&&h,m=b&&typeof p=="object"&&p&&!p.nodeType&&p,w=m&&m.exports===b?s.a.Buffer:void 0,O=w?w.allocUnsafe:void 0;f.a=function(j,S){if(S)return j.slice();var P=j.length,C=O?O(P):new j.constructor(P);return j.copy(C),C}}).call(this,a(118)(c))},function(c,f,a){var p=a(9),s=a(103),b=p["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=b},function(c,f,a){var p=a(9),s=Object.defineProperty;c.exports=function(b,m){try{s(p,b,{value:m,configurable:!0,writable:!0})}catch(w){p[b]=m}return m}},function(c,f,a){var p=a(79),s=a(19);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(c,f,a){var p=a(9),s=a(33),b=p.document,m=s(b)&&s(b.createElement);c.exports=function(w){return m?b.createElement(w):{}}},function(c,f){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,f,a){var p=a(15),s=a(29),b=a(102),m=p(Function.toString);s(b.inspectSource)||(b.inspectSource=function(w){return m(w)}),c.exports=b.inspectSource},function(c,f,a){var p=a(17),s=a(36),b=a(77),m=a(87),w=a(29),O=a(163),j=a(88),S=a(111),P=a(89),C=a(53),R=a(45),G=a(27),H=a(65),L=a(131),V=m.PROPER,Z=m.CONFIGURABLE,Y=L.IteratorPrototype,N=L.BUGGY_SAFARI_ITERATORS,z=G("iterator"),k=function(){return this};c.exports=function(I,U,ee,$,ie,ve,ge){O(ee,U,$);var de,Ee,fe,ue=function(Ue){if(Ue===ie&&Le)return Le;if(!N&&Ue in Pe)return Pe[Ue];switch(Ue){case"keys":case"values":case"entries":return function(){return new ee(this,Ue)}}return function(){return new ee(this)}},me=U+" Iterator",_e=!1,Pe=I.prototype,De=Pe[z]||Pe["@@iterator"]||ie&&Pe[ie],Le=!N&&De||ue(ie),ke=U=="Array"&&Pe.entries||De;if(ke&&(de=j(ke.call(new I)))!==Object.prototype&&de.next&&(b||j(de)===Y||(S?S(de,Y):w(de[z])||R(de,z,k)),P(de,me,!0,!0),b&&(H[me]=k)),V&&ie=="values"&&De&&De.name!=="values"&&(!b&&Z?C(Pe,"name","values"):(_e=!0,Le=function(){return s(De,this)})),ie)if(Ee={values:ue("values"),keys:ve?Le:ue("keys"),entries:ue("entries")},ge)for(fe in Ee)(N||_e||!(fe in Pe))&&R(Pe,fe,Ee[fe]);else p({target:U,proto:!0,forced:N||_e},Ee);return b&&!ge||Pe[z]===Le||R(Pe,z,Le,{name:ie}),H[U]=Le,Ee}},function(c,f){f.f=Object.getOwnPropertySymbols},function(c,f,a){var p=a(19),s=a(29),b=/#|\.prototype\./,m=function(P,C){var R=O[w(P)];return R==S||R!=j&&(s(C)?p(C):!!C)},w=m.normalize=function(P){return String(P).replace(b,".").toLowerCase()},O=m.data={},j=m.NATIVE="N",S=m.POLYFILL="P";c.exports=m},function(c,f,a){var p=a(15),s=a(32),b=a(164);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m,w=!1,O={};try{(m=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(O,[]),w=O instanceof Array}catch(j){}return function(j,S){return s(j),b(S),w?m(j,S):j.__proto__=S,j}}():void 0)},function(c,f,a){var p=a(9),s=a(62),b=a(43),m=a(58),w=p.Array,O=Math.max;c.exports=function(j,S,P){for(var C=b(j),R=s(S,C),G=s(P===void 0?C:P,C),H=w(O(G-R,0)),L=0;R<G;R++,L++)m(H,L,j[R]);return H.length=L,H}},function(c,f,a){var p=a(92),s=a(56),b=a(65),m=a(27)("iterator");c.exports=function(w){if(w!=null)return s(w,m)||s(w,"@@iterator")||b[p(w)]}},function(c,f,a){var p={};p[a(27)("toStringTag")]="z",c.exports=String(p)==="[object z]"},function(c,f,a){var p=a(174);c.exports=function(s,b){return new(p(s))(b===0?0:b)}},function(c,f,a){var p=a(19);c.exports=function(s,b){var m=[][s];return!!m&&p(function(){m.call(null,b||function(){throw 1},1)})}},function(c,f,a){var p=a(15);c.exports=p([].slice)},function(c,f){c.exports=function(a){if(!a.webpackPolyfill){var p=Object.create(a);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(c,f,a){a(18);var p=a(15),s=a(45),b=a(96),m=a(19),w=a(27),O=a(53),j=w("species"),S=RegExp.prototype;c.exports=function(P,C,R,G){var H=w(P),L=!m(function(){var N={};return N[H]=function(){return 7},""[P](N)!=7}),V=L&&!m(function(){var N=!1,z=/a/;return P==="split"&&((z={}).constructor={},z.constructor[j]=function(){return z},z.flags="",z[H]=/./[H]),z.exec=function(){return N=!0,null},z[H](""),!N});if(!L||!V||R){var Z=p(/./[H]),Y=C(H,""[P],function(N,z,k,I,U){var ee=p(N),$=z.exec;return $===b||$===S.exec?L&&!U?{done:!0,value:Z(z,k,I)}:{done:!0,value:ee(k,z,I)}:{done:!1}});s(String.prototype,P,Y[0]),s(S,H,Y[1])}G&&O(S[H],"sham",!0)}},function(c,f,a){var p=a(142).charAt;c.exports=function(s,b,m){return b+(m?p(s,b).length:1)}},function(c,f,a){var p=a(9),s=a(36),b=a(32),m=a(29),w=a(51),O=a(96),j=p.TypeError;c.exports=function(S,P){var C=S.exec;if(m(C)){var R=s(C,S,P);return R!==null&&b(R),R}if(w(S)==="RegExp")return s(O,S,P);throw j("RegExp#exec called on incompatible receiver")}},function(c,f,a){var p=a(95),s=a(36),b=a(15),m=a(119),w=a(19),O=a(32),j=a(29),S=a(63),P=a(84),C=a(40),R=a(44),G=a(120),H=a(56),L=a(193),V=a(121),Z=a(27)("replace"),Y=Math.max,N=Math.min,z=b([].concat),k=b([].push),I=b("".indexOf),U=b("".slice),ee="a".replace(/./,"$0")==="$0",$=!!/./[Z]&&/./[Z]("a","$0")==="";m("replace",function(ie,ve,ge){var de=$?"$":"$0";return[function(Ee,fe){var ue=R(this),me=Ee==null?void 0:H(Ee,Z);return me?s(me,Ee,ue,fe):s(ve,C(ue),Ee,fe)},function(Ee,fe){var ue=O(this),me=C(Ee);if(typeof fe=="string"&&I(fe,de)===-1&&I(fe,"$<")===-1){var _e=ge(ve,ue,me,fe);if(_e.done)return _e.value}var Pe=j(fe);Pe||(fe=C(fe));var De=ue.global;if(De){var Le=ue.unicode;ue.lastIndex=0}for(var ke=[];;){var Ue=V(ue,me);if(Ue===null||(k(ke,Ue),!De))break;C(Ue[0])===""&&(ue.lastIndex=G(me,P(ue.lastIndex),Le))}for(var at,K="",J=0,oe=0;oe<ke.length;oe++){for(var ye=C((Ue=ke[oe])[0]),Se=Y(N(S(Ue.index),me.length),0),Oe=[],We=1;We<Ue.length;We++)k(Oe,(at=Ue[We])===void 0?at:String(at));var He=Ue.groups;if(Pe){var $e=z([ye],Oe,Se,me);He!==void 0&&k($e,He);var Ye=C(p(fe,void 0,$e))}else Ye=L(ye,me,Se,Oe,He,fe);Se>=J&&(K+=U(me,J,Se)+Ye,J=Se+ye.length)}return K+U(me,J)}]},!!w(function(){var ie=/./;return ie.exec=function(){var ve=[];return ve.groups={a:"7"},ve},"".replace(ie,"$<a>")!=="7"})||!ee||$)},function(c,f,a){a(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,f,a){var p=a(104);c.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,f,a){var p=a(35),s=a(19),b=a(105);c.exports=!p&&!s(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(c,f,a){var p=a(9),s=a(36),b=a(33),m=a(82),w=a(56),O=a(160),j=a(27),S=p.TypeError,P=j("toPrimitive");c.exports=function(C,R){if(!b(C)||m(C))return C;var G,H=w(C,P);if(H){if(R===void 0&&(R="default"),G=s(H,C,R),!b(G)||m(G))return G;throw S("Can't convert object to primitive value")}return R===void 0&&(R="number"),O(C,R)}},function(c,f,a){var p=a(15),s=a(34),b=a(39),m=a(128).indexOf,w=a(64),O=p([].push);c.exports=function(j,S){var P,C=b(j),R=0,G=[];for(P in C)!s(w,P)&&s(C,P)&&O(G,P);for(;S.length>R;)s(C,P=S[R++])&&(~m(G,P)||O(G,P));return G}},function(c,f,a){var p=a(39),s=a(62),b=a(43),m=function(w){return function(O,j,S){var P,C=p(O),R=b(C),G=s(S,R);if(w&&j!=j){for(;R>G;)if((P=C[G++])!=P)return!0}else for(;R>G;G++)if((w||G in C)&&C[G]===j)return w||G||0;return!w&&-1}};c.exports={includes:m(!0),indexOf:m(!1)}},function(c,f,a){var p=a(34),s=a(130),b=a(54),m=a(37);c.exports=function(w,O){for(var j=s(O),S=m.f,P=b.f,C=0;C<j.length;C++){var R=j[C];p(w,R)||S(w,R,P(O,R))}}},function(c,f,a){var p=a(49),s=a(15),b=a(67),m=a(109),w=a(32),O=s([].concat);c.exports=p("Reflect","ownKeys")||function(j){var S=b.f(w(j)),P=m.f;return P?O(S,P(j)):S}},function(c,f,a){var p,s,b,m=a(19),w=a(29),O=a(52),j=a(88),S=a(45),P=a(27),C=a(77),R=P("iterator"),G=!1;[].keys&&("next"in(b=[].keys())?(s=j(j(b)))!==Object.prototype&&(p=s):G=!0),p==null||m(function(){var H={};return p[R].call(H)!==H})?p={}:C&&(p=O(p)),w(p[R])||S(p,R,function(){return this}),c.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:G}},function(c,f,a){var p=a(19);c.exports=!p(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,f,a){var p=a(17),s=a(15),b=a(64),m=a(33),w=a(34),O=a(37).f,j=a(67),S=a(134),P=a(166),C=a(78),R=a(168),G=!1,H=C("meta"),L=0,V=function(Y){O(Y,H,{value:{objectID:"O"+L++,weakData:{}}})},Z=c.exports={enable:function(){Z.enable=function(){},G=!0;var Y=j.f,N=s([].splice),z={};z[H]=1,Y(z).length&&(j.f=function(k){for(var I=Y(k),U=0,ee=I.length;U<ee;U++)if(I[U]===H){N(I,U,1);break}return I},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S.f}))},fastKey:function(Y,N){if(!m(Y))return typeof Y=="symbol"?Y:(typeof Y=="string"?"S":"P")+Y;if(!w(Y,H)){if(!P(Y))return"F";if(!N)return"E";V(Y)}return Y[H].objectID},getWeakData:function(Y,N){if(!w(Y,H)){if(!P(Y))return!0;if(!N)return!1;V(Y)}return Y[H].weakData},onFreeze:function(Y){return R&&G&&P(Y)&&!w(Y,H)&&V(Y),Y}};b[H]=!0},function(c,f,a){var p=a(51),s=a(39),b=a(67).f,m=a(112),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(O){return w&&p(O)=="Window"?function(j){try{return b(j)}catch(S){return m(w)}}(O):b(s(O))}},function(c,f,a){var p=a(9),s=a(91),b=a(36),m=a(32),w=a(83),O=a(136),j=a(43),S=a(55),P=a(137),C=a(113),R=a(138),G=p.TypeError,H=function(V,Z){this.stopped=V,this.result=Z},L=H.prototype;c.exports=function(V,Z,Y){var N,z,k,I,U,ee,$,ie=Y&&Y.that,ve=!(!Y||!Y.AS_ENTRIES),ge=!(!Y||!Y.IS_ITERATOR),de=!(!Y||!Y.INTERRUPTED),Ee=s(Z,ie),fe=function(me){return N&&R(N,"normal",me),new H(!0,me)},ue=function(me){return ve?(m(me),de?Ee(me[0],me[1],fe):Ee(me[0],me[1])):de?Ee(me,fe):Ee(me)};if(ge)N=V;else{if(!(z=C(V)))throw G(w(V)+" is not iterable");if(O(z)){for(k=0,I=j(V);I>k;k++)if((U=ue(V[k]))&&S(L,U))return U;return new H(!1)}N=P(V,z)}for(ee=N.next;!($=b(ee,N)).done;){try{U=ue($.value)}catch(me){R(N,"throw",me)}if(typeof U=="object"&&U&&S(L,U))return U}return new H(!1)}},function(c,f,a){var p=a(27),s=a(65),b=p("iterator"),m=Array.prototype;c.exports=function(w){return w!==void 0&&(s.Array===w||m[b]===w)}},function(c,f,a){var p=a(9),s=a(36),b=a(60),m=a(32),w=a(83),O=a(113),j=p.TypeError;c.exports=function(S,P){var C=arguments.length<2?O(S):P;if(b(C))return m(s(C,S));throw j(w(S)+" is not iterable")}},function(c,f,a){var p=a(36),s=a(32),b=a(56);c.exports=function(m,w,O){var j,S;s(m);try{if(!(j=b(m,"return"))){if(w==="throw")throw O;return O}j=p(j,m)}catch(P){S=!0,j=P}if(w==="throw")throw O;if(S)throw j;return s(j),O}},function(c,f,a){var p=a(9),s=a(55),b=p.TypeError;c.exports=function(m,w){if(s(w,m))return m;throw b("Incorrect invocation")}},function(c,f,a){var p=a(27)("iterator"),s=!1;try{var b=0,m={next:function(){return{done:!!b++}},return:function(){s=!0}};m[p]=function(){return this},Array.from(m,function(){throw 2})}catch(w){}c.exports=function(w,O){if(!O&&!s)return!1;var j=!1;try{var S={};S[p]=function(){return{next:function(){return{done:j=!0}}}},w(S)}catch(P){}return j}},function(c,f,a){var p=a(29),s=a(33),b=a(111);c.exports=function(m,w,O){var j,S;return b&&p(j=w.constructor)&&j!==O&&s(S=j.prototype)&&S!==O.prototype&&b(m,S),m}},function(c,f,a){var p=a(15),s=a(63),b=a(40),m=a(44),w=p("".charAt),O=p("".charCodeAt),j=p("".slice),S=function(P){return function(C,R){var G,H,L=b(m(C)),V=s(R),Z=L.length;return V<0||V>=Z?P?"":void 0:(G=O(L,V))<55296||G>56319||V+1===Z||(H=O(L,V+1))<56320||H>57343?P?w(L,V):G:P?j(L,V,V+2):H-56320+(G-55296<<10)+65536}};c.exports={codeAt:S(!1),charAt:S(!0)}},function(c,f){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,f,a){var p=a(105)("span").classList,s=p&&p.constructor&&p.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,f,a){var p=a(27);f.f=p},function(c,f,a){var p=a(175),s=a(34),b=a(145),m=a(37).f;c.exports=function(w){var O=p.Symbol||(p.Symbol={});s(O,w)||m(O,w,{value:b.f(w)})}},function(c,f,a){var p=a(19),s=a(9).RegExp,b=p(function(){var O=s("a","y");return O.lastIndex=2,O.exec("abcd")!=null}),m=b||p(function(){return!s("a","y").sticky}),w=b||p(function(){var O=s("^r","gy");return O.lastIndex=2,O.exec("str")!=null});c.exports={BROKEN_CARET:w,MISSED_STICKY:m,UNSUPPORTED_Y:b}},function(c,f,a){var p=a(17),s=a(128).includes,b=a(75);p({target:"Array",proto:!0},{includes:function(m){return s(this,m,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(c,f,a){var p=a(17),s=a(15),b=a(187),m=a(44),w=a(40),O=a(188),j=s("".indexOf);p({target:"String",proto:!0,forced:!O("includes")},{includes:function(S){return!!~j(w(m(this)),w(b(S)),arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(33),s=a(51),b=a(27)("match");c.exports=function(m){var w;return p(m)&&((w=m[b])!==void 0?!!w:s(m)=="RegExp")}},function(c,f){var a,p,s=c.exports={};function b(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function w(L){if(a===setTimeout)return setTimeout(L,0);if((a===b||!a)&&setTimeout)return a=setTimeout,setTimeout(L,0);try{return a(L,0)}catch(V){try{return a.call(null,L,0)}catch(Z){return a.call(this,L,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:b}catch(L){a=b}try{p=typeof clearTimeout=="function"?clearTimeout:m}catch(L){p=m}})();var O,j=[],S=!1,P=-1;function C(){S&&O&&(S=!1,O.length?j=O.concat(j):P=-1,j.length&&R())}function R(){if(!S){var L=w(C);S=!0;for(var V=j.length;V;){for(O=j,j=[];++P<V;)O&&O[P].run();P=-1,V=j.length}O=null,S=!1,function(Z){if(p===clearTimeout)return clearTimeout(Z);if((p===m||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(Z);try{p(Z)}catch(Y){try{return p.call(null,Z)}catch(N){return p.call(this,Z)}}}(L)}}function G(L,V){this.fun=L,this.array=V}function H(){}s.nextTick=function(L){var V=new Array(arguments.length-1);if(arguments.length>1)for(var Z=1;Z<arguments.length;Z++)V[Z-1]=arguments[Z];j.push(new G(L,V)),j.length!==1||S||w(R)},G.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=H,s.addListener=H,s.once=H,s.off=H,s.removeListener=H,s.removeAllListeners=H,s.emit=H,s.prependListener=H,s.prependOnceListener=H,s.listeners=function(L){return[]},s.binding=function(L){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(L){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,f,a){var p=a(9),s=a(94),b=a(83),m=p.TypeError;c.exports=function(w){if(s(w))return w;throw m(b(w)+" is not a constructor")}},function(c,f,a){var p=a(15),s=a(44),b=a(40),m=a(154),w=p("".replace),O="["+m+"]",j=RegExp("^"+O+O+"*"),S=RegExp(O+O+"*$"),P=function(C){return function(R){var G=b(s(R));return 1&C&&(G=w(G,j,"")),2&C&&(G=w(G,S,"")),G}};c.exports={start:P(1),end:P(2),trim:P(3)}},function(c,f){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,f,a){var p=a(36),s=a(119),b=a(32),m=a(84),w=a(40),O=a(44),j=a(56),S=a(120),P=a(121);s("match",function(C,R,G){return[function(H){var L=O(this),V=H==null?void 0:j(H,C);return V?p(V,H,L):new RegExp(H)[C](w(L))},function(H){var L=b(this),V=w(H),Z=G(R,L,V);if(Z.done)return Z.value;if(!L.global)return P(L,V);var Y=L.unicode;L.lastIndex=0;for(var N,z=[],k=0;(N=P(L,V))!==null;){var I=w(N[0]);z[k]=I,I===""&&(L.lastIndex=S(V,m(L.lastIndex),Y)),k++}return k===0?null:z}]})},function(c,f,a){f.a=function(){return!1}},function(c,f,a){(function(p){a.d(f,"a",function(){return V});var s=a(0);function b(N){throw new Error("[mobx-utils] "+N)}function m(N,z){z===void 0&&(z="Illegal state"),N||b(z)}var w=function(N){return N&&N!==Object.prototype&&Object.getOwnPropertyNames(N).concat(w(Object.getPrototypeOf(N))||[])},O=function(N){return function(z){var k=w(z);return k.filter(function(I,U){return k.indexOf(I)===U})}(N).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})};function j(N){switch(this.state){case"pending":return N.pending&&N.pending(this.value);case"rejected":return N.rejected&&N.rejected(this.value);case"fulfilled":return N.fulfilled?N.fulfilled(this.value):this.value}}function S(N,z){if(m(arguments.length<=2,"fromPromise expects up to two arguments"),m(typeof N=="function"||typeof N=="object"&&N&&typeof N.then=="function","Please pass a promise or function to fromPromise"),N.isPromiseBasedObservable===!0)return N;typeof N=="function"&&(N=new Promise(N));var k=N;N.then(Object(s.k)("observableFromPromise-resolve",function(U){k.value=U,k.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(U){k.value=U,k.state="rejected"})),k.isPromiseBasedObservable=!0,k.case=j;var I=z&&z.state==="fulfilled"?z.value:void 0;return Object(s.q)(k,{value:I,state:"pending"},{},{deep:!1}),k}(function(N){N.reject=Object(s.k)("fromPromise.reject",function(z){var k=N(Promise.reject(z));return k.state="rejected",k.value=z,k}),N.resolve=Object(s.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var k=N(Promise.resolve(z));return k.state="fulfilled",k.value=z,k})})(S||(S={}));var P=function(N,z,k,I){var U,ee=arguments.length,$=ee<3?z:I===null?I=Object.getOwnPropertyDescriptor(z,k):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(N,z,k,I);else for(var ie=N.length-1;ie>=0;ie--)(U=N[ie])&&($=(ee<3?U($):ee>3?U(z,k,$):U(z,k))||$);return ee>3&&$&&Object.defineProperty(z,k,$),$};(function(){function N(z,k){var I=this;Object(s.G)(function(){I.current=k,I.subscription=z.subscribe(I)})}N.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},N.prototype.next=function(z){this.current=z},N.prototype.complete=function(){this.dispose()},N.prototype.error=function(z){this.current=z,this.dispose()},P([s.C.ref],N.prototype,"current",void 0),P([s.k.bound],N.prototype,"next",null),P([s.k.bound],N.prototype,"complete",null),P([s.k.bound],N.prototype,"error",null)})();var C=function(){return(C=Object.assign||function(N){for(var z,k=1,I=arguments.length;k<I;k++)for(var U in z=arguments[k])Object.prototype.hasOwnProperty.call(z,U)&&(N[U]=z[U]);return N}).apply(this,arguments)},R=function(N,z,k,I){var U,ee=arguments.length,$=ee<3?z:I===null?I=Object.getOwnPropertyDescriptor(z,k):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(N,z,k,I);else for(var ie=N.length-1;ie>=0;ie--)(U=N[ie])&&($=(ee<3?U($):ee>3?U(z,k,$):U(z,k))||$);return ee>3&&$&&Object.defineProperty(z,k,$),$},G=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function N(z){var k=this;this.model=z,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(I){return k.localValues.has(I)},m(Object(s.A)(z),"createViewModel expects an observable object"),O(z).forEach(function(I){if(I!==s.a&&I!=="__mobxDidRunLazyInitializers"){if(m(G.indexOf(I)===-1,"The propertyname "+I+" is reserved and cannot be used with viewModels"),Object(s.w)(z,I)){var U=Object(s.h)(z,I).derivation;k.localComputedValues.set(I,Object(s.m)(U.bind(k)))}var ee=Object.getOwnPropertyDescriptor(z,I),$=ee?{enumerable:ee.enumerable}:{};Object.defineProperty(k,I,C(C({},$),{configurable:!0,get:function(){return Object(s.w)(z,I)?k.localComputedValues.get(I).get():k.isPropertyDirty(I)?k.localValues.get(I):k.model[I]},set:Object(s.k)(function(ie){ie!==k.model[I]?k.localValues.set(I,ie):k.localValues.delete(I)})}))}})}Object.defineProperty(N.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),N.prototype.submit=function(){var z=this;Object(s.B)(this.localValues).forEach(function(k){var I=z.localValues.get(k),U=z.model[k];Object(s.y)(U)?U.replace(I):Object(s.z)(U)?(U.clear(),U.merge(I)):Object(s.v)(I)||(z.model[k]=I)}),this.localValues.clear()},N.prototype.reset=function(){this.localValues.clear()},N.prototype.resetProperty=function(z){this.localValues.delete(z)},R([s.m],N.prototype,"isDirty",null),R([s.m],N.prototype,"changedValues",null),R([s.k.bound],N.prototype,"submit",null),R([s.k.bound],N.prototype,"reset",null),R([s.k.bound],N.prototype,"resetProperty",null)})();function H(N){if(!N)return"ROOT";for(var z=[];N.parent;)z.push(N.path),N=N.parent;return z.reverse().join("/")}function L(N){return Object(s.A)(N)||Object(s.y)(N)||Object(s.z)(N)}function V(N,z){var k=new WeakMap;function I($){var ie=k.get($.object);(function(ve,ge){switch(ve.type){case"add":U(ve.newValue,ge,ve.name);break;case"update":ee(ve.oldValue),U(ve.newValue,ge,ve.name||""+ve.index);break;case"remove":case"delete":ee(ve.oldValue);break;case"splice":ve.removed.map(ee),ve.added.forEach(function(fe,ue){return U(fe,ge,""+(ve.index+ue))});for(var de=ve.index+ve.addedCount;de<ve.object.length;de++)if(L(ve.object[de])){var Ee=k.get(ve.object[de]);Ee&&(Ee.path=""+de)}}})($,ie),z($,H(ie),N)}function U($,ie,ve){if(L($)){var ge=k.get($);if(ge){if(ge.parent!==ie||ge.path!==ve)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+H(ie)+"/"+ve+"', but it already exists at '"+H(ge.parent)+"/"+ge.path+"'")}else{var de={parent:ie,path:ve,dispose:Object(s.D)($,I)};k.set($,de),Object(s.p)($).forEach(function(Ee){var fe=Ee[0];return U(Ee[1],de,fe)})}}}function ee($){if(L($)){var ie=k.get($);if(!ie)return;k.delete($),ie.dispose(),Object(s.L)($).forEach(ee)}}return U(N,void 0,""),function(){ee(N)}}var Z,Y=(Z=function(N,z){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,I){k.__proto__=I}||function(k,I){for(var U in I)I.hasOwnProperty(U)&&(k[U]=I[U])})(N,z)},function(N,z){function k(){this.constructor=N}Z(N,z),N.prototype=z===null?Object.create(z):(k.prototype=z.prototype,new k)});(function(N){function z(k,I,U){var ee=U===void 0?{}:U,$=ee.name,ie=$===void 0?"ogm"+(1e3*Math.random()|0):$,ve=ee.keyToName,ge=ve===void 0?function(fe){return""+fe}:ve,de=N.call(this)||this;de._keyToName=ge,de._groupBy=I,de._ogmInfoKey=Symbol("ogmInfo"+ie),de._base=k;for(var Ee=0;Ee<k.length;Ee++)de._addItem(k[Ee]);return de._disposeBaseObserver=Object(s.D)(de._base,function(fe){if(fe.type==="splice")Object(s.J)(function(){for(var ue=0,me=fe.removed;ue<me.length;ue++){var _e=me[ue];de._removeItem(_e)}for(var Pe=0,De=fe.added;Pe<De.length;Pe++){var Le=De[Pe];de._addItem(Le)}});else{if(fe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){de._removeItem(fe.oldValue),de._addItem(fe.newValue)})}}),de}Y(z,N),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(k){throw new Error("not supported")},z.prototype.set=function(k,I){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var k=0;k<this._base.length;k++){var I=this._base[k];I[this._ogmInfoKey].reaction(),delete I[this._ogmInfoKey]}},z.prototype._getGroupArr=function(k){var I=N.prototype.get.call(this,k);return I===void 0&&(I=Object(s.C)([],{name:"GroupArray["+this._keyToName(k)+"]",deep:!1}),N.prototype.set.call(this,k,I)),I},z.prototype._removeFromGroupArr=function(k,I){var U=N.prototype.get.call(this,k);U.length===1?N.prototype.delete.call(this,k):(I===U.length-1||(U[I]=U[U.length-1],U[I][this._ogmInfoKey].groupArrIndex=I),U.length--)},z.prototype._addItem=function(k){var I=this,U=this._groupBy(k),ee=this._getGroupArr(U),$={groupByValue:U,groupArrIndex:ee.length,reaction:Object(s.F)(function(){return I._groupBy(k)},function(ie,ve){var ge=k[I._ogmInfoKey];I._removeFromGroupArr(ge.groupByValue,ge.groupArrIndex);var de=I._getGroupArr(ie),Ee=de.length;de.push(k),ge.groupByValue=ie,ge.groupArrIndex=Ee})};Object.defineProperty(k,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:$}),ee.push(k)},z.prototype._removeItem=function(k){var I=k[this._ogmInfoKey];this._removeFromGroupArr(I.groupByValue,I.groupArrIndex),I.reaction(),delete k[this._ogmInfoKey]}})(s.b),function(){function N(z,k){this.base=z,this.args=k,this.closestIdx=0,this.isDisposed=!1;for(var I=this.closest=this.root=z,U=0;U<this.args.length-1&&(I=I.get(k[U]));U++)this.closest=I;this.closestIdx=U}return N.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},N.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},N.prototype.set=function(z){this.assertNotDisposed();for(var k=this.args.length,I=this.closest,U=this.closestIdx;U<k-1;U++){var ee=new Map;I.set(this.args[U],ee),I=ee}this.closestIdx=k-1,this.closest=I,I.set(this.args[k-1],z)},N.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var k=this.root,I=[k],U=0;U<z-1;U++)k=k.get(this.args[U]),I.push(k);for(U=I.length-1;U>0;U--)I[U].size===0&&I[U-1].delete(this.args[U-1]);this.isDisposed=!0},N.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},N}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,a(151))},function(c,f,a){var p;(function(s,b,m){if(s){for(var w,O={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)O[111+C]="f"+C;for(C=0;C<=9;++C)O[C+96]=C.toString();Z.prototype.bind=function(Y,N,z){return Y=Y instanceof Array?Y:[Y],this._bindMultiple.call(this,Y,N,z),this},Z.prototype.unbind=function(Y,N){return this.bind.call(this,Y,function(){},N)},Z.prototype.trigger=function(Y,N){return this._directMap[Y+":"+N]&&this._directMap[Y+":"+N]({},Y),this},Z.prototype.reset=function(){return this._callbacks={},this._directMap={},this},Z.prototype.stopCallback=function(Y,N){if((" "+N.className+" ").indexOf(" mousetrap ")>-1||function k(I,U){return I!==null&&I!==b&&(I===U||k(I.parentNode,U))}(N,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var z=Y.composedPath()[0];z!==Y.target&&(N=z)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},Z.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},Z.addKeycodes=function(Y){for(var N in Y)Y.hasOwnProperty(N)&&(O[N]=Y[N]);w=null},Z.init=function(){var Y=Z(b);for(var N in Y)N.charAt(0)!=="_"&&(Z[N]=function(z){return function(){return Y[z].apply(Y,arguments)}}(N))},Z.init(),s.Mousetrap=Z,c.exports&&(c.exports=Z),(p=function(){return Z}.call(f,a,f,c))===void 0||(c.exports=p)}function R(Y,N,z){Y.addEventListener?Y.addEventListener(N,z,!1):Y.attachEvent("on"+N,z)}function G(Y){if(Y.type=="keypress"){var N=String.fromCharCode(Y.which);return Y.shiftKey||(N=N.toLowerCase()),N}return O[Y.which]?O[Y.which]:j[Y.which]?j[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function H(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function L(Y,N,z){return z||(z=function(){if(!w)for(var k in w={},O)k>95&&k<112||O.hasOwnProperty(k)&&(w[O[k]]=k);return w}()[Y]?"keydown":"keypress"),z=="keypress"&&N.length&&(z="keydown"),z}function V(Y,N){var z,k,I,U=[];for(z=function(ee){return ee==="+"?["+"]:(ee=ee.replace(/\+{2}/g,"+plus")).split("+")}(Y),I=0;I<z.length;++I)k=z[I],P[k]&&(k=P[k]),N&&N!="keypress"&&S[k]&&(k=S[k],U.push("shift")),H(k)&&U.push(k);return{key:k,modifiers:U,action:N=L(k,U,N)}}function Z(Y){var N=this;if(Y=Y||b,!(N instanceof Z))return new Z(Y);N.target=Y,N._callbacks={},N._directMap={};var z,k={},I=!1,U=!1,ee=!1;function $(fe){fe=fe||{};var ue,me=!1;for(ue in k)fe[ue]?me=!0:k[ue]=0;me||(ee=!1)}function ie(fe,ue,me,_e,Pe,De){var Le,ke,Ue,at,K=[],J=me.type;if(!N._callbacks[fe])return[];for(J=="keyup"&&H(fe)&&(ue=[fe]),Le=0;Le<N._callbacks[fe].length;++Le)if(ke=N._callbacks[fe][Le],(_e||!ke.seq||k[ke.seq]==ke.level)&&J==ke.action&&(J=="keypress"&&!me.metaKey&&!me.ctrlKey||(Ue=ue,at=ke.modifiers,Ue.sort().join(",")===at.sort().join(",")))){var oe=!_e&&ke.combo==Pe,ye=_e&&ke.seq==_e&&ke.level==De;(oe||ye)&&N._callbacks[fe].splice(Le,1),K.push(ke)}return K}function ve(fe,ue,me,_e){N.stopCallback(ue,ue.target||ue.srcElement,me,_e)||fe(ue,me)===!1&&(function(Pe){Pe.preventDefault?Pe.preventDefault():Pe.returnValue=!1}(ue),function(Pe){Pe.stopPropagation?Pe.stopPropagation():Pe.cancelBubble=!0}(ue))}function ge(fe){typeof fe.which!="number"&&(fe.which=fe.keyCode);var ue=G(fe);ue&&(fe.type!="keyup"||I!==ue?N.handleKey(ue,function(me){var _e=[];return me.shiftKey&&_e.push("shift"),me.altKey&&_e.push("alt"),me.ctrlKey&&_e.push("ctrl"),me.metaKey&&_e.push("meta"),_e}(fe),fe):I=!1)}function de(fe,ue,me,_e){function Pe(Ue){return function(){ee=Ue,++k[fe],clearTimeout(z),z=setTimeout($,1e3)}}function De(Ue){ve(me,Ue,fe),_e!=="keyup"&&(I=G(Ue)),setTimeout($,10)}k[fe]=0;for(var Le=0;Le<ue.length;++Le){var ke=Le+1===ue.length?De:Pe(_e||V(ue[Le+1]).action);Ee(ue[Le],ke,_e,fe,Le)}}function Ee(fe,ue,me,_e,Pe){N._directMap[fe+":"+me]=ue;var De,Le=(fe=fe.replace(/\s+/g," ")).split(" ");Le.length>1?de(fe,Le,ue,me):(De=V(fe,me),N._callbacks[De.key]=N._callbacks[De.key]||[],ie(De.key,De.modifiers,{type:De.action},_e,fe,Pe),N._callbacks[De.key][_e?"unshift":"push"]({callback:ue,modifiers:De.modifiers,action:De.action,seq:_e,level:Pe,combo:fe}))}N._handleKey=function(fe,ue,me){var _e,Pe=ie(fe,ue,me),De={},Le=0,ke=!1;for(_e=0;_e<Pe.length;++_e)Pe[_e].seq&&(Le=Math.max(Le,Pe[_e].level));for(_e=0;_e<Pe.length;++_e)if(Pe[_e].seq){if(Pe[_e].level!=Le)continue;ke=!0,De[Pe[_e].seq]=1,ve(Pe[_e].callback,me,Pe[_e].combo,Pe[_e].seq)}else ke||ve(Pe[_e].callback,me,Pe[_e].combo);var Ue=me.type=="keypress"&&U;me.type!=ee||H(fe)||Ue||$(De),U=ke&&me.type=="keydown"},N._bindMultiple=function(fe,ue,me){for(var _e=0;_e<fe.length;++_e)Ee(fe[_e],ue,me)},R(Y,"keypress",ge),R(Y,"keydown",ge),R(Y,"keyup",ge)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,f,a){var p=a(35),s=a(37),b=a(32),m=a(39),w=a(61);c.exports=p?Object.defineProperties:function(O,j){b(O);for(var S,P=m(j),C=w(j),R=C.length,G=0;R>G;)s.f(O,S=C[G++],P[S]);return O}},function(c,f,a){var p=a(9),s=a(36),b=a(29),m=a(33),w=p.TypeError;c.exports=function(O,j){var S,P;if(j==="string"&&b(S=O.toString)&&!m(P=s(S,O))||b(S=O.valueOf)&&!m(P=s(S,O))||j!=="string"&&b(S=O.toString)&&!m(P=s(S,O)))return P;throw w("Can't convert object to primitive value")}},function(c,f,a){var p=a(49);c.exports=p("document","documentElement")},function(c,f,a){var p=a(9),s=a(29),b=a(107),m=p.WeakMap;c.exports=s(m)&&/native code/.test(b(m))},function(c,f,a){var p=a(131).IteratorPrototype,s=a(52),b=a(66),m=a(89),w=a(65),O=function(){return this};c.exports=function(j,S,P,C){var R=S+" Iterator";return j.prototype=s(p,{next:b(+!C,P)}),m(j,R,!1,!0),w[R]=O,j}},function(c,f,a){var p=a(9),s=a(29),b=p.String,m=p.TypeError;c.exports=function(w){if(typeof w=="object"||s(w))return w;throw m("Can't set "+b(w)+" as a prototype")}},function(c,f,a){var p=a(17),s=a(9),b=a(15),m=a(110),w=a(45),O=a(133),j=a(135),S=a(139),P=a(29),C=a(33),R=a(19),G=a(140),H=a(89),L=a(141);c.exports=function(V,Z,Y){var N=V.indexOf("Map")!==-1,z=V.indexOf("Weak")!==-1,k=N?"set":"add",I=s[V],U=I&&I.prototype,ee=I,$={},ie=function(ue){var me=b(U[ue]);w(U,ue,ue=="add"?function(_e){return me(this,_e===0?0:_e),this}:ue=="delete"?function(_e){return!(z&&!C(_e))&&me(this,_e===0?0:_e)}:ue=="get"?function(_e){return z&&!C(_e)?void 0:me(this,_e===0?0:_e)}:ue=="has"?function(_e){return!(z&&!C(_e))&&me(this,_e===0?0:_e)}:function(_e,Pe){return me(this,_e===0?0:_e,Pe),this})};if(m(V,!P(I)||!(z||U.forEach&&!R(function(){new I().entries().next()}))))ee=Y.getConstructor(Z,V,N,k),O.enable();else if(m(V,!0)){var ve=new ee,ge=ve[k](z?{}:-0,1)!=ve,de=R(function(){ve.has(1)}),Ee=G(function(ue){new I(ue)}),fe=!z&&R(function(){for(var ue=new I,me=5;me--;)ue[k](me,me);return!ue.has(-0)});Ee||((ee=Z(function(ue,me){S(ue,U);var _e=L(new I,ue,ee);return me!=null&&j(me,_e[k],{that:_e,AS_ENTRIES:N}),_e})).prototype=U,U.constructor=ee),(de||fe)&&(ie("delete"),ie("has"),N&&ie("get")),(fe||ge)&&ie(k),z&&U.clear&&delete U.clear}return $[V]=ee,p({global:!0,forced:ee!=I},$),H(ee,V),z||Y.setStrong(ee,V,N),ee}},function(c,f,a){var p=a(19),s=a(33),b=a(51),m=a(167),w=Object.isExtensible,O=p(function(){});c.exports=O||m?function(j){return!!s(j)&&(!m||b(j)!="ArrayBuffer")&&(!w||w(j))}:w},function(c,f,a){var p=a(19);c.exports=p(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,f,a){var p=a(19);c.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,f,a){var p=a(37).f,s=a(52),b=a(170),m=a(91),w=a(139),O=a(135),j=a(108),S=a(171),P=a(35),C=a(133).fastKey,R=a(57),G=R.set,H=R.getterFor;c.exports={getConstructor:function(L,V,Z,Y){var N=L(function(ee,$){w(ee,z),G(ee,{type:V,index:s(null),first:void 0,last:void 0,size:0}),P||(ee.size=0),$!=null&&O($,ee[Y],{that:ee,AS_ENTRIES:Z})}),z=N.prototype,k=H(V),I=function(ee,$,ie){var ve,ge,de=k(ee),Ee=U(ee,$);return Ee?Ee.value=ie:(de.last=Ee={index:ge=C($,!0),key:$,value:ie,previous:ve=de.last,next:void 0,removed:!1},de.first||(de.first=Ee),ve&&(ve.next=Ee),P?de.size++:ee.size++,ge!=="F"&&(de.index[ge]=Ee)),ee},U=function(ee,$){var ie,ve=k(ee),ge=C($);if(ge!=="F")return ve.index[ge];for(ie=ve.first;ie;ie=ie.next)if(ie.key==$)return ie};return b(z,{clear:function(){for(var ee=k(this),$=ee.index,ie=ee.first;ie;)ie.removed=!0,ie.previous&&(ie.previous=ie.previous.next=void 0),delete $[ie.index],ie=ie.next;ee.first=ee.last=void 0,P?ee.size=0:this.size=0},delete:function(ee){var $=k(this),ie=U(this,ee);if(ie){var ve=ie.next,ge=ie.previous;delete $.index[ie.index],ie.removed=!0,ge&&(ge.next=ve),ve&&(ve.previous=ge),$.first==ie&&($.first=ve),$.last==ie&&($.last=ge),P?$.size--:this.size--}return!!ie},forEach:function(ee){for(var $,ie=k(this),ve=m(ee,arguments.length>1?arguments[1]:void 0);$=$?$.next:ie.first;)for(ve($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(ee){return!!U(this,ee)}}),b(z,Z?{get:function(ee){var $=U(this,ee);return $&&$.value},set:function(ee,$){return I(this,ee===0?0:ee,$)}}:{add:function(ee){return I(this,ee=ee===0?0:ee,ee)}}),P&&p(z,"size",{get:function(){return k(this).size}}),N},setStrong:function(L,V,Z){var Y=V+" Iterator",N=H(V),z=H(Y);j(L,V,function(k,I){G(this,{type:Y,target:k,state:N(k),kind:I,last:void 0})},function(){for(var k=z(this),I=k.kind,U=k.last;U&&U.removed;)U=U.previous;return k.target&&(k.last=U=U?U.next:k.state.first)?I=="keys"?{value:U.key,done:!1}:I=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}:(k.target=void 0,{value:void 0,done:!0})},Z?"entries":"values",!Z,!0),S(V)}}},function(c,f,a){var p=a(45);c.exports=function(s,b,m){for(var w in b)p(s,w,b[w],m);return s}},function(c,f,a){var p=a(49),s=a(37),b=a(27),m=a(35),w=b("species");c.exports=function(O){var j=p(O),S=s.f;m&&j&&!j[w]&&S(j,w,{configurable:!0,get:function(){return this}})}},function(c,f,a){var p=a(114),s=a(92);c.exports=p?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,f,a){var p=a(68).forEach,s=a(116)("forEach");c.exports=s?[].forEach:function(b){return p(this,b,arguments.length>1?arguments[1]:void 0)}},function(c,f,a){var p=a(9),s=a(93),b=a(94),m=a(33),w=a(27)("species"),O=p.Array;c.exports=function(j){var S;return s(j)&&(S=j.constructor,(b(S)&&(S===O||s(S.prototype))||m(S)&&(S=S[w])===null)&&(S=void 0)),S===void 0?O:S}},function(c,f,a){var p=a(9);c.exports=p},function(c,f,a){var p=a(9),s=a(91),b=a(36),m=a(38),w=a(177),O=a(136),j=a(94),S=a(43),P=a(58),C=a(137),R=a(113),G=p.Array;c.exports=function(H){var L=m(H),V=j(this),Z=arguments.length,Y=Z>1?arguments[1]:void 0,N=Y!==void 0;N&&(Y=s(Y,Z>2?arguments[2]:void 0));var z,k,I,U,ee,$,ie=R(L),ve=0;if(!ie||this==G&&O(ie))for(z=S(L),k=V?new this(z):G(z);z>ve;ve++)$=N?Y(L[ve],ve):L[ve],P(k,ve,$);else for(ee=(U=C(L,ie)).next,k=V?new this:[];!(I=b(ee,U)).done;ve++)$=N?w(U,Y,[I.value,ve],!0):I.value,P(k,ve,$);return k.length=ve,k}},function(c,f,a){var p=a(32),s=a(138);c.exports=function(b,m,w,O){try{return O?m(p(w)[0],w[1]):m(w)}catch(j){s(b,"throw",j)}}},function(c,f,a){var p=a(32);c.exports=function(){var s=p(this),b="";return s.global&&(b+="g"),s.ignoreCase&&(b+="i"),s.multiline&&(b+="m"),s.dotAll&&(b+="s"),s.unicode&&(b+="u"),s.sticky&&(b+="y"),b}},function(c,f,a){var p=a(19),s=a(9).RegExp;c.exports=p(function(){var b=s(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(c,f,a){var p=a(19),s=a(9).RegExp;c.exports=p(function(){var b=s("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(c,f,a){var p=a(17),s=a(15),b=a(60),m=a(38),w=a(43),O=a(40),j=a(19),S=a(182),P=a(116),C=a(183),R=a(184),G=a(79),H=a(185),L=[],V=s(L.sort),Z=s(L.push),Y=j(function(){L.sort(void 0)}),N=j(function(){L.sort(null)}),z=P("sort"),k=!j(function(){if(G)return G<70;if(!(C&&C>3)){if(R)return!0;if(H)return H<603;var I,U,ee,$,ie="";for(I=65;I<76;I++){switch(U=String.fromCharCode(I),I){case 66:case 69:case 70:case 72:ee=3;break;case 68:case 71:ee=4;break;default:ee=2}for($=0;$<47;$++)L.push({k:U+$,v:ee})}for(L.sort(function(ve,ge){return ge.v-ve.v}),$=0;$<L.length;$++)U=L[$].k.charAt(0),ie.charAt(ie.length-1)!==U&&(ie+=U);return ie!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:Y||!N||!z||!k},{sort:function(I){I!==void 0&&b(I);var U=m(this);if(k)return I===void 0?V(U):V(U,I);var ee,$,ie=[],ve=w(U);for($=0;$<ve;$++)$ in U&&Z(ie,U[$]);for(S(ie,function(ge){return function(de,Ee){return Ee===void 0?-1:de===void 0?1:ge!==void 0?+ge(de,Ee)||0:O(de)>O(Ee)?1:-1}}(I)),ee=ie.length,$=0;$<ee;)U[$]=ie[$++];for(;$<ve;)delete U[$++];return U}})},function(c,f,a){var p=a(112),s=Math.floor,b=function(O,j){var S=O.length,P=s(S/2);return S<8?m(O,j):w(O,b(p(O,0,P),j),b(p(O,P),j),j)},m=function(O,j){for(var S,P,C=O.length,R=1;R<C;){for(P=R,S=O[R];P&&j(O[P-1],S)>0;)O[P]=O[--P];P!==R++&&(O[P]=S)}return O},w=function(O,j,S,P){for(var C=j.length,R=S.length,G=0,H=0;G<C||H<R;)O[G+H]=G<C&&H<R?P(j[G],S[H])<=0?j[G++]:S[H++]:G<C?j[G++]:S[H++];return O};c.exports=b},function(c,f,a){var p=a(80).match(/firefox\/(\d+)/i);c.exports=!!p&&+p[1]},function(c,f,a){var p=a(80);c.exports=/MSIE|Trident/.test(p)},function(c,f,a){var p=a(80).match(/AppleWebKit\/(\d+)\./);c.exports=!!p&&+p[1]},function(c,f,a){var p=a(17),s=a(68).find,b=a(75),m=!0;"find"in[]&&Array(1).find(function(){m=!1}),p({target:"Array",proto:!0,forced:m},{find:function(w){return s(this,w,arguments.length>1?arguments[1]:void 0)}}),b("find")},function(c,f,a){var p=a(9),s=a(150),b=p.TypeError;c.exports=function(m){if(s(m))throw b("The method doesn't accept regular expressions");return m}},function(c,f,a){var p=a(27)("match");c.exports=function(s){var b=/./;try{"/./"[s](b)}catch(m){try{return b[p]=!1,"/./"[s](b)}catch(w){}}return!1}},function(c,f,a){var p=a(32),s=a(152),b=a(27)("species");c.exports=function(m,w){var O,j=p(m).constructor;return j===void 0||(O=p(j)[b])==null?w:s(O)}},function(c,f,a){var p=a(17),s=a(153).trim;p({target:"String",proto:!0,forced:a(191)("trim")},{trim:function(){return s(this)}})},function(c,f,a){var p=a(87).PROPER,s=a(19),b=a(154);c.exports=function(m){return s(function(){return!!b[m]()||"\u200B\x85\u180E"[m]()!=="\u200B\x85\u180E"||p&&b[m].name!==m})}},function(c,f,a){var p=a(15);c.exports=p(1 .valueOf)},function(c,f,a){var p=a(15),s=a(38),b=Math.floor,m=p("".charAt),w=p("".replace),O=p("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;c.exports=function(P,C,R,G,H,L){var V=R+P.length,Z=G.length,Y=S;return H!==void 0&&(H=s(H),Y=j),w(L,Y,function(N,z){var k;switch(m(z,0)){case"$":return"$";case"&":return P;case"`":return O(C,0,R);case"'":return O(C,V);case"<":k=H[O(z,1,-1)];break;default:var I=+z;if(I===0)return N;if(I>Z){var U=b(I/10);return U===0?N:U<=Z?G[U-1]===void 0?m(z,1):G[U-1]+m(z,1):N}k=G[I-1]}return k===void 0?"":k})}},function(c,f,a){var p=a(9),s=a(15),b=a(60),m=a(33),w=a(34),O=a(117),j=p.Function,S=s([].concat),P=s([].join),C={},R=function(G,H,L){if(!w(C,H)){for(var V=[],Z=0;Z<H;Z++)V[Z]="a["+Z+"]";C[H]=j("C,a","return new C("+P(V,",")+")")}return C[H](G,L)};c.exports=j.bind||function(G){var H=b(this),L=H.prototype,V=O(arguments,1),Z=function(){var Y=S(V,O(arguments));return this instanceof Z?R(H,Y.length,Y):H.apply(G,Y)};return m(L)&&(Z.prototype=L),Z}},function(c,f,a){var p=a(34);c.exports=function(s){return s!==void 0&&(p(s,"value")||p(s,"writable"))}},function(c,f,a){var p=a(35),s=a(15),b=a(36),m=a(19),w=a(61),O=a(109),j=a(86),S=a(38),P=a(73),C=Object.assign,R=Object.defineProperty,G=s([].concat);c.exports=!C||m(function(){if(p&&C({b:1},C(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var H={},L={},V=Symbol();return H[V]=7,"abcdefghijklmnopqrst".split("").forEach(function(Z){L[Z]=Z}),C({},H)[V]!=7||w(C({},L)).join("")!="abcdefghijklmnopqrst"})?function(H,L){for(var V=S(H),Z=arguments.length,Y=1,N=O.f,z=j.f;Z>Y;)for(var k,I=P(arguments[Y++]),U=N?G(w(I),N(I)):w(I),ee=U.length,$=0;ee>$;)k=U[$++],p&&!b(z,I,k)||(V[k]=I[k]);return V}:C},function(c,f,a){var p=a(15),s=a(44),b=a(40),m=/"/g,w=p("".replace);c.exports=function(O,j,S,P){var C=b(s(O)),R="<"+j;return S!==""&&(R+=" "+S+'="'+w(b(P),m,"&quot;")+'"'),R+">"+C+"</"+j+">"}},function(c,f,a){var p=a(19);c.exports=function(s){return p(function(){var b=""[s]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(c,f,a){var p=a(17),s=Math.hypot,b=Math.abs,m=Math.sqrt;p({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(w,O){for(var j,S,P=0,C=0,R=arguments.length,G=0;C<R;)G<(j=b(arguments[C++]))?(P=P*(S=G/j)*S+1,G=j):P+=j>0?(S=j/G)*S:j;return G===1/0?1/0:G*m(P)}})},function(c,f,a){var p=a(35),s=a(15),b=a(61),m=a(39),w=s(a(86).f),O=s([].push),j=function(S){return function(P){for(var C,R=m(P),G=b(R),H=G.length,L=0,V=[];H>L;)C=G[L++],p&&!w(R,C)||O(V,S?[C,R[C]]:R[C]);return V}};c.exports={entries:j(!0),values:j(!1)}},function(c,f,a){var p=a(38),s=a(62),b=a(43);c.exports=function(m){for(var w=p(this),O=b(w),j=arguments.length,S=s(j>1?arguments[1]:void 0,O),P=j>2?arguments[2]:void 0,C=P===void 0?O:s(P,O);C>S;)w[S++]=m;return w}},function(c,f,a){a.r(f),a.d(f,"observer",function(){return An}),a.d(f,"LogicFlow",function(){return Cc}),a.d(f,"h",function(){return q.g}),a.d(f,"LogicFlowUtil",function(){return p}),a.d(f,"BaseNode",function(){return ir}),a.d(f,"RectNode",function(){return ec}),a.d(f,"CircleNode",function(){return nc}),a.d(f,"PolygonNode",function(){return oc}),a.d(f,"DiamondNode",function(){return ac}),a.d(f,"EllipseNode",function(){return cc}),a.d(f,"TextNode",function(){return lc}),a.d(f,"HtmlNode",function(){return pc}),a.d(f,"BaseEdge",function(){return ri}),a.d(f,"LineEdge",function(){return Oc}),a.d(f,"PolylineEdge",function(){return xc}),a.d(f,"BezierEdge",function(){return jc}),a.d(f,"Arrow",function(){return Nh}),a.d(f,"BaseEdgeModel",function(){return yu}),a.d(f,"BezierEdgeModel",function(){return Lu}),a.d(f,"LineEdgeModel",function(){return gu}),a.d(f,"PolylineEdgeModel",function(){return mu}),a.d(f,"BaseNodeModel",function(){return tr}),a.d(f,"CircleNodeModel",function(){return Bu}),a.d(f,"DiamondNodeModel",function(){return Uu}),a.d(f,"EllipseNodeModel",function(){return Gu}),a.d(f,"PolygonNodeModel",function(){return Hu}),a.d(f,"RectNodeModel",function(){return Yu}),a.d(f,"TextNodeModel",function(){return Vu}),a.d(f,"HtmlNodeModel",function(){return Ku}),a.d(f,"EditConfigModel",function(){return ms}),a.d(f,"GraphModel",function(){return sf}),a.d(f,"SnaplineModel",function(){return Id}),a.d(f,"Keyboard",function(){return jy}),a.d(f,"get",function(){return op}),a.d(f,"defaults",function(){return ap});var p={};a.r(p),a.d(p,"createUuid",function(){return uo}),a.d(p,"refreshGraphId",function(){return Vg}),a.d(p,"createDrag",function(){return Ho}),a.d(p,"StepDrag",function(){return Yo});var s=a(0),b=a(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var m=a(42),w=Object(m.b)("observerBatching");function O(e){e()}var j=!1;function S(){return j}function P(e){return Object(s.t)(e)}var C,R=1e4,G=new Set;function H(){C===void 0&&(C=setTimeout(L,1e4))}function L(){C=void 0;var e=Date.now();G.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,G.delete(t))}),G.size>0&&H()}var V=!1,Z=[],Y={};function N(e){return"observer"+e}function z(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=Y),S();var r,i=function(_){return function(){V?Z.push(_):_()}}((n.useForceUpdate||m.d)()),o=b.d.useRef(null);if(!o.current){var u=new s.c(N(t),function(){l.mounted?i():(u.dispose(),o.current=null)}),l=function(_){return{cleanAt:Date.now()+R,reaction:_}}(u);o.current=l,r=o,G.add(r),H()}var d=o.current.reaction;return b.d.useDebugValue(d,P),b.d.useEffect(function(){var _;return _=o,G.delete(_),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(N(t),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(_){V=!0,Z=[];try{var E=_();V=!1;var A=Z.length>0?Z:void 0;return b.d.useLayoutEffect(function(){A&&A.forEach(function(D){return D()})},[A]),E}finally{V=!1}}(function(){var _,E;if(d.track(function(){try{_=e()}catch(A){E=A}}),E)throw E;return _})}var k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function I(e,t){var n,r,i,o=k({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,_){return z(function(){return e(d,_)},u)};return l.displayName=u,n=o.forwardRef?Object(b.f)(Object(b.e)(l)):Object(b.f)(l),r=e,i=n,Object.keys(r).forEach(function(d){U[d]||Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var U={$$typeof:!0,render:!0,compare:!0,type:!0};function ee(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:z(r)}function $(e,t,n,r,i){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}ee.propTypes={children:$,render:$},ee.displayName="Observer";var ie;(ie=b.g)||(ie=O),Object(s.n)({reactionScheduler:ie}),Object(m.a)()[w]=!0;var ve=0,ge={};function de(e){return ge[e]||(ge[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+ve+")";return ve++,n}(e)),ge[e]}function Ee(e,t){if(fe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!fe(e[n[i]],t[n[i]]))return!1;return!0}function fe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ue(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var me=de("patchMixins"),_e=de("patchedDefinition");function Pe(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,i)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,i)})}}function De(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Pe.call.apply(Pe,[this,e,t].concat(r))}}function Le(e,t,n){var r=function(l,d){var _=l[me]=l[me]||{},E=_[d]=_[d]||{};return E.locks=E.locks||0,E.methods=E.methods||[],E}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[_e]){var o=e[t],u=function l(d,_,E,A,D){var B,W=De(D,A);return(B={})[_e]=!0,B.get=function(){return W},B.set=function(re){if(this===d)W=De(re,A);else{var ae=l(this,_,E,A,re);Object.defineProperty(this,_,ae)}},B.configurable=!0,B.enumerable=E,B}(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var ke=s.a||"$mobx",Ue=de("isMobXReactObserver"),at=de("isUnmounted"),K=de("skipRender"),J=de("isForcingUpdate");function oe(e){var t=e.prototype;if(e[Ue]){var n=ye(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[Ue]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==b.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Oe)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Oe;We(t,"props"),We(t,"state");var r=t.render;return t.render=function(){return Se.call(this,r)},Le(t,"componentWillUnmount",function(){var i;if((i=this.render[ke])===null||i===void 0||i.dispose(),this[at]=!0,!this.render[ke]){var o=ye(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ye(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Se(e){var t=this;ue(this,K,!1),ue(this,J,!1);var n=ye(this),r=e.bind(this),i=!1,o=new s.c(n+".render()",function(){if(!i&&(i=!0,t[at]!==!0)){var l=!0;try{ue(t,J,!0),t[K]||b.a.prototype.forceUpdate.call(t),l=!1}finally{ue(t,J,!1),l&&o.dispose()}}});function u(){i=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(_){l=_}}),l)throw l;return d}return o.reactComponent=this,u[ke]=o,this.render=u,u.call(this)}function Oe(e,t){return this.state!==t||!Ee(this.props,e)}function We(e,t){var n=de("reactProp_"+t+"_valueHolder"),r=de("reactProp_"+t+"_atomHolder");function i(){return this[r]||ue(this,r,Object(s.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),i.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[J]||Ee(this[n],o)?ue(this,n,o):(ue(this,n,o),ue(this,K,!0),i.call(this).reportChanged(),ue(this,K,!1))}})}var He=typeof Symbol=="function"&&Symbol.for,$e=He?Symbol.for("react.forward_ref"):typeof b.e=="function"&&Object(b.e)(function(e){return null}).$$typeof,Ye=He?Symbol.for("react.memo"):typeof b.f=="function"&&Object(b.f)(function(e){return null}).$$typeof;function pe(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ye&&e.$$typeof===Ye)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if($e&&e.$$typeof===$e){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var n=arguments;return Object(b.c)(ee,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(b.a,e)?oe(e):I(e)}if(!b.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var q=a(1);a(3),a(90),a(2),a(6),a(5),a(11),a(41),a(24),a(20),a(4),a(22),a(21),a(23),a(7),a(8),a(16),a(25),a(18),a(30),a(181),a(186),a(97),a(148),a(149);var ze=function(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ie=function(){this.__data__=[],this.size=0},Ve=function(e,t){return e===t||e!=e&&t!=t},kt=function(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1},rt=Array.prototype.splice,st=function(e){var t=this.__data__,n=kt(t,e);return!(n<0)&&(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,!0)},pt=function(e){var t=this.__data__,n=kt(t,e);return n<0?void 0:t[n][1]},Bt=function(e){return kt(this.__data__,e)>-1},X=function(e,t){var n=this.__data__,r=kt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Q(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Q.prototype.clear=Ie,Q.prototype.delete=st,Q.prototype.get=pt,Q.prototype.has=Bt,Q.prototype.set=X;var se=Q,we=function(){this.__data__=new se,this.size=0},Ze=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xe=function(e){return this.__data__.get(e)},Qe=function(e){return this.__data__.has(e)},dt=a(28),At=dt.a.Symbol,Ct=Object.prototype,Vn=Ct.hasOwnProperty,kn=Ct.toString,gt=At?At.toStringTag:void 0,Te=function(e){var t=Vn.call(e,gt),n=e[gt];try{e[gt]=void 0;var r=!0}catch(o){}var i=kn.call(e);return r&&(t?e[gt]=n:delete e[gt]),i},Ge=Object.prototype.toString,Je=function(e){return Ge.call(e)},lt=At?At.toStringTag:void 0,Ot=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":lt&&lt in Object(e)?Te(e):Je(e)},Mt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Wt,Oo=function(e){if(!Mt(e))return!1;var t=Ot(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Mn=dt.a["__core-js_shared__"],Wn=(Wt=/[^.]+$/.exec(Mn&&Mn.keys&&Mn.keys.IE_PROTO||""))?"Symbol(src)_1."+Wt:"",qr=function(e){return!!Wn&&Wn in e},za=Function.prototype.toString,_n=function(e){if(e!=null){try{return za.call(e)}catch(t){}try{return e+""}catch(t){}}return""},$r=/^\[object .+?Constructor\]$/,gi=Function.prototype,Ne=Object.prototype,Ba=gi.toString,bi=Ne.hasOwnProperty,mi=RegExp("^"+Ba.call(bi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),on=function(e){return!(!Mt(e)||qr(e))&&(Oo(e)?mi:$r).test(_n(e))},an=function(e,t){return e==null?void 0:e[t]},Tn=function(e,t){var n=an(e,t);return on(n)?n:void 0},cr=Tn(dt.a,"Map"),On=Tn(Object,"create"),wo=function(){this.__data__=On?On(null):{},this.size=0},_i=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Fa=Object.prototype.hasOwnProperty,Jr=function(e){var t=this.__data__;if(On){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Fa.call(t,e)?t[e]:void 0},Ua=Object.prototype.hasOwnProperty,Oi=function(e){var t=this.__data__;return On?t[e]!==void 0:Ua.call(t,e)},Ga=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===void 0?"__lodash_hash_undefined__":t,this};function Kn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kn.prototype.clear=wo,Kn.prototype.delete=_i,Kn.prototype.get=Jr,Kn.prototype.has=Oi,Kn.prototype.set=Ga;var wi=Kn,Dn=function(){this.size=0,this.__data__={hash:new wi,map:new(cr||se),string:new wi}},Xa=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},Qr=function(e,t){var n=e.__data__;return Xa(t)?n[typeof t=="string"?"string":"hash"]:n.map},xo=function(e){var t=Qr(this,e).delete(e);return this.size-=t?1:0,t},Eo=function(e){return Qr(this,e).get(e)},Ha=function(e){return Qr(this,e).has(e)},xi=function(e,t){var n=Qr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function sr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sr.prototype.clear=Dn,sr.prototype.delete=xo,sr.prototype.get=Eo,sr.prototype.has=Ha,sr.prototype.set=xi;var lr=sr,Ei=function(e,t){var n=this.__data__;if(n instanceof se){var r=n.__data__;if(!cr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new lr(r)}return n.set(e,t),this.size=n.size,this};function fr(e){var t=this.__data__=new se(e);this.size=t.size}fr.prototype.clear=we,fr.prototype.delete=Ze,fr.prototype.get=Xe,fr.prototype.has=Qe,fr.prototype.set=Ei;var Nn=fr,ji=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Si=function(e){return this.__data__.has(e)};function Ar(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new lr;++t<n;)this.add(e[t])}Ar.prototype.add=Ar.prototype.push=ji,Ar.prototype.has=Si;var Pi=Ar,Ya=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ai=function(e,t){return e.has(t)},ki=function(e,t,n,r,i,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var _=o.get(e),E=o.get(t);if(_&&E)return _==t&&E==e;var A=-1,D=!0,B=2&n?new Pi:void 0;for(o.set(e,t),o.set(t,e);++A<l;){var W=e[A],re=t[A];if(r)var ae=u?r(re,W,A,t,e,o):r(W,re,A,e,t,o);if(ae!==void 0){if(ae)continue;D=!1;break}if(B){if(!Ya(t,function(ne,le){if(!Ai(B,le)&&(W===ne||i(W,ne,n,r,o)))return B.push(le)})){D=!1;break}}else if(W!==re&&!i(W,re,n,r,o)){D=!1;break}}return o.delete(e),o.delete(t),D},kr=dt.a.Uint8Array,Mi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n},Va=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Ti=At?At.prototype:void 0,jo=Ti?Ti.valueOf:void 0,Mr=function(e,t,n,r,i,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new kr(e),new kr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ve(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Mi;case"[object Set]":var d=1&r;if(l||(l=Va),e.size!=t.size&&!d)return!1;var _=u.get(e);if(_)return _==t;r|=2,u.set(e,t);var E=ki(l(e),l(t),r,i,o,u);return u.delete(e),E;case"[object Symbol]":if(jo)return jo.call(e)==jo.call(t)}return!1},Cn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ft=Array.isArray,Di=function(e,t,n){var r=t(e);return Ft(e)?r:Cn(r,n(e))},Wa=function(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[i++]=u)}return o},Ni=function(){return[]},pr=Object.prototype.propertyIsEnumerable,Ci=Object.getOwnPropertySymbols,So=Ci?function(e){return e==null?[]:(e=Object(e),Wa(Ci(e),function(t){return pr.call(e,t)}))}:Ni,pn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},dn=function(e){return e!=null&&typeof e=="object"},Po=function(e){return dn(e)&&Ot(e)=="[object Arguments]"},Ri=Object.prototype,eo=Ri.hasOwnProperty,to=Ri.propertyIsEnumerable,Tr=Po(function(){return arguments}())?Po:function(e){return dn(e)&&eo.call(e,"callee")&&!to.call(e,"callee")},Dr=a(47),hn=/^(?:0|[1-9]\d*)$/,Rn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&hn.test(e))&&e>-1&&e%1==0&&e<t},tn=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var Nr=function(e){return dn(e)&&tn(e.length)&&!!ut[Ot(e)]},Kt=function(e){return function(t){return e(t)}},dr=a(48),Ii=dr.a&&dr.a.isTypedArray,no=Ii?Kt(Ii):Nr,wn=Object.prototype.hasOwnProperty,Ao=function(e,t){var n=Ft(e),r=!n&&Tr(e),i=!n&&!r&&Object(Dr.a)(e),o=!n&&!r&&!i&&no(e),u=n||r||i||o,l=u?pn(e.length,String):[],d=l.length;for(var _ in e)!t&&!wn.call(e,_)||u&&(_=="length"||i&&(_=="offset"||_=="parent")||o&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||Rn(_,d))||l.push(_);return l},Ka=Object.prototype,nn=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Ka)},ko=function(e,t){return function(n){return e(t(n))}},Za=ko(Object.keys,Object),Mo=Object.prototype.hasOwnProperty,Zt=function(e){if(!nn(e))return Za(e);var t=[];for(var n in Object(e))Mo.call(e,n)&&n!="constructor"&&t.push(n);return t},Zn=function(e){return e!=null&&tn(e.length)&&!Oo(e)},qn=function(e){return Zn(e)?Ao(e):Zt(e)},Ht=function(e){return Di(e,qn,So)},Li=Object.prototype.hasOwnProperty,To=function(e,t,n,r,i,o){var u=1&n,l=Ht(e),d=l.length;if(d!=Ht(t).length&&!u)return!1;for(var _=d;_--;){var E=l[_];if(!(u?E in t:Li.call(t,E)))return!1}var A=o.get(e),D=o.get(t);if(A&&D)return A==t&&D==e;var B=!0;o.set(e,t),o.set(t,e);for(var W=u;++_<d;){var re=e[E=l[_]],ae=t[E];if(r)var ne=u?r(ae,re,E,t,e,o):r(re,ae,E,e,t,o);if(!(ne===void 0?re===ae||i(re,ae,n,r,o):ne)){B=!1;break}W||(W=E=="constructor")}if(B&&!W){var le=e.constructor,he=t.constructor;le==he||!("constructor"in e)||!("constructor"in t)||typeof le=="function"&&le instanceof le&&typeof he=="function"&&he instanceof he||(B=!1)}return o.delete(e),o.delete(t),B},ro=Tn(dt.a,"DataView"),oo=Tn(dt.a,"Promise"),io=Tn(dt.a,"Set"),Do=Tn(dt.a,"WeakMap"),un=_n(ro),yn=_n(cr),Cr=_n(oo),zi=_n(io),No=_n(Do),In=Ot;(ro&&In(new ro(new ArrayBuffer(1)))!="[object DataView]"||cr&&In(new cr)!="[object Map]"||oo&&In(oo.resolve())!="[object Promise]"||io&&In(new io)!="[object Set]"||Do&&In(new Do)!="[object WeakMap]")&&(In=function(e){var t=Ot(e),n=t=="[object Object]"?e.constructor:void 0,r=n?_n(n):"";if(r)switch(r){case un:return"[object DataView]";case yn:return"[object Map]";case Cr:return"[object Promise]";case zi:return"[object Set]";case No:return"[object WeakMap]"}return t});var Rr=In,Ir=Object.prototype.hasOwnProperty,qa=function(e,t,n,r,i,o){var u=Ft(e),l=Ft(t),d=u?"[object Array]":Rr(e),_=l?"[object Array]":Rr(t),E=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",A=(_=_=="[object Arguments]"?"[object Object]":_)=="[object Object]",D=d==_;if(D&&Object(Dr.a)(e)){if(!Object(Dr.a)(t))return!1;u=!0,E=!1}if(D&&!E)return o||(o=new Nn),u||no(e)?ki(e,t,n,r,i,o):Mr(e,t,d,n,r,i,o);if(!(1&n)){var B=E&&Ir.call(e,"__wrapped__"),W=A&&Ir.call(t,"__wrapped__");if(B||W){var re=B?e.value():e,ae=W?t.value():t;return o||(o=new Nn),i(re,ae,n,r,o)}}return!!D&&(o||(o=new Nn),To(e,t,n,r,i,o))},v=function e(t,n,r,i,o){return t===n||(t==null||n==null||!dn(t)&&!dn(n)?t!=t&&n!=n:qa(t,n,r,i,e,o))},g=function(e,t,n,r){var i=n.length,o=i,u=!r;if(e==null)return!o;for(e=Object(e);i--;){var l=n[i];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){var d=(l=n[i])[0],_=e[d],E=l[1];if(u&&l[2]){if(_===void 0&&!(d in e))return!1}else{var A=new Nn;if(r)var D=r(_,E,d,e,t,A);if(!(D===void 0?v(E,_,3,r,A):D))return!1}}return!0},x=function(e){return e==e&&!Mt(e)},M=function(e){for(var t=qn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,x(i)]}return t},T=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},F=function(e){var t=M(e);return t.length==1&&t[0][2]?T(t[0][0],t[0][1]):function(n){return n===e||g(n,e,t)}},te=function(e){return typeof e=="symbol"||dn(e)&&Ot(e)=="[object Symbol]"},be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ae=/^\w*$/,tt=function(e,t){if(Ft(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!te(e))||Ae.test(e)||!be.test(e)||t!=null&&e in Object(t)};function et(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=e.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(et.Cache||lr),n}et.Cache=lr;var bt=et,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/\\(\\)?/g,wt=function(e){var t=bt(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ht,function(n,r,i,o){t.push(i?o.replace(ft,"$1"):r||n)}),t}),mt=At?At.prototype:void 0,yt=mt?mt.toString:void 0,xn=function e(t){if(typeof t=="string")return t;if(Ft(t))return ze(t,e)+"";if(te(t))return yt?yt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},$a=function(e){return e==null?"":xn(e)},Lr=function(e,t){return Ft(e)?e:tt(e,t)?[e]:wt($a(e))},hr=function(e){if(typeof e=="string"||te(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},zr=function(e,t){for(var n=0,r=(t=Lr(t,e)).length;e!=null&&n<r;)e=e[hr(t[n++])];return n&&n==r?e:void 0},Co=function(e,t,n){var r=e==null?void 0:zr(e,t);return r===void 0?n:r},qt=function(e,t){return e!=null&&t in Object(e)},Bi=function(e,t,n){for(var r=-1,i=(t=Lr(t,e)).length,o=!1;++r<i;){var u=hr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=i?o:!!(i=e==null?0:e.length)&&tn(i)&&Rn(u,i)&&(Ft(e)||Tr(e))},Ro=function(e,t){return e!=null&&Bi(e,t,qt)},Rv=function(e,t){return tt(e)&&x(t)?T(hr(e),t):function(n){var r=Co(n,e);return r===void 0&&r===t?Ro(n,e):v(t,r,3)}},Ja=function(e){return e},Iv=function(e){return function(t){return t==null?void 0:t[e]}},Lv=function(e){return function(t){return zr(t,e)}},zv=function(e){return tt(e)?Iv(hr(e)):Lv(e)},Bv=function(e){return typeof e=="function"?e:e==null?Ja:typeof e=="object"?Ft(e)?Rv(e[0],e[1]):F(e):zv(e)},qc=function(e){return function(t,n,r){for(var i=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++i];if(n(o[d],d,o)===!1)break}return t}}(),Fv=function(e,t){return function(n,r){if(n==null)return n;if(!Zn(n))return e(n,r);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&qc(e,t,qn)}),Uv=function(e,t){var n=-1,r=Zn(e)?Array(e.length):[];return Fv(e,function(i,o,u){r[++n]=t(i,o,u)}),r},Fi=function(e,t){return(Ft(e)?ze:Uv)(e,Bv(t))},Ui=function(){try{var e=Tn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Qa=function(e,t,n){t=="__proto__"&&Ui?Ui(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Gv=Object.prototype.hasOwnProperty,Gi=function(e,t,n){var r=e[t];Gv.call(e,t)&&Ve(r,n)&&(n!==void 0||t in e)||Qa(e,t,n)},ao=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),i?Qa(n,l,d):Gi(n,l,d)}return n},Xv=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},$c=Math.max,Jc=function(e,t,n){return t=$c(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=$c(r.length-t,0),u=Array(o);++i<o;)u[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(u),Xv(e,this,l)}},Hv=function(e){return function(){return e}},Yv=Ui?function(e,t){return Ui(e,"toString",{configurable:!0,enumerable:!1,value:Hv(t),writable:!0})}:Ja,Vv=Date.now,Qc=function(e){var t=0,n=0;return function(){var r=Vv(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Yv),Wv=function(e,t){return Qc(Jc(e,t,Ja),e+"")},Kv=function(e,t,n){if(!Mt(n))return!1;var r=typeof t;return!!(r=="number"?Zn(n)&&Rn(t,n.length):r=="string"&&t in n)&&Ve(n[t],e)},es=function(e){return Wv(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,u&&Kv(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t})},Zv=Object.prototype.hasOwnProperty,$t=es(function(e,t){if(nn(t)||Zn(t))ao(t,qn(t),e);else for(var n in t)Zv.call(t,n)&&Gi(e,n,t[n])}),qv=function(e,t,n,r){if(!Mt(e))return e;for(var i=-1,o=(t=Lr(t,e)).length,u=o-1,l=e;l!=null&&++i<o;){var d=hr(t[i]),_=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=u){var E=l[d];(_=r?r(E,d,l):void 0)===void 0&&(_=Mt(E)?E:Rn(t[i+1])?[]:{})}Gi(l,d,_),l=l[d]}return e},$v=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var u=t[r],l=zr(e,u);n(l,u)&&qv(o,Lr(u,e),l)}return o},Jv=function(e,t){return $v(e,t,function(n,r){return Ro(e,r)})},ts=At?At.isConcatSpreadable:void 0,Qv=function(e){return Ft(e)||Tr(e)||!!(ts&&e&&e[ts])},eg=function e(t,n,r,i,o){var u=-1,l=t.length;for(r||(r=Qv),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,i,o):Cn(o,d):i||(o[o.length]=d)}return o},tg=function(e){return(e==null?0:e.length)?eg(e,1):[]},Rt,ns,rs,os,is,as,us,cs,ss,ls,fs,ps,ds,hs,ys,vs,Io=function(e){return Qc(Jc(e,void 0,tg),e+"")}(function(e,t){return e==null?{}:Jv(e,t)});function Jt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xt,bs,ct,It,nt,St,rg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},eu=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],ms=(ns=Yt((Rt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Jt(this,"stopZoomGraph",ns,this),Jt(this,"stopScrollGraph",rs,this),Jt(this,"stopMoveGraph",os,this),Jt(this,"adjustEdge",is,this),Jt(this,"adjustEdgeMiddle",as,this),Jt(this,"adjustEdgeStartAndEnd",us,this),Jt(this,"adjustNodePosition",cs,this),Jt(this,"hideAnchors",ss,this),Jt(this,"hoverOutline",ls,this),Jt(this,"nodeSelectedOutline",fs,this),Jt(this,"edgeSelectedOutline",ps,this),Jt(this,"nodeTextEdit",ds,this),Jt(this,"edgeTextEdit",hs,this),Jt(this,"nodeTextDraggable",ys,this),Jt(this,"edgeTextDraggable",vs,this),gs(this,"multipleSelectKey",""),gs(this,"defaultConfig",{}),$t(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);$t(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,u={};if(i===!1&&$t(u,this.defaultConfig),i===!0){var l=Io(rg,eu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},$t(u,l)}o===!1&&$t(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Io(r,eu);return $t(u,d)}},{key:"getConfig",value:function(){return Io(this,eu)}}])&&ng(t.prototype,n),e}()).prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rs=Yt(Rt.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),os=Yt(Rt.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),is=Yt(Rt.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),as=Yt(Rt.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),us=Yt(Rt.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cs=Yt(Rt.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ss=Yt(Rt.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ls=Yt(Rt.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fs=Yt(Rt.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ps=Yt(Rt.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ds=Yt(Rt.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hs=Yt(Rt.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ys=Yt(Rt.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vs=Yt(Rt.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt(Rt.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(Rt.prototype,"updateEditConfig"),Rt.prototype),Rt);a(98),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(xt||(xt={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(bs||(bs={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(ct||(ct={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(It||(It={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(nt||(nt={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(St||(St={}));var cn,Dt,_s,Os,ws,xs,Es,js,Ss;function Xi(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ps(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ps(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ps(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Br(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(cn||(cn={}));var ig=(_s=En((Dt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),tu(this,"MINI_SCALE_SIZE",.2),tu(this,"MAX_SCALE_SIZE",16),Br(this,"SCALE_X",_s,this),Br(this,"SKEW_Y",Os,this),Br(this,"SKEW_X",ws,this),Br(this,"SCALE_Y",xs,this),Br(this,"TRANSLATE_X",Es,this),Br(this,"TRANSLATE_Y",js,this),Br(this,"ZOOM_SIZE",Ss,this),tu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=Xi(r,2),o=i[0],u=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=Xi(r,2),o=i[0],u=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var u=Xi(r,2),l=u[0],d=u[1];return[l+i/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(nt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,u){var l=Xi(this.CanvasPointToHtmlPoint([r,i]),2),d=o/2-l[0],_=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=_,this.emitGraphTransform("focusOn")}}])&&og(t.prototype,n),e}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Os=En(Dt.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ws=En(Dt.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xs=En(Dt.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Es=En(Dt.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),js=En(Dt.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ss=En(Dt.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),En(Dt.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(Dt.prototype,"zoom"),Dt.prototype),En(Dt.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(Dt.prototype,"resetZoom"),Dt.prototype),En(Dt.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(Dt.prototype,"translate"),Dt.prototype),En(Dt.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(Dt.prototype,"focusOn"),Dt.prototype),Dt),ag=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},ug=function(e,t){return e&&ao(t,qn(t),e)},cg=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},sg=Object.prototype.hasOwnProperty,lg=function(e){if(!Mt(e))return cg(e);var t=nn(e),n=[];for(var r in e)(r!="constructor"||!t&&sg.call(e,r))&&n.push(r);return n},Lo=function(e){return Zn(e)?Ao(e,!0):lg(e)},fg=function(e,t){return e&&ao(t,Lo(t),e)},As=a(101),ks=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},pg=function(e,t){return ao(e,So(e),t)},nu=ko(Object.getPrototypeOf,Object),Ms=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Cn(t,So(e)),e=nu(e);return t}:Ni,dg=function(e,t){return ao(e,Ms(e),t)},hg=function(e){return Di(e,Lo,Ms)},yg=Object.prototype.hasOwnProperty,vg=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&yg.call(e,"index")&&(n.index=e.index,n.input=e.input),n},ru=function(e){var t=new e.constructor(e.byteLength);return new kr(t).set(new kr(e)),t},gg=function(e,t){var n=t?ru(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},bg=/\w*$/,mg=function(e){var t=new e.constructor(e.source,bg.exec(e));return t.lastIndex=e.lastIndex,t},Ts=At?At.prototype:void 0,Ds=Ts?Ts.valueOf:void 0,_g=function(e){return Ds?Object(Ds.call(e)):{}},Ns=function(e,t){var n=t?ru(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Og=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ru(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return gg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ns(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return mg(e);case"[object Set]":return new r;case"[object Symbol]":return _g(e)}},Cs=Object.create,wg=function(){function e(){}return function(t){if(!Mt(t))return{};if(Cs)return Cs(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Rs=function(e){return typeof e.constructor!="function"||nn(e)?{}:wg(nu(e))},xg=function(e){return dn(e)&&Rr(e)=="[object Map]"},Is=dr.a&&dr.a.isMap,Eg=Is?Kt(Is):xg,jg=function(e){return dn(e)&&Rr(e)=="[object Set]"},Ls=dr.a&&dr.a.isSet,Sg=Ls?Kt(Ls):jg,Et={};Et["[object Arguments]"]=Et["[object Array]"]=Et["[object ArrayBuffer]"]=Et["[object DataView]"]=Et["[object Boolean]"]=Et["[object Date]"]=Et["[object Float32Array]"]=Et["[object Float64Array]"]=Et["[object Int8Array]"]=Et["[object Int16Array]"]=Et["[object Int32Array]"]=Et["[object Map]"]=Et["[object Number]"]=Et["[object Object]"]=Et["[object RegExp]"]=Et["[object Set]"]=Et["[object String]"]=Et["[object Symbol]"]=Et["[object Uint8Array]"]=Et["[object Uint8ClampedArray]"]=Et["[object Uint16Array]"]=Et["[object Uint32Array]"]=!0,Et["[object Error]"]=Et["[object Function]"]=Et["[object WeakMap]"]=!1;var Pg=function e(t,n,r,i,o,u){var l,d=1&n,_=2&n,E=4&n;if(r&&(l=o?r(t,i,o,u):r(t)),l!==void 0)return l;if(!Mt(t))return t;var A=Ft(t);if(A){if(l=vg(t),!d)return ks(t,l)}else{var D=Rr(t),B=D=="[object Function]"||D=="[object GeneratorFunction]";if(Object(Dr.a)(t))return Object(As.a)(t,d);if(D=="[object Object]"||D=="[object Arguments]"||B&&!o){if(l=_||B?{}:Rs(t),!d)return _?dg(t,fg(l,t)):pg(t,ug(l,t))}else{if(!Et[D])return o?t:{};l=Og(t,D,d)}}u||(u=new Nn);var W=u.get(t);if(W)return W;u.set(t,l),Sg(t)?t.forEach(function(ae){l.add(e(ae,n,r,ae,t,u))}):Eg(t)&&t.forEach(function(ae,ne){l.set(ne,e(ae,n,r,ne,t,u))});var re=A?void 0:(E?_?hg:Ht:_?Lo:qn)(t);return ag(re||t,function(ae,ne){re&&(ae=t[ne=ae]),Gi(l,ne,e(ae,n,r,ne,t,u))}),l},Lt=function(e){return Pg(e,5)},ou=function(e,t,n){(n!==void 0&&!Ve(e[t],n)||n===void 0&&!(t in e))&&Qa(e,t,n)},Ag=function(e){return dn(e)&&Zn(e)},kg=Function.prototype,Mg=Object.prototype,zs=kg.toString,Tg=Mg.hasOwnProperty,Dg=zs.call(Object),Ng=function(e){if(!dn(e)||Ot(e)!="[object Object]")return!1;var t=nu(e);if(t===null)return!0;var n=Tg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&zs.call(n)==Dg},iu=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},Cg=function(e){return ao(e,Lo(e))},Rg=function(e,t,n,r,i,o,u){var l=iu(e,n),d=iu(t,n),_=u.get(d);if(_)ou(e,n,_);else{var E=o?o(l,d,n+"",e,t,u):void 0,A=E===void 0;if(A){var D=Ft(d),B=!D&&Object(Dr.a)(d),W=!D&&!B&&no(d);E=d,D||B||W?Ft(l)?E=l:Ag(l)?E=ks(l):B?(A=!1,E=Object(As.a)(d,!0)):W?(A=!1,E=Ns(d,!0)):E=[]:Ng(d)||Tr(d)?(E=l,Tr(l)?E=Cg(l):Mt(l)&&!Oo(l)||(E=Rs(d))):A=!1}A&&(u.set(d,E),i(E,d,r,o,u),u.delete(d)),ou(e,n,E)}},Ig=function e(t,n,r,i,o){t!==n&&qc(n,function(u,l){if(o||(o=new Nn),Mt(u))Rg(t,n,l,r,e,i,o);else{var d=i?i(iu(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),ou(t,l,d)}},Lo)},Lg=es(function(e,t,n){Ig(e,t,n)}),zg={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},Bs=function(e){var t=Lt(zg);return e&&(t=Lg(t,e)),t};a(70),a(190);function Bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fg=function(){function e(){var r,i,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,i,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],_=function(E){for(var A=E.length,D=0;D<A;D++)if(E[D]){var B=E[D],W=B.callback;B.once&&(E.splice(D,1),E.length===0&&delete o._events[u],A--,D--),W.apply(o,[i])}};_(l),_(d)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(i){for(var l=o._events[u]||[],d=l.length,_=0;_<d;_++)l[_].callback===i&&(l.splice(_,1),d--,_--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Bg(t.prototype,n),e}();function Hi(e,t){return t*Math.round(e/t)||e}function Fs(e,t){return e%t}function au(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Us(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Us(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Us(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uu,cu=function(e,t,n){var r=au(e,2),i=r[0],o=r[1],u=au(t,2),l=u[0],d=u[1],_=au(n,2),E=_[0],A=_[1];return i>l&&i<E&&o>d&&o<A},Gs=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},Ug=(a(71),a(155),a(122),a(72),a(12),a(13),a(14),a(46),a(31),new Uint8Array(16));function Gg(){if(!uu&&!(uu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uu(Ug)}for(var Xg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Hg=function(e){return typeof e=="string"&&Xg.test(e)},Ut=[],su=0;su<256;++su)Ut.push((su+256).toString(16).substr(1));var Yg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ut[e[t+0]]+Ut[e[t+1]]+Ut[e[t+2]]+Ut[e[t+3]]+"-"+Ut[e[t+4]]+Ut[e[t+5]]+"-"+Ut[e[t+6]]+Ut[e[t+7]]+"-"+Ut[e[t+8]]+Ut[e[t+9]]+"-"+Ut[e[t+10]]+Ut[e[t+11]]+Ut[e[t+12]]+Ut[e[t+13]]+Ut[e[t+14]]+Ut[e[t+15]]).toLowerCase();if(!Hg(n))throw TypeError("Stringified UUID is invalid");return n},lu=function(e,t,n){var r=(e=e||{}).random||(e.rng||Gg)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Yg(r)},uo=function(){return lu()},Vg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,i){return r[i.id]=t+lu(),i.id=r[i.id],r},{});return e.edges.forEach(function(r){r.id=t+lu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},zo=(a(99),a(199),function(e,t,n){var r=e.x,i=e.y;return(r-t.x)*(r-n.x)<=0&&(i-t.y)*(i-n.y)<=0});function Xs(e){return(Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hs(Object(n),!0).forEach(function(r){Wg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je,Vs,Ws,Ks,Zs,qs,$s,Js,Qs,el,tl,nl,rl,ol,il,al,ul,fu=function(e){return e.anchors},Yi=function(e,t){for(var n,r=t.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(qg(e,o)){var u=Zg(e,o);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!Kg(o,n.node,t)||(n=l)}}}return n},Kg=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},Zg=function(e,t){for(var n,r=fu(t),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Ln(e.x,e.y,r[o].x,r[o].y);u<i&&(i=u,n={index:o,anchor:Ys(Ys({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Ln=function(e,t,n,r){return Math.hypot(e-n,t-r)},yr=function(e,t){var n=!1,r=sn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},qg=function(e,t){var n=!1,r=sn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},sn=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n}},cl=function(e,t,n){var r,i=function(u){var l=u,d=l.x,_=l.y,E=l.width,A=l.height,D=l.radius;return[{x:d-E/2+D,y:_-A/2+D,r:D},{x:d+E/2-D,y:_-A/2+D,r:D},{x:d-E/2+D,y:_+A/2-D,r:D},{x:d+E/2-D,y:_+A/2-D,r:D}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(u){var l=Ln(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),pu(e,t,r)},pu=function(e,t,n){var r,i=n,o=i.x,u=i.y,l=i.r;if(t===St.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),_=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(_-e.x)?d:_,y:e.y}}else if(t===St.VERTICAL){var E=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),A=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),D=Math.abs(E-e.y)<Math.abs(A-e.y)?E:A;r={x:e.x,y:D}}return r},sl=function(e,t){var n=t,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,_=n.y,E=n.width,A=n.height;return e.y===_+A/2||e.y===_-A/2?r=e.x>i&&e.x<o:e.x!==d+E/2&&e.x!==d-E/2||(r=e.y>u&&e.y<l),r},ll=function(e,t,n){var r,i=n,o=i.x,u=i.y,l=i.rx,d=i.ry;if(t===St.HORIZONTAL){var _=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),E=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(_-e.x)<Math.abs(E-e.x)?_:E,y:e.y}}else if(t===St.VERTICAL){var A=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),D=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),B=Math.abs(A-e.y)<Math.abs(D-e.y)?A:D;r={x:e.x,y:B}}return r},fl=function(e,t,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<i.length;l++)u.push({start:i[l],end:i[(l+1)%i.length]});return u.forEach(function(d){var _=d.start,E=d.end,A=_,D=E;_.x>E.x&&(A=E,D=_);var B={x:e.x,y:e.y};if(A.x===D.x&&t===St.HORIZONTAL&&(B={x:A.x,y:e.y}),A.y===D.y&&t===St.VERTICAL&&(B={x:e.x,y:A.y}),A.x!==D.x&&A.y!==D.y){var W=(D.y-A.y)/(D.x-A.x),re=(A.x*D.y-D.x*A.y)/(A.x-D.x);t===St.HORIZONTAL?B={x:(e.y-re)/W,y:e.y}:t===St.VERTICAL&&(B={x:e.x,y:W*e.x+re})}if(zo(B,_,E)){var ae=Ln(B.x,B.y,e.x,e.y);ae<o&&(o=ae,r=B)}}),r},pl=function(e,t,n,r){var i=e.x,o=e.y;return t.x>e.x?i=e.x+n/2:t.x<e.x&&(i=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:i,y:o}},dl=function(e){var t=e.rows,n=e.style,r=e.rowsLength,i=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},du=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,i=0;return t&&t.forEach(function(o){var u=Ul(o);i=u>i?u:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},hl=function(e){return Xs(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},zn=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},$g=1e3,Jg=999,hu=function(){return++$g};function yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yl(Object(n),!0).forEach(function(r){Bn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var yu=(Vs=ot((je=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Bn(this,"id",uo()),Vt(this,"type",Vs,this),Vt(this,"sourceNodeId",Ws,this),Vt(this,"targetNodeId",Ks,this),Vt(this,"startPoint",Zs,this),Vt(this,"endPoint",qs,this),Vt(this,"text",$s,this),Vt(this,"properties",Js,this),Vt(this,"points",Qs,this),Vt(this,"pointsList",el,this),Vt(this,"isSelected",tl,this),Vt(this,"isHovered",nl,this),Vt(this,"isHitable",rl,this),Vt(this,"draggable",ol,this),Vt(this,"visible",il,this),Bn(this,"graphModel",void 0),Vt(this,"zIndex",al,this),Bn(this,"BaseType",It.EDGE),Bn(this,"modelType",ct.EDGE),Vt(this,"state",ul,this),Bn(this,"additionStateData",void 0),Bn(this,"sourceAnchorId",""),Bn(this,"targetAnchorId",""),Bn(this,"menu",void 0),Bn(this,"customTextPosition",!1),this.graphModel=i,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}$t(this,gb(r)),this.graphModel.overlapMode===cn.INCREASE&&(this.zIndex=r.zIndex||hu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Lt(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Lt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Lt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,i){var o,u;return fu(r).forEach(function(l){var d=Hl(l,i);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var i,o,u=this;return fu(r).forEach(function(l){var d=Hl(l,u.startPoint);o?d<o&&(o=d,i=l):(o=d,i=l)}),i}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:i,y:o,value:u}),this.graphModel.overlapMode===cn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"setProperty",value:function(r,i){this.properties[r]=zn(i),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Vi(Vi({},this.properties),zn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,u=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,_=o.draggable,E=o.editable;this.text={value:d,draggable:_,x:u+r,y:l+i,editable:E}}}},{key:"setText",value:function(r){r&&$t(this.text,r)}},{key:"updateText",value:function(r){this.text=Vi(Vi({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=r}if(!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint=i}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){$t(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&Qg(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ws=ot(je.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ks=ot(je.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zs=ot(je.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qs=ot(je.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$s=ot(je.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Js=ot(je.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qs=ot(je.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),el=ot(je.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tl=ot(je.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nl=ot(je.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rl=ot(je.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ol=ot(je.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),il=ot(je.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),al=ot(je.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ul=ot(je.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ot(je.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"sourceNode"),je.prototype),ot(je.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"targetNode"),je.prototype),ot(je.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"textPosition"),je.prototype),ot(je.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperty"),je.prototype),ot(je.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperties"),je.prototype),ot(je.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"formatText"),je.prototype),ot(je.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"resetTextPosition"),je.prototype),ot(je.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"moveText"),je.prototype),ot(je.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setText"),je.prototype),ot(je.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateText"),je.prototype),ot(je.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setAnchors"),je.prototype),ot(je.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setSelected"),je.prototype),ot(je.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setHovered"),je.prototype),ot(je.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setHitable"),je.prototype),ot(je.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setElementState"),je.prototype),ot(je.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateStartPoint"),je.prototype),ot(je.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateEndPoint"),je.prototype),ot(je.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setZIndex"),je.prototype),ot(je.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"initPoints"),je.prototype),ot(je.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAttributes"),je.prototype),ot(je.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"getAdjustStart"),je.prototype),ot(je.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"getAdjustEnd"),je.prototype),ot(je.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAfterAdjustStartAndEnd"),je.prototype),je),vu=yu;function vl(e){return(vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gl(Object(n),!0).forEach(function(r){wl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(){return(ml=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=nb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function nb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Bo(e))!==null;);return e}function _l(e,t){return(_l=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function rb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bo(e);if(t){var i=Bo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ob(this,n)}}function ob(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ol(e)}function Ol(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it,xl,gu=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_l(o,u)})(i,e);var t,n,r=rb(i);function i(){var o;eb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return wl(Ol(o=r.call.apply(r,[this].concat(l))),"modelType",ct.LINE_EDGE),o}return t=i,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return bl(bl({},ml(Bo(i.prototype),"getEdgeStyle",this).call(this)),Lt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&tb(t.prototype,n),i}(vu);function El(e){return(El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ib(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return jl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sl(Object(n),!0).forEach(function(r){bu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ab(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(){return(Wi=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=sb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function sb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Fr(e))!==null;);return e}function Al(e,t){return(Al=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function lb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fr(e);if(t){var i=Fr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fb(this,n)}}function fb(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fo(e)}function Fo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var mu=(xl=ln((it=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Al(o,u)})(i,e);var t,n,r=lb(i);function i(){var o;ub(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return bu(Fo(o=r.call.apply(r,[this].concat(l))),"modelType",ct.POLYLINE_EDGE),bu(Fo(o),"draginngPointList",void 0),ab(Fo(o),"dbClickPosition",xl,Fo(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=30,Wi(Fr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Pl(Pl({},Wi(Fr(i.prototype),"getEdgeStyle",this).call(this)),Lt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=co(this.points),_=ib(yb(d),2),E=_[0],A=_[1];return{x:(E.x+A.x)/2,y:(E.y+A.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,_;return l.forEach(function(E){var A;o===St.HORIZONTAL?A=Math.abs(u.y-E.y):o===St.VERTICAL&&(A=Math.abs(u.x-E.x)),(!_||_>A)&&(_=A,d=E)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===St.HORIZONTAL?d={x:l.x,y:u.y}:o===St.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(ne){return ne});if(o===1){var _=d[o],E=d[u],A=d[o-1];if(Ll(A,_,this.sourceNode)){if(zl(_,E,this.sourceNode)){var D=Bl(_,E,this.sourceNode);D&&(d[o]=D,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(ne){(ne.x===A.x&&ne.x===_.x||ne.y===A.y&&ne.y===_.y)&&Ln(ne.x,ne.y,_.x,_.y)<Ln(A.x,A.y,_.x,_.y)&&(d[o-1]=ne)})}if(u===l.length-2){var B=d[o],W=d[u],re=d[u+1];if(Ll(W,re,this.targetNode)){if(zl(B,W,this.targetNode)){var ae=Bl(B,W,this.targetNode);ae&&(d[u]=ae,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(ne){(ne.x===re.x&&ne.x===W.x||ne.y===re.y&&ne.y===W.y)&&Ln(ne.x,ne.y,W.x,W.y)<Ln(re.x,re.y,W.x,W.y)&&(d[u+1]=ne)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,_){var E=_.map(function(B){return B}),A=this.getAfterAnchor(o,l,d),D=this.getCorssPoint(o,l,A);return u==="start"?(E.unshift(D),E.unshift(A)):(E.push(D),E.push(A)),E}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(he){return he}),l=o[0],d=o[1],_=o[u.length-2],E=o[u.length-1],A=this.sourceNode,D=this.targetNode,B=A.modelType,W=D.modelType,re=Qi(l,d),ae=u[0];switch(B){case ct.RECT_NODE:A.radius!==0&&(sl(l,A)||(ae=cl(l,re,A)));break;case ct.CIRCLE_NODE:ae=pu(l,re,A);break;case ct.ELLIPSE_NODE:ae=ll(l,re,A);break;case ct.DIAMOND_NODE:case ct.POLYGON_NODE:ae=fl(l,re,A)}u[0]=ae;var ne=Qi(_,E),le=u[u.length-1];switch(W){case ct.RECT_NODE:D.radius!==0&&(sl(E,D)||(le=cl(E,ne,D)));break;case ct.CIRCLE_NODE:le=pu(E,ne,D);break;case ct.ELLIPSE_NODE:le=ll(E,ne,D);break;case ct.DIAMOND_NODE:case ct.POLYGON_NODE:le=fl(E,ne,D)}return u[u.length-1]=le,u}},{key:"getData",value:function(){var o=Wi(Fr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Il({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,_=o.startIndex,E=o.endIndex,A=o.direction,D=this.pointsList,B=D;return A===St.HORIZONTAL?(D[_]={x:l.x,y:l.y+u.y},D[E]={x:d.x,y:d.y+u.y},B=this.pointsList.map(function(W){return W})):A===St.VERTICAL&&(D[_]={x:l.x+u.x,y:l.y},D[E]={x:d.x+u.x,y:d.y},B=this.pointsList.map(function(W){return W})),this.updatePointsAfterDrage(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[_]),end:Object.assign({},D[E]),startIndex:_,endIndex:E,direction:A}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,_=o.startIndex,E=o.endIndex,A=o.direction,D=this.pointsList;if(A===St.HORIZONTAL){D[_]={x:l.x,y:l.y+u.y},D[E]={x:d.x,y:d.y+u.y};var B=this.pointsList.map(function(Re){return Re});if(_!==0&&E!==this.pointsList.length-1&&(B=this.removeCrossPoints(_,E,B)),_===0){var W={x:l.x,y:l.y+u.y};if(!yr(W,this.sourceNode)){var re=this.sourceNode.anchors;B=this.getDragingPoints(A,"start",W,re,B)}}if(E===this.pointsList.length-1){var ae={x:d.x,y:d.y+u.y};if(!yr(ae,this.targetNode)){var ne=this.targetNode.anchors;B=this.getDragingPoints(A,"end",ae,ne,B)}}B=Eu(B),this.updatePointsAfterDrage(B),this.draginngPointList=B}else if(A===St.VERTICAL){D[_]={x:l.x+u.x,y:l.y},D[E]={x:d.x+u.x,y:d.y};var le=this.pointsList.map(function(Re){return Re});if(_!==0&&E!==this.pointsList.length-1&&(le=this.removeCrossPoints(_,E,le)),_===0){var he={x:l.x+u.x,y:l.y};if(!yr(he,this.sourceNode)){var Me=this.sourceNode.anchors;le=this.getDragingPoints(A,"start",he,Me,le)}}if(E===this.pointsList.length-1){var xe={x:d.x+u.x,y:d.y};if(!yr(xe,this.targetNode)){var Ce=this.targetNode.anchors;le=this.getDragingPoints(A,"end",xe,Ce,le)}}le=Eu(le),this.updatePointsAfterDrage(le),this.draginngPointList=le}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[_]),end:Object.assign({},D[E]),startIndex:_,endIndex:E,direction:A}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=co(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,_=o.targetNode,E=Il({x:u.x,y:u.y},{x:l.x,y:l.y},d,_,this.offset||0);this.pointsList=E,this.initPoints()}}])&&cb(t.prototype,n),i}(vu)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ln(it.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"initPoints"),it.prototype),ln(it.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updatePoints"),it.prototype),ln(it.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateStartPoint"),it.prototype),ln(it.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateEndPoint"),it.prototype),ln(it.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendStart"),it.prototype),ln(it.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendSimple"),it.prototype),ln(it.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppend"),it.prototype),ln(it.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendEnd"),it.prototype),ln(it.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updatePointsAfterDrage"),it.prototype),ln(it.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"getAdjustStart"),it.prototype),ln(it.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"getAdjustEnd"),it.prototype),ln(it.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateAfterAdjustStartAndEnd"),it.prototype),it),Uo=function(e){var t=e.start,n=e.end,r=e.offset,i=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/i),_=Math.sqrt(i*i+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+_*Math.sin(l+d),u.leftY=t.y-_*Math.cos(l+d),u.rightX=t.x-_*Math.sin(l-d),u.rightY=t.y+_*Math.cos(l-d)):(u.leftX=t.x-_*Math.sin(l+d),u.leftY=t.y+_*Math.cos(l+d),u.rightX=t.x+_*Math.sin(l-d),u.rightY=t.y-_*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+_*Math.sin(l-d),u.leftY=n.y-_*Math.cos(l-d),u.rightX=n.x-_*Math.sin(l+d),u.rightY=n.y+_*Math.cos(l+d)):(u.leftX=n.x-_*Math.sin(l-d),u.leftY=n.y+_*Math.cos(l-d),u.rightX=n.x+_*Math.sin(l+d),u.rightY=n.y-_*Math.cos(l+d))),u};function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kl(Object(n),!0).forEach(function(r){pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function db(e){return function(t){if(Array.isArray(t))return Ou(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Tl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ml(e){return(Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _u(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||Tl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tl(e,t){if(e){if(typeof e=="string")return Ou(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ou(e,t):void 0}}function Ou(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wu=function(e){var t=[],n={};return e.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},Zi=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},qi=function(e,t){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?St.HORIZONTAL:St.VERTICAL}(t,e)===St.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Dl=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Go=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(E){n.push(E.x),r.push(E.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-i,_=l-u;return t&&(d+=t,_+=t),{centerX:(i+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:i,minY:u,x:(i+o)/2,y:(u+l)/2,height:_,width:d}},$i=function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:i},{x:t,y:i}]},Ji=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},xu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Nl=function(e,t,n,r,i){return xu(e,t)+xu(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,i])},Xo=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+i*(e.y-n.y))/(-u*o+i*l),_=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+i*l);return d>=0&&d<=1&&_>=0&&_<=1},Cl=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=_u($i(n),4),i=r[0],o=r[1],u=r[2],l=r[3];return Xo(e,t,i,o)||Xo(e,t,i,l)||Xo(e,t,o,u)||Xo(e,t,u,l)},hb=function(e,t,n,r,i,o,u){var l=[],d=[t],_={},E={},A={};E[t.id]=0,A[t.id]=Nl(t,n,t);var D={};e.forEach(function(re){D[re.id]=re});for(var B=function(){var re,ae,ne,le=void 0,he=1/0;if(d.forEach(function(xe){A[xe.id]<he&&(he=A[xe.id],le=xe)}),le===n){var Me=[];return function xe(Ce,Re,qe,vt,Pt){Pt||(Pt=0),Ce.unshift(Re[vt]),qe[vt]&&qe[vt]!==vt&&Pt<=100&&xe(Ce,Re,qe,qe[vt],Pt+1)}(Me,D,_,n.id),{v:Me}}ae=le,(ne=(re=d).indexOf(ae))>-1&&re.splice(ne,1),l.push(le),function(xe,Ce,Re,qe){var vt=[];return xe.forEach(function(Pt){Pt!==Ce&&(Pt.x!==Ce.x&&Pt.y!==Ce.y||Cl(Pt,Ce,Re)||Cl(Pt,Ce,qe)||vt.push(Pt))}),wu(vt)}(e,le,r,i).forEach(function(xe){if(l.indexOf(xe)===-1){d.indexOf(xe)===-1&&d.push(xe);var Ce=A[le.id]+xu(le,xe);E[xe.id]&&Ce>=E[xe.id]||(_[xe.id]=le.id,E[xe.id]=Ce,A[xe.id]=E[xe.id]+Nl(xe,n,t,o,u))}})};d.length;){var W=B();if(Ml(W)==="object")return W.v}return[t,n]},Rl=function(e){return sn(e)},Eu=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],i=t[n],o=t[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?t.splice(n,1):n++}return t},Il=function(e,t,n,r,i){var o,u,l=Rl(n),d=Rl(r),_=Zi(l,i),E=Zi(d,i),A=qi(_,e),D=qi(E,t);if(o=_,u=E,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var B=vb(e,t,A,D);return[e,A].concat(db(B),[D,t])}var W=Go([A,D]),re=Dl(_,W),ae=Dl(E,W),ne=[];ne=(ne=ne.concat($i(re))).concat($i(ae));var le={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[W,re,ae].forEach(function(Me){ne=ne.concat(function(xe,Ce){return function(Re,qe){return qe<Re.minX||qe>Re.maxX?[]:[{x:qe,y:Re.minY},{x:qe,y:Re.maxY}]}(xe,Ce.x).concat(function(Re,qe){return qe<Re.minY||qe>Re.maxY?[]:[{x:Re.minX,y:qe},{x:Re.maxX,y:qe}]}(xe,Ce.y))}(Me,le).filter(function(xe){return Ji(xe,_)&&Ji(xe,E)}))}),[{x:A.x,y:D.y},{x:D.x,y:A.y}].forEach(function(Me){Ji(Me,_)&&Ji(Me,E)&&ne.push(Me)}),ne.unshift(A),ne.push(D),ne=wu(ne);var he=hb(ne,A,D,l,d,e,t);return he.unshift(e),he.push(t),he.length>2&&(he=Eu(he)),wu(he)},yb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],i=Ln(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=Ln(u.x,u.y,l.x,l.y);d>i&&(i=d,n=u,r=l)}t=[n,r]}return t},Ll=function(e,t,n){var r=yr(e,n),i=yr(t,n);return r&&i},zl=function(e,t,n){var r=yr(e,n),i=yr(t,n);return!(r&&i)&&(r||i)},Bl=function(e,t,n){for(var r,i,o=sn(n),u=$i(o),l=0;l<u.length;l++)Xo(e,t,u[l],u[(l+1)%u.length])&&(i=[u[l],u[(l+1)%u.length]]);return i&&(r=function(d,_,E,A){var D=(_.y-d.y)*(A.x-E.x)-(d.x-_.x)*(E.y-A.y);if(D===0)return!1;var B=((_.x-d.x)*(A.x-E.x)*(E.y-d.y)+(_.y-d.y)*(A.x-E.x)*d.x-(A.y-E.y)*(_.x-d.x)*E.x)/D,W=-((_.y-d.y)*(A.y-E.y)*(E.x-d.x)+(_.x-d.x)*(A.y-E.y)*d.y-(A.x-E.x)*(_.y-d.y)*E.y)/D;return(B-d.x)*(B-_.x)<=0&&(W-d.y)*(W-_.y)<=0&&(B-E.x)*(B-A.x)<=0&&(W-E.y)*(W-A.y)<=0&&{x:B,y:W}}(e,t,i[0],i[1])),r},Qi=function(e,t){var n;return e.x===t.x?n=St.VERTICAL:e.y===t.y&&(n=St.HORIZONTAL),n},co=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var i=_u(r.split(","),2),o=i[0],u=i[1];n.push({x:Number(o),y:Number(u)})}),n},vb=function(e,t,n,r){var i=[];if(Qi(e,n)===Qi(t,r))e.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=zo(o,e,n),l=zo(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=Fl(o,e,n),_=Fl(o,t,r);d&&_&&(o={x:r.x,y:n.y})}i.push(o)}return i},Fl=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},Ul=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},Gl=function(e){var t=e.start,n=e.end,r=e.sourceNode,i=e.targetNode,o=e.offset,u=sn(r),l=sn(i),d=Zi(u,o),_=Zi(l,o);return{sNext:qi(d,t),ePre:qi(_,n)}},ea=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[ta(t[0]),ta(t[1]),ta(t[2]),ta(t[3])]},ta=function(e){var t=_u(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},Xl=function(e,t){for(var n,r=e.x,i=e.y,o=co(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(D){var B=D.start,W=D.end;if(B.x===W.x){var re={x:B.x,y:i};if(zo(re,B,W)){var ae=Math.abs(B.x-r);ae<u&&(u=ae,n=re)}}else if(B.y===W.y){var ne={x:r,y:B.y};if(zo(ne,B,W)){var le=Math.abs(B.y-i);le<u&&(u=le,n=ne)}}}),!n){var _=l[0],E=_.start,A=_.end;n={x:E.x+(A.x-E.x)/2,y:E.y+(A.y-E.y)/2}}return n},gb=function(e){return Io(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hl=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},so=function(){};function bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vr=window.document;function Ho(e){var t=e.onDragStart,n=t===void 0?so:t,r=e.onDraging,i=r===void 0?so:r,o=e.onDragEnd,u=o===void 0?so:o,l=e.step,d=l===void 0?1:l,_=e.isStopPropagation,E=_===void 0||_,A=!1,D=!1,B=0,W=0,re=0,ae=0;function ne(he){if(E&&he.stopPropagation(),D&&(A=!0,re+=he.clientX-B,ae+=he.clientY-W,B=he.clientX,W=he.clientY,Math.abs(re)>d||Math.abs(ae)>d)){var Me=re%d,xe=ae%d,Ce=re-Me,Re=ae-xe;re=Me,ae=xe,i({deltaX:Ce,deltaY:Re,event:he})}}function le(he){if(E&&he.stopPropagation(),D=!1,vr.removeEventListener("mousemove",ne,!1),vr.removeEventListener("mouseup",le,!1),A)return A=!1,u({event:he})}return function(he){if(he.button===0)return E&&he.stopPropagation(),D=!0,B=he.clientX,W=he.clientY,vr.addEventListener("mousemove",ne,!1),vr.addEventListener("mouseup",le,!1),n({event:he})}}var ce,Yl,Vl,Wl,Kl,Zl,ql,$l,Jl,Ql,ef,tf,nf,Yo=function(){function e(r){var i=this,o=r.onDragStart,u=o===void 0?so:o,l=r.onDraging,d=l===void 0?so:l,_=r.onDragEnd,E=_===void 0?so:_,A=r.eventType,D=A===void 0?"":A,B=r.eventCenter,W=B===void 0?null:B,re=r.step,ae=re===void 0?1:re,ne=r.isStopPropagation,le=ne===void 0||ne,he=r.model,Me=he===void 0?null:he;(function(xe,Ce){if(!(xe instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(xe){var Ce,Re,qe;if(xe.button===0){i.isStopPropagation&&xe.stopPropagation(),i.isStartDraging=!0,i.startX=xe.clientX,i.startY=xe.clientY,vr.addEventListener("mousemove",i.handleMouseMove,!1),vr.addEventListener("mouseup",i.handleMouseUp,!1),i.onDragStart({event:xe});var vt=(Ce=i.model)===null||Ce===void 0?void 0:Ce.getData();(Re=i.eventCenter)===null||Re===void 0||Re.emit(nt["".concat(i.eventType,"_MOUSEDOWN")],{e:xe,data:vt}),(qe=i.eventCenter)===null||qe===void 0||qe.emit(nt["".concat(i.eventType,"_DRAGSTART")],{e:xe,data:vt}),i.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(xe){if(i.isStopPropagation&&xe.stopPropagation(),i.isStartDraging&&(i.isDraging=!0,i.sumDeltaX+=xe.clientX-i.startX,i.sumDeltaY+=xe.clientY-i.startY,i.startX=xe.clientX,i.startY=xe.clientY,Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Ce,Re,qe,vt=i.sumDeltaX%i.step,Pt=i.sumDeltaY%i.step,mn=i.sumDeltaX-vt,Yr=i.sumDeltaY-Pt;i.sumDeltaX=vt,i.sumDeltaY=Pt,i.onDraging({deltaX:mn,deltaY:Yr,event:xe});var Vr=(Ce=i.model)===null||Ce===void 0?void 0:Ce.getData();(Re=i.eventCenter)===null||Re===void 0||Re.emit(nt["".concat(i.eventType,"_MOUSEMOVE")],{e:xe,data:Vr}),(qe=i.eventCenter)===null||qe===void 0||qe.emit(nt["".concat(i.eventType,"_DRAG")],{e:xe,data:Vr})}}),zt(this,"handleMouseUp",function(xe){var Ce,Re,qe;if(i.isStartDraging=!1,i.isStopPropagation&&xe.stopPropagation(),vr.removeEventListener("mousemove",i.handleMouseMove,!1),vr.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging){i.isDraging=!1,i.onDragEnd({event:xe});var vt=(Ce=i.model)===null||Ce===void 0?void 0:Ce.getData();(Re=i.eventCenter)===null||Re===void 0||Re.emit(nt["".concat(i.eventType,"_MOUSEUP")],{e:xe,data:vt}),(qe=i.eventCenter)===null||qe===void 0||qe.emit(nt["".concat(i.eventType,"_DROP")],{e:xe,data:vt})}}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=E,this.step=ae,this.isStopPropagation=le,this.eventType=D,this.eventCenter=W,this.model=Me}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&bb(t.prototype,n),e}();function rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rf(Object(n),!0).forEach(function(r){gr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function of(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||uf(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function af(e){return function(t){if(Array.isArray(t))return ju(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||uf(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uf(e,t){if(e){if(typeof e=="string")return ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ju(e,t):void 0}}function ju(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Su(e){return(Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var cf,sf=(Yl=Ke((ce=function(){function e(r){(function(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")})(this,e),gr(this,"rootEl",void 0),vn(this,"width",Yl,this),vn(this,"height",Vl,this),gr(this,"theme",void 0),gr(this,"eventCenter",void 0),gr(this,"modelMap",new Map),gr(this,"topElement",void 0),gr(this,"idGenerator",void 0),gr(this,"nodeMoveRules",[]),vn(this,"edgeType",Wl,this),vn(this,"nodes",Kl,this),vn(this,"edges",Zl,this),vn(this,"overlapMode",ql,this),vn(this,"background",$l,this),vn(this,"transformModel",Jl,this),vn(this,"editConfigModel",Ql,this),vn(this,"gridSize",ef,this),vn(this,"partial",tf,this),vn(this,"fakerNode",nf,this);var i=r.container,o=r.background,u=o===void 0?{}:o,l=r.grid,d=r.width,_=r.height,E=r.idGenerator;this.background=u,Su(l)==="object"&&(this.gridSize=l.size),this.rootEl=i,this.editConfigModel=new ms(r),this.eventCenter=new Fg,this.transformModel=new ig(this.eventCenter),this.theme=Bs(r.style),this.edgeType=r.edgeType||"polyline",this.width=d!=null?d:i.getBoundingClientRect().width,this.height=_!=null?_:i.getBoundingClientRect().height,this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=E}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"modelsMap",get:function(){return[].concat(af(this.nodes),af(this.edges)).reduce(function(r,i){return r[i.id]=i,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(A){return r.push(A)}),this.edges.forEach(function(A){return r.push(A)}),r=r.sort(function(A,D){return A.zIndex-D.zIndex});for(var i=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var _=r[d];!_.visible||this.partial&&!this.isElementInArea(_,u,l,!1)||(_.zIndex===9999&&(o=i.length),i.push(_))}if(o!==-1){var E=i[i.length-1];i[i.length-1]=i[o],i[o]=E}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===xt.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===xt.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],u=[];this.nodes.forEach(function(_){return u.push(_)}),this.edges.forEach(function(_){return u.push(_)});for(var l=0;l<u.length;l++){var d=u[l];this.isElementInArea(d,r,i)&&o.push(d)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:i-u.left,y:o-u.top},d=of(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,i,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===It.NODE){for(var l=sn(r=r),d=l.minX,_=l.minY,E=l.maxX,A=l.maxY,D=[{x:d,y:_},{x:E,y:_},{x:E,y:A},{x:d,y:A}],B=!0,W=0;W<D.length;W++){var re=D[W],ae=re.x,ne=re.y,le=this.transformModel.CanvasPointToHtmlPoint([ae,ne]),he=of(le,2);if(ae=he[0],ne=he[1],!cu([ae,ne],i,o)){B=!1;break}}return B}if(r.BaseType===It.EDGE){var Me=r=r,xe=Me.startPoint,Ce=Me.endPoint,Re=this.transformModel.CanvasPointToHtmlPoint([xe.x,xe.y]),qe=this.transformModel.CanvasPointToHtmlPoint([Ce.x,Ce.y]),vt=cu(Re,i,o),Pt=cu(qe,i,o);return u?vt&&Pt:vt||Pt}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=Fi(r.nodes,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=Hi(l,i.gridSize),o.y=Hi(d,i.gridSize),Su(o.text)==="object"&&(o.text.x-=Fs(l,i.gridSize),o.text.y-=Fs(d,i.gridSize))),new u(o,i)}),this.edges=Fi(r.edges,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,i)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var i=[];return this.nodes.forEach(function(o){var u=o.getData();u&&i.push(u)}),{nodes:i,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}i.push(u.getData())}if(r)return!1;for(var l=!1,d=[],_=0;_<this.edges.length;_++){var E=this.edges[_];if(E.isDragging){l=!0;break}d.push(E.getData())}return!l&&{nodes:i,edges:d}}},{key:"getEdgeModelById",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&i.push(u)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(u){if(u.BaseType===It.NODE&&o.nodes.push(u.getData()),u.BaseType===It.EDGE){var l=u.getData(),d=i.get(l.sourceNodeId)&&i.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=uo()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,i){return i||(i=uo()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"toFront",value:function(r){var i,o,u,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===cn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===cn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,i){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof i=="number"&&(l=i),i==="top"&&(l=hu()),i==="bottom"&&(l=--Jg),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(nt.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=zn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(i,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(nt.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var i=this.getNodeModelById(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),i.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,_=d.move(i,o,u);_&&this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,_=d.x,E=d.y,A=i-_,D=o-E;this.moveNode(r,A,D,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,xt.TEXT_EDIT)}},{key:"addEdge",value:function(r){var i=zn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new u(na(na({},i),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(nt.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,i,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],_=d.textPosition,E=_.x,A=_.y,D=this.edges[u].sourceNodeId===r,B=this.edges[u].targetNodeId===r;if(D&&d.updateStartPoint({x:d.startPoint.x+i,y:d.startPoint.y+o}),B&&d.updateEndPoint({x:d.endPoint.x+i,y:d.endPoint.y+o}),D||B)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===ct.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var W=d.text,re=Xl(W,d.points);d.moveText(re.x-W.x,re.y-W.y)}else{var ae=d.textPosition,ne=ae.x,le=ae.y;d.moveText(ne-E,le-A)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(nt.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var i=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,i,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(xt.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(xt.DEFAULT)})}},{key:"updateText",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"selectNodeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===cn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,i,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,i,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(_){if(_.sourceNodeId===r){var E=pl(d,_.startPoint,d.width,d.height);_.updateStartPoint(E)}if(_.targetNodeId===r){var A=pl(d,_.endPoint,d.width,d.height);_.updateEndPoint(A)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,i){var o=this.getEdgeModelById(r);if(o){if(o.type!==i){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.targetNodeId===r&&i.push(o)}),i}},{key:"getNodeOutgoingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&i.push(o)}),i}},{key:"getNodeIncomingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(i.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(i.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=Bs(na(na({},this.theme),r))}},{key:"resize",value:function(r,i){this.width=r!=null?r:this.width,this.height=i!=null?i:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&mb(t.prototype,n),e}()).prototype,"width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vl=Ke(ce.prototype,"height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wl=Ke(ce.prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kl=Ke(ce.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zl=Ke(ce.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ql=Ke(ce.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cn.DEFAULT}}),$l=Ke(ce.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jl=Ke(ce.prototype,"transformModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ql=Ke(ce.prototype,"editConfigModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ef=Ke(ce.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),tf=Ke(ce.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nf=Ke(ce.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(ce.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"nodesMap"),ce.prototype),Ke(ce.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"edgesMap"),ce.prototype),Ke(ce.prototype,"modelsMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"modelsMap"),ce.prototype),Ke(ce.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"sortElements"),ce.prototype),Ke(ce.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"textEditElement"),ce.prototype),Ke(ce.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"selectElements"),ce.prototype),Ke(ce.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setFakerNode"),ce.prototype),Ke(ce.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"removeFakerNode"),ce.prototype),Ke(ce.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setModel"),ce.prototype),Ke(ce.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"toFront"),ce.prototype),Ke(ce.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementZIndex"),ce.prototype),Ke(ce.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteNode"),ce.prototype),Ke(ce.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"addNode"),ce.prototype),Ke(ce.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"cloneNode"),ce.prototype),Ke(ce.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode"),ce.prototype),Ke(ce.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode2Coordinate"),ce.prototype),Ke(ce.prototype,"editText",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"editText"),ce.prototype),Ke(ce.prototype,"addEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"addEdge"),ce.prototype),Ke(ce.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveEdge"),ce.prototype),Ke(ce.prototype,"deleteEdgeBySourceAndTarget",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySourceAndTarget"),ce.prototype),Ke(ce.prototype,"deleteEdgeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeById"),ce.prototype),Ke(ce.prototype,"deleteEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySource"),ce.prototype),Ke(ce.prototype,"deleteEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeByTarget"),ce.prototype),Ke(ce.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementStateById"),ce.prototype),Ke(ce.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"updateText"),ce.prototype),Ke(ce.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectNodeById"),ce.prototype),Ke(ce.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectEdgeById"),ce.prototype),Ke(ce.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectElementById"),ce.prototype),Ke(ce.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearSelectElements"),ce.prototype),Ke(ce.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNodes"),ce.prototype),Ke(ce.prototype,"setDefaultEdgeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setDefaultEdgeType"),ce.prototype),Ke(ce.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeNodeType"),ce.prototype),Ke(ce.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeEdgeType"),ce.prototype),Ke(ce.prototype,"getNodeIncomingEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingEdge"),ce.prototype),Ke(ce.prototype,"getNodeOutgoingEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingEdge"),ce.prototype),Ke(ce.prototype,"getNodeIncomingNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingNode"),ce.prototype),Ke(ce.prototype,"getNodeOutgoingNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingNode"),ce.prototype),Ke(ce.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setTheme"),ce.prototype),Ke(ce.prototype,"resize",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"resize"),ce.prototype),Ke(ce.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearData"),ce.prototype),ce),_b=sf;function lf(e){return(lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ff(){return(ff=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pf(e,t){return(pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function wb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Pu(e);if(t){var i=Pu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xb(this,n)}}function xb(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(e)}function Fn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pu(e){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var df,Eb=An(cf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&pf(o,u)})(i,e);var t,n,r=wb(i);function i(o){var u;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),$n(Fn(u=r.call(this)),"stepDrag",void 0),$n(Fn(u),"stepScrollX",0),$n(Fn(u),"stepScrollY",0),$n(Fn(u),"onDraging",function(E){var A=E.deltaX,D=E.deltaY;u.setState({isDraging:!0});var B=u.props.graphModel,W=B.transformModel;B.editConfigModel.stopMoveGraph||W.translate(A,D)}),$n(Fn(u),"onDragEnd",function(){u.setState({isDraging:!1})}),$n(Fn(u),"zoomHandler",function(E){var A=u.props,D=A.graphModel,B=D.editConfigModel,W=D.transformModel,re=D.gridSize,ae=A.graphModel,ne=E.deltaX,le=E.deltaY;if(B.stopScrollGraph||E.ctrlKey===!0){if(!B.stopZoomGraph){E.preventDefault();var he=ae.getPointByClient({x:E.clientX,y:E.clientY}).canvasOverlayPosition,Me=he.x,xe=he.y;W.zoom(E.deltaY<0,[Me,xe])}}else{if(E.preventDefault(),u.stepScrollX+=ne,u.stepScrollY+=le,Math.abs(u.stepScrollX)>=re){var Ce=u.stepScrollX%re,Re=u.stepScrollX-Ce;W.translate(-Re*W.SCALE_X,0),u.stepScrollX=Ce}if(Math.abs(u.stepScrollY)>=re){var qe=u.stepScrollY%re,vt=u.stepScrollY-qe;W.translate(0,-vt*W.SCALE_Y),u.stepScrollY=qe}}}),$n(Fn(u),"clickHandler",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){var A=u.props.graphModel,D=A.textEditElement;A.selectElements.size>0&&A.clearSelectElements(),D&&D.setElementState(xt.DEFAULT),A.eventCenter.emit(nt.BLANK_CLICK,{e:E})}}),$n(Fn(u),"handleContextMenu",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){E.preventDefault();var A=u.props.graphModel,D=A.getPointByClient({x:E.clientX,y:E.clientY});A.eventCenter.emit(nt.BLANK_CONTEXTMENU,{e:E,position:D})}}),$n(Fn(u),"mouseDownHandler",function(E){var A=u.props.graphModel,D=A.eventCenter,B=A.editConfigModel,W=A.transformModel.SCALE_X,re=A.gridSize;B.stopMoveGraph?D.emit(nt.BLANK_MOUSEDOWN,{e:E}):(u.stepDrag.setStep(re*W),u.stepDrag.handleMouseDown(E)),u.clickHandler(E)});var l=o.graphModel,d=l.gridSize,_=l.eventCenter;return u.stepDrag=new Yo({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",eventCenter:_,model:null}),u.state={isDraging:!1},u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,_=this.state.isDraging;return Object(q.g)("svg",ff({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:_?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(q.g)("g",{transform:o},l))}}])&&Ob(t.prototype,n),i}(q.a))||cf;function hf(e){return(hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yf(e,t){return(yf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Pb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Au(e);if(t){var i=Au(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ab(this,n)}}function Ab(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vf(e)}function vf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Au(e){return(Au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mb=An(df=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&yf(o,u)})(i,e);var t,n,r=Pb(i);function i(){var o;jb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return kb(vf(o=r.call.apply(r,[this].concat(l))),"setToolOverlayRef",function(_){var E=o.props.tool.getInstance();E.components.forEach(function(A){return A(E,_)}),E.components=[]}),o}return t=i,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(_){return Object(q.g)(_,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(q.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Sb(t.prototype,n),i}(q.a))||df;function gf(e){return(gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bf(e,t){return(bf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Nb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ku(e);if(t){var i=ku(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cb(this,n)}}function Cb(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ku(e){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mf,Rb=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bf(o,u)})(i,e);var t,n,r=Nb(i);function i(){return Tb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.background;return Object(q.g)("div",{className:"lf-background"},Object(q.g)("div",{style:o,className:"lf-background-area"}))}}])&&Db(t.prototype,n),i}(q.a);function _f(e){return(_f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ib(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Of(e,t){return(Of=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function zb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mu(e);if(t){var i=Mu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bb(this,n)}}function Bb(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wf(e)}function wf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xf=An(mf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Of(o,u)})(i,e);var t,n,r=zb(i);function i(){var o;Ib(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Fb(wf(o=r.call.apply(r,[this].concat(l))),"id",uo()),o}return t=i,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,_=d===void 0?2:d,E=o.size,A=o.visible,D=Math.min(Math.max(2,_),E/2),B=1;return A||(B=0),Object(q.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:l,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,_=d===void 0?1:d,E=o.size,A=o.visible,D=Math.min(Math.max(1,_),E/2),B="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),W=1;return A||(W=0),Object(q.g)("path",{d:B,stroke:l,strokeWidth:D,opacity:W})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,_=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),E="matrix(".concat(_,")");return Object(q.g)("div",{className:"lf-grid"},Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(q.g)("defs",null,Object(q.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:E,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(q.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Lb(t.prototype,n),i}(q.a))||mf;xf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(50);function Ef(e){return(Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ub(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return jf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sf,lo=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=Ub(n,2),i=r[0],o=r[1];Ef(o)!=="object"&&(t[i]=o)}),Object(q.g)("line",t)};function Pf(e){return(Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Af(Object(n),!0).forEach(function(r){Gb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return(kf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Yb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Tu(e);if(t){var i=Tu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vb(this,n)}}function Vb(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Mf,Wb=An(Sf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kf(o,u)})(i,e);var t,n,r=Yb(i);function i(){return Xb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,_=o.getStyle(),E=u.x,A=E===void 0?0:E,D=u.y,B=D===void 0?0:D,W=ra(ra({x1:-1e5,y1:B,x2:1e5,y2:B},_),{},{stroke:l?_.stroke:"none"}),re=ra(ra({x1:A,y1:-1e5,x2:A,y2:1e5},_),{},{stroke:d?_.stroke:"none"});return Object(q.g)("g",{className:"lf-snapline"},Object(q.g)(lo,W),Object(q.g)(lo,re))}}])&&Hb(t.prototype,n),i}(q.a))||Sf;function Tf(e){return(Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Kb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Df(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Df(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Df(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-i/2,_={};return Object.entries(e).forEach(function(E){var A=Kb(E,2),D=A[0],B=A[1];Tf(B)!=="object"&&(_[D]=B)}),o&&(_.className="lf-basic-shape ".concat(o)),u&&(_.rx=u,_.ry=u),_.x=l,_.y=d,Object(q.g)("rect",_)}function Nf(e){return(Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vo(){return(Vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cf(Object(n),!0).forEach(function(r){Zb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t){return(If=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Jb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Du(e);if(t){var i=Du(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Du(e){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}br.defaultProps={className:"",radius:""};var Lf,em=An(Mf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&If(o,u)})(i,e);var t,n,r=Jb(i);function i(){return qb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,_=l.nodeSelectedOutline,E=[];return u.forEach(function(A){if(A.isHovered||A.isSelected){var D=A.isHovered,B=A.isSelected,W=A.x,re=A.y,ae=A.width,ne=A.height;if(_&&B||d&&D){var le=A.getOutlineStyle(),he={};if(Object.keys(le).forEach(function(xe){xe!=="hover"&&(he[xe]=le[xe])}),D){var Me=le.hover;he=Rf(Rf({},he),Me)}E.push(Object(q.g)(br,Vo({className:"lf-outline-node",x:W,y:re,width:ae+10,height:ne+10},he)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,_=l.hoverOutline,E=[],A=0;A<u.length;A++){var D=u[A];(d&&D.isSelected||_&&D.isHovered)&&(D.modelType===ct.LINE_EDGE?E.push(this.getLineOutline(D)):D.modelType===ct.POLYLINE_EDGE?E.push(this.getPolylineOutline(D)):D.modelType===ct.BEZIER_EDGE&&E.push(this.getBezierOutline(D)))}return E}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,_=(u.y+l.y)/2,E=Math.abs(u.x-l.x)+10,A=Math.abs(u.y-l.y)+10,D=o.getOutlineStyle();return Object(q.g)(br,Vo({className:"lf-outline-edge",x:d,y:_,width:E,height:A},D))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=co(u),d=Go(l,8),_=d.x,E=d.y,A=d.width,D=d.height,B=o.getOutlineStyle();return Object(q.g)(br,Vo({className:"lf-outline",x:_,y:E,width:A,height:D},B))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=ea(u),d=Go(l,8),_=d.x,E=d.y,A=d.width,D=d.height,B=o.getOutlineStyle();return Object(q.g)(br,Vo({className:"lf-outline",x:_,y:E,width:A,height:D},B))}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&$b(t.prototype,n),i}(q.a))||Mf;function zf(e){return(zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Bf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.r,u={cx:n,cy:i,r:o===void 0?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(e).forEach(function(l){var d=tm(l,2),_=d[0],E=d[1];zf(E)!=="object"&&(u[_]=E)}),Object(q.g)("circle",u)}function Ff(e){return(Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oa(){return(oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uf(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Gf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Gf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yf(e,t,n){return t&&Hf(e.prototype,t),n&&Hf(e,n),e}function Vf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wf(e,t)}function Wf(e,t){return(Wf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Kf(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Nu(e);if(t){var i=Nu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ia(e)}function ia(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zf,qf=function(e){Vf(n,e);var t=Kf(n);function n(r){var i;Xf(this,n),Cu(ia(i=t.call(this)),"dragHandler",void 0),Cu(ia(i),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,_=i.props,E=_.graphModel,A=_.bezierModel,D=_.type,B=E.transformModel,W=i.state,re=W.endX,ae=W.endY,ne=Uf(B.moveCanvasPointByHtml([re,ae],l,d),2),le=ne[0],he=ne[1];i.setState({endX:le,endY:he}),A.updateAdjustAnchor({x:le,y:he},D)}),Cu(ia(i),"onDragEnd",function(){var u=i.state,l=u.endX,d=u.endY,_=i.props,E=_.bezierModel,A=_.type;E.updateAdjustAnchor({x:l,y:d},A),E.isDragging=!1}),i.dragHandler=Ho({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return Yf(n,[{key:"render",value:function(){var r=this.props.position,i=r.x,o=r.y,u=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(q.g)(Wo,oa({className:"lf-bezier-adjust-anchor",x:i,y:o},u,{onMouseDown:this.dragHandler}))}}]),n}(q.a),rm=An(Lf=function(e){Vf(n,e);var t=Kf(n);function n(){return Xf(this,n),t.apply(this,arguments)}return Yf(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,u=r.id,l=Uf(ea(o),4),d=l[0],_=l[1],E=l[2],A=l[3],D=r.getEdgeStyle().adjustLine,B=[];return B.push(Object(q.g)(lo,oa({x1:d.x,y1:d.y,x2:_.x,y2:_.y},D))),B.push(Object(q.g)(qf,{position:_,bezierModel:r,graphModel:i,key:"".concat(u,"_ePre"),type:"sNext"})),B.push(Object(q.g)(lo,oa({x1:A.x,y1:A.y,x2:E.x,y2:E.y},D))),B.push(Object(q.g)(qf,{position:E,bezierModel:r,graphModel:i,key:"".concat(u,"_sNext"),type:"ePre"})),B}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],u=0;u<i.length;u++){var l=i[u];l.isSelected&&l.modelType===ct.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(q.a))||Lf;function $f(e){return($f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jf(e,t){return(Jf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function am(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ru(e);if(t){var i=Ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return um(this,n)}}function um(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ru(e){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Qf,cm=An(Zf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Jf(o,u)})(i,e);var t,n,r=am(i);function i(){return om(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(q.g)("g",{transform:o},u))}}])&&im(t.prototype,n),i}(q.a))||Zf;function ep(e){return(ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tp(){return(tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function np(e,t){return(np=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function fm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Iu(e);if(t){var i=Iu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pm(this,n)}}function pm(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Iu(e){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dm=An(Qf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&np(o,u)})(i,e);var t,n,r=fm(i);function i(){return sm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,_=d(o.type);return Object(q.g)(_,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,_=u.options,E=u.dnd,A=u.snaplineModel,D={};_.width&&(D.width="".concat(l.width,"px")),_.height&&(D.height="".concat(l.height,"px"));var B=l.fakerNode,W=l.editConfigModel.adjustEdge;return Object(q.g)("div",{className:"lf-graph",style:D},Object(q.g)(Eb,{graphModel:l,dnd:E},Object(q.g)("g",{className:"lf-base"},Fi(l.sortElements,function(re){return o.getComponent(re,l)})),B?this.getComponent(B,l):""),Object(q.g)(cm,{graphModel:l},Object(q.g)(em,{graphModel:l}),W?Object(q.g)(rm,{graphModel:l}):"",_.isSilentMode||_.snapline===!1?"":Object(q.g)(Wb,{snaplineModel:A})),Object(q.g)(Mb,{graphModel:l,tool:d}),_.background&&Object(q.g)(Rb,{background:_.background}),_.grid&&Object(q.g)(xf,tp({},_.grid,{graphModel:l})))}}])&&lm(t.prototype,n),i}(q.a))||Qf;function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rp(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ym=function(){function e(r){var i=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),Jn(this,"nodeConfig",void 0),Jn(this,"lf",void 0),Jn(this,"fakerNode",void 0),Jn(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),Jn(this,"dragEnter",function(u){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(aa(aa({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),Jn(this,"onDragOver",function(u){if(u.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,_=l.y;i.fakerNode.moveTo(d,_);var E=i.fakerNode.getData();i.lf.setNodeSnapLine(E),i.lf.graphModel.eventCenter.emit(nt.NODE_DND_DRAG,{data:E})}return!1}),Jn(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),Jn(this,"onDrop",function(u){if(i.lf.graphModel&&u&&i.nodeConfig){var l=i.lf.addNode(aa(aa({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var d=l.getData();i.lf.graphModel.eventCenter.emit(nt.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,u=Co(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,d=l.x,_=l.y;return{x:Hi(d,u),y:Hi(_,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&hm(t.prototype,n),e}();function op(e){var t=e.container,n=e.grid,r=e.width,i=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof i=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=$t({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),$t({},ap,e)}var jt,ip,ap={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function up(e){return(up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return cp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return cp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sp(Object(n),!0).forEach(function(r){fp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ca(){return(ca=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=_m(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function _m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ur(e))!==null;);return e}function lp(e,t){return(lp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Om(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ur(e);if(t){var i=Ur(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sa(e)}function sa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Be,pp,dp,hp,yp,vp,gp,bp,mp,_p,Op,wp,xp,Ep,jp,Sp,Pp,Ap,Lu=(ip=Qn((jt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&lp(o,u)})(i,e);var t,n,r=Om(i);function i(){var o;bm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return fp(sa(o=r.call.apply(r,[this].concat(l))),"modelType",ct.BEZIER_EDGE),gm(sa(o),"path",ip,sa(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=100,ca(Ur(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ua(ua({},ca(Ur(i.prototype),"getEdgeStyle",this).call(this)),Lt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,_=l.y;o+=d,u+=_}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=ca(Ur(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return ua(ua({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return Gl({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=vm(o,4),l=u[0],d=u[1],_=u[2],E=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(_.x," ").concat(_.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},u={x:this.endPoint.x,y:this.endPoint.y},l=this.getControls(),d=l.sNext,_=l.ePre;this.pointsList=[o,d,_,u],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,_=o.targetNode,E=Gl({start:u,end:l,sourceNode:d,targetNode:_,offset:this.offset}),A=E.sNext,D=E.ePre;this.pointsList=[u,A,D,l],this.initPoints()}}])&&mm(t.prototype,n),i}(vu)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qn(jt.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"initPoints"),jt.prototype),Qn(jt.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updatePoints"),jt.prototype),Qn(jt.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateStartPoint"),jt.prototype),Qn(jt.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateEndPoint"),jt.prototype),Qn(jt.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateAdjustAnchor"),jt.prototype),Qn(jt.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"getAdjustStart"),jt.prototype),Qn(jt.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"getAdjustEnd"),jt.prototype),Qn(jt.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateAfterAdjustStartAndEnd"),jt.prototype),jt);function kp(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,_){if(!!d){if(typeof d=="string")return Mp(d,_);var E=Object.prototype.toString.call(d).slice(8,-1);if(E==="Object"&&d.constructor&&(E=d.constructor.name),E==="Map"||E==="Set")return Array.from(d);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Mp(d,_)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tp(Object(n),!0).forEach(function(r){gn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var mr,Dp,tr=(pp=_t((Be=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),gn(this,"id",uo()),Gt(this,"type",pp,this),Gt(this,"x",dp,this),Gt(this,"y",hp,this),Gt(this,"text",yp,this),Gt(this,"properties",vp,this),Gt(this,"_width",gp,this),Gt(this,"_height",bp,this),Gt(this,"anchorsOffset",mp,this),Gt(this,"isSelected",_p,this),Gt(this,"isHovered",Op,this),Gt(this,"isDragging",wp,this),Gt(this,"isHitable",xp,this),Gt(this,"draggable",Ep,this),Gt(this,"visible",jp,this),gn(this,"graphModel",void 0),Gt(this,"zIndex",Sp,this),Gt(this,"state",Pp,this),Gt(this,"autoToFront",Ap,this),gn(this,"BaseType",It.NODE),gn(this,"modelType",ct.NODE),gn(this,"additionStateData",void 0),gn(this,"targetRules",[]),gn(this,"sourceRules",[]),gn(this,"moveRules",[]),gn(this,"hasSetTargetRules",!1),gn(this,"hasSetSourceRules",!1),this.graphModel=i,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),$t(this,function(l){return Io(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===cn.INCREASE&&(this.zIndex=r.zIndex||hu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===cn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:i,y:o,value:u}),d}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getNodeStyle",value:function(){return er({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Lt(r)}},{key:"getAnchorStyle",value:function(){var r=this.graphModel.theme.anchor;return Lt(r)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Lt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Lt(r)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,_=0;_<u.length;_++){var E=u[_];if(!E.validate.call(this,this,r,i,o)){d=!1,l=E.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,_=0;_<u.length;_++){var E=u[_];if(!E.validate.call(this,r,this,i,o)){d=!1,l=E.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,i){var o,u=kp(this.moveRules);try{for(u.s();!(o=u.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(_){u.e(_)}finally{u.f()}var l,d=kp(this.graphModel.nodeMoveRules);try{for(d.s();!(l=d.n()).done;)if(!(0,l.value)(this,r,i))return!1}catch(_){d.e(_)}finally{d.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(i,"_").concat(d),x:o+l[0],y:u+l[1]}):er(er({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(i,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!o&&!this.isAllowMoveNode(r,i))return!1;var u=this.x+r,l=this.y+i;return this.x=u,this.y=l,this.text&&this.moveText(r,i),!0}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=i-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=i,0))}},{key:"moveText",value:function(r,i){var o=this.text,u=o.x,l=o.y,d=o.value,_=o.draggable,E=o.editable;this.text={value:d,editable:E,draggable:_,x:u+r,y:l+i}}},{key:"updateText",value:function(r){this.text=er(er({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setProperty",value:function(r,i){this.properties=er(er({},this.properties),{},gn({},r,zn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=er(er({},this.properties),zn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){$t(this,r)}}])&&xm(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),dp=_t(Be.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=_t(Be.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=_t(Be.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),vp=_t(Be.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gp=_t(Be.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),bp=_t(Be.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),mp=_t(Be.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_p=_t(Be.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=_t(Be.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wp=_t(Be.prototype,"isDragging",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xp=_t(Be.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ep=_t(Be.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jp=_t(Be.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sp=_t(Be.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pp=_t(Be.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ap=_t(Be.prototype,"autoToFront",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_t(Be.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"addNodeMoveRules"),Be.prototype),_t(Be.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"move"),Be.prototype),_t(Be.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"moveTo"),Be.prototype),_t(Be.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"moveText"),Be.prototype),_t(Be.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"updateText"),Be.prototype),_t(Be.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"setSelected"),Be.prototype),_t(Be.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"setHovered"),Be.prototype),_t(Be.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"setHitable"),Be.prototype),_t(Be.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"setElementState"),Be.prototype),_t(Be.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"setProperty"),Be.prototype),_t(Be.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"setProperties"),Be.prototype),_t(Be.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"setZIndex"),Be.prototype),_t(Be.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Be.prototype,"updateAttributes"),Be.prototype),Be);function Np(e){return(Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cp(Object(n),!0).forEach(function(r){zp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Em(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ip(){return(Ip=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Pm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Pm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ko(e))!==null;);return e}function Lp(e,t){return(Lp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Am(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ko(e);if(t){var i=Ko(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return km(this,n)}}function km(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(e)}function la(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zu(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Qt,Bp,Fp,Bu=(Dp=zu((mr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Lp(o,u)})(i,e);var t,n,r=Am(i);function i(){var o;jm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return zp(la(o=r.call.apply(r,[this].concat(l))),"modelType",ct.CIRCLE_NODE),Em(la(o),"r",Dp,la(o)),o}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=Ip(Ko(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Rp(Rp({},o),Lt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Sm(t.prototype,n),i}(tr)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),zu(mr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(mr.prototype,"width"),mr.prototype),zu(mr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(mr.prototype,"height"),mr.prototype),mr);a(123);function Up(e){return(Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Fu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Gp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Gp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xp(Object(n),!0).forEach(function(r){Kp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vp(){return(Vp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Dm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Dm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Zo(e))!==null;);return e}function Wp(e,t){return(Wp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Nm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zo(e);if(t){var i=Zo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cm(this,n)}}function Cm(e,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fo(e)}function fo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function po(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var nr,Zp,qp,Uu=(Bp=po((Qt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Wp(o,u)})(i,e);var t,n,r=Nm(i);function i(){var o;Mm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Kp(fo(o=r.call.apply(r,[this].concat(l))),"modelType",ct.DIAMOND_NODE),Yp(fo(o),"rx",Bp,fo(o)),Yp(fo(o),"ry",Fp,fo(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=Vp(Zo(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return Hp(Hp({},o),Lt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Fu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Fu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=Fu(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&Tm(t.prototype,n),i}(tr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Fp=po(Qt.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),po(Qt.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(Qt.prototype,"points"),Qt.prototype),po(Qt.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Qt.prototype,"pointsPosition"),Qt.prototype),po(Qt.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Qt.prototype,"width"),Qt.prototype),po(Qt.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Qt.prototype,"height"),Qt.prototype),Qt);function $p(e){return($p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jp(Object(n),!0).forEach(function(r){rd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ed(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function td(){return(td=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Lm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Lm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qo(e))!==null;);return e}function nd(e,t){return(nd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function zm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qo(e);if(t){var i=qo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ho(e)}function ho(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var jn,od,Gu=(Zp=fa((nr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&nd(o,u)})(i,e);var t,n,r=zm(i);function i(){var o;Rm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return rd(ho(o=r.call.apply(r,[this].concat(l))),"modelType",ct.ELLIPSE_NODE),ed(ho(o),"rx",Zp,ho(o)),ed(ho(o),"ry",qp,ho(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=td(qo(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return Qp(Qp({},o),Lt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Im(t.prototype,n),i}(tr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),qp=fa(nr.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),fa(nr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(nr.prototype,"width"),nr.prototype),fa(nr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(nr.prototype,"height"),nr.prototype),nr);function id(e){return(id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ad(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ad(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ad(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ud(Object(n),!0).forEach(function(r){fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ud(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sd(){return(sd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Xm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Xm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$o(e))!==null;);return e}function ld(e,t){return(ld=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Hm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$o(e);if(t){var i=$o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ym(this,n)}}function Ym(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pa(e)}function pa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var pd,dd,Hu=(od=da((jn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ld(o,u)})(i,e);var t,n,r=Hm(i);function i(){var o;Um(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return fd(pa(o=r.call.apply(r,[this].concat(l))),"modelType",ct.POLYGON_NODE),Fm(pa(o),"points",od,pa(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=sd($o(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return cd(cd({},o),Lt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(_){return{x:_[0]+o-l/2,y:_[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Xu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Xu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,_=this.height;return this.points.map(function(E,A){var D=Xu(E,2),B=D[0],W=D[1];return{x:u+B-d/2,y:l+W-_/2,id:"".concat(o.id,"_").concat(A)}})}}])&&Gm(t.prototype,n),i}(tr)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),da(jn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(jn.prototype,"pointsPosition"),jn.prototype),da(jn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(jn.prototype,"width"),jn.prototype),da(jn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(jn.prototype,"height"),jn.prototype),jn);function hd(e){return(hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yd(Object(n),!0).forEach(function(r){md(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gd(){return(gd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Zm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Zm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Jo(e))!==null;);return e}function bd(e,t){return(bd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function qm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jo(e);if(t){var i=Jo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $m(this,n)}}function $m(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ha(e)}function ha(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function md(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gr,Yu=(dd=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((pd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bd(o,u)})(i,e);var t,n,r=qm(i);function i(){var o;Wm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return md(ha(o=r.call.apply(r,[this].concat(l))),"modelType",ct.RECT_NODE),Vm(ha(o),"radius",dd,ha(o)),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=gd(Jo(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return vd(vd({},o),Lt(u))}}])&&Km(t.prototype,n),i}(tr)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pd);function _d(e){return(_d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Od(Object(n),!0).forEach(function(r){Sd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xd(){return(xd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=e0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function e0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Qo(e))!==null;);return e}function Ed(e,t){return(Ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function t0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qo(e);if(t){var i=Qo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n0(this,n)}}function n0(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jd(e)}function jd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pd(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Vu=(Pd((Gr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ed(o,u)})(i,e);var t,n,r=t0(i);function i(){var o;Jm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Sd(jd(o=r.call.apply(r,[this].concat(l))),"modelType",ct.TEXT_NODE),o}return t=i,(n=[{key:"getTextStyle",value:function(){var o=xd(Qo(i.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return wd(wd({},o),Lt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return du({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return du({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&Qm(t.prototype,n),i}(tr)).prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Gr.prototype,"width"),Gr.prototype),Pd(Gr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Gr.prototype,"height"),Gr.prototype),Gr);function Ad(e){return(Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function r0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kd(e,t){return(kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function i0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wu(e);if(t){var i=Wu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a0(this,n)}}function a0(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Md(e)}function Md(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function u0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Un,Td,Dd,Nd,Ku=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&kd(o,u)})(i,e);var t,n,r=i0(i);function i(){var o;r0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return u0(Md(o=r.call.apply(r,[this].concat(l))),"modelType",ct.HTML_NODE),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&o0(t.prototype,n),i}(tr);function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zu(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function c0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ei(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Id=(Td=ei((Un=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Rd(this,"graphModel",void 0),Zu(this,"isShowHorizontal",Td,this),Zu(this,"isShowVertical",Dd,this),Zu(this,"position",Nd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Cd(Object(o),!0).forEach(function(u){Rd(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Cd(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,u=r.y,l=!1,d=!1,_=0;_<i.length;_++){var E=i[_];if(E.id!==r.id&&(o===E.x&&(l=!0),u===E.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var _=this.graphModel.fakerNode;if(_&&_.id===d)u=sn(_);else{var E=this.graphModel.getNodeModelById(d);u=sn(E)}}for(var A=0;A<i.length;A++){var D=i[A];if(D.id!==r.id){var B=sn(D);if(B.minY===u.minY||B.maxY===u.minY){l=!0,o=u.minY;break}if(B.minY===u.maxY||B.maxY===u.maxY){l=!0,o=u.maxY;break}}}return $t({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var _=this.graphModel.fakerNode;if(_&&_.id===d)u=sn(_);else{var E=this.graphModel.getNodeModelById(d);u=sn(E)}}for(var A=0;A<i.length;A++){var D=i[A];if(D.id!==r.id){var B=sn(D);if(B.minX===u.minX||B.maxX===u.minX){l=!0,o=u.minX;break}if(B.minX===u.maxX||B.maxX===u.maxX){l=!0,o=u.maxX;break}}}return $t({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,i);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var _=this.getVerticalSnapline(r,i);_.isShowVertical&&(o.isShowVertical=_.isShowVertical,o.position.x=_.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&c0(t.prototype,n),e}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dd=ei(Un.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nd=ei(Un.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei(Un.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(Un.prototype,"clearSnapline"),Un.prototype),ei(Un.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(Un.prototype,"setNodeSnapLine"),Un.prototype),Un);function Ld(e){return(Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ya(){return(ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zd(Object(n),!0).forEach(function(r){or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Fd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ud(e,t){return(Ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function f0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qu(e);if(t){var i=qu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qu(e){return(qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ud(o,u)})(i,e);var t,n,r=f0(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),or(rr(o=r.call(this)),"preTargetNode",void 0),or(rr(o),"dragHandler",void 0),or(rr(o),"sourceRuleResults",void 0),or(rr(o),"targetRuleResults",void 0),or(rr(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,_=u.nodeModel,E=u.graphModel,A=E.overlapMode;E.selectNodeById(_.id),A!==cn.INCREASE&&_.autoToFront&&E.toFront(_.id),o.setState({startX:l,startY:d,endX:l,endY:d})}),or(rr(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,_=o.state,E=_.endX,A=_.endY,D=o.props,B=D.graphModel,W=D.nodeModel,re=s0(B.transformModel.moveCanvasPointByHtml([E,A],l,d),2),ae=re[0],ne=re[1];o.setState({endX:ae,endY:ne,draging:!0});var le=Yi({x:E,y:A},B);if(le){var he=le.node;o.preTargetNode=he;var Me=le.anchor.id,xe="".concat(he.id,"_").concat(Me);if(!o.targetRuleResults.has(xe)){var Ce=o.props.anchorData,Re=le.anchor,qe=W.isAllowConnectedAsSource(he,Ce,Re),vt=he.isAllowConnectedAsTarget(W,Ce,Re);o.sourceRuleResults.set(he.id,hl(qe)),o.targetRuleResults.set(xe,hl(vt))}var Pt=o.sourceRuleResults.get(he.id).isAllPass,mn=o.targetRuleResults.get(xe).isAllPass;Pt&&mn?he.setElementState(xt.ALLOW_CONNECT):he.setElementState(xt.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==xt.DEFAULT&&o.preTargetNode.setElementState(xt.DEFAULT)}),or(rr(o),"onDragEnd",function(){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear()}),or(rr(o),"checkEnd",function(){var u=o.props,l=u.graphModel,d=u.nodeModel,_=u.x,E=u.y,A=u.id,D=l.edgeType,B=o.state,W=B.endX,re=B.endY,ae=B.draging,ne=Yi({x:W,y:re},l);if(o.preTargetNode&&o.preTargetNode.state!==xt.DEFAULT&&o.preTargetNode.setElementState(xt.DEFAULT),ae&&ne&&ne.node){var le=ne.node,he=o.sourceRuleResults.get(le.id)||{},Me=he.isAllPass,xe=he.msg,Ce=ne.anchor.id,Re="".concat(le.id,"_").concat(Ce),qe=o.targetRuleResults.get(Re)||{},vt=qe.isAllPass,Pt=qe.msg;if(Me&&vt)le.setElementState(xt.ALLOW_CONNECT),_===ne.anchor.x&&E===ne.anchor.y||l.addEdge({type:D,sourceNodeId:d.id,sourceAnchorId:A,startPoint:{x:_,y:E},targetNodeId:ne.node.id,targetAnchorId:ne.anchor.id,endPoint:{x:ne.anchor.x,y:ne.anchor.y}});else{var mn=le.getData();l.eventCenter.emit(nt.CONNECTION_NOT_ALLOWED,{data:mn,msg:Pt||xe})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=Ho({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,_=o.endY;return Ln(u,l,d,_)>10}},{key:"render",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,_=o.endY,E=this.props,A=E.x,D=E.y,B=E.style,W=E.edgeStyle,re=Bd(Bd({},B),B.hover);return Object(q.g)("g",{className:"lf-anchor"},Object(q.g)(Wo,ya({className:"lf-node-anchor-hover"},re,{x:A,y:D,onMouseDown:this.dragHandler})),Object(q.g)(Wo,ya({className:"lf-node-anchor"},B,{x:A,y:D,onMouseDown:this.dragHandler})),this.isShowLine()&&Object(q.g)(lo,ya({x1:u,y1:l,x2:d,y2:_},W,{"pointer-events":"none"})))}}])&&l0(t.prototype,n),i}(q.a);a(59);function Gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gd(Object(n),!0).forEach(function(r){y0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xd(e){return(Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function v0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Hd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yd(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,_=e.overflowMode,E=_===void 0?"default":_,A=e.textWidth,D=A===void 0?"":A,B=e.model,W={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d};if(Object.entries(e).forEach(function(Me){var xe=v0(Me,2),Ce=xe[0],Re=xe[1];Xd(Re)!=="object"&&(W[Ce]=Re)}),o){var re=String(o).split(/[\r\n]/g),ae=re.length;if(E!=="default"){var ne=B.BaseType,le=B.modelType;if(ne===It.NODE&&le!==ct.TEXT_NODE||ne===It.EDGE&&D)return function(Me){var xe=Me.value,Ce=Me.fontSize,Re=Me.model,qe=Me.fontFamily,vt=qe===void 0?"":qe,Pt=Me.lineHeight,mn=Me.wrapPadding,Yr=mn===void 0?"0, 0":mn,Vr=Me.overflowMode,_a=Me.x,Oa=Me.y,Rc=Re.width,wa=Re.textHeight,Wr=Me.textWidth||Rc,Ic=String(xe).split(/[\r\n]/g),fO=Ic.length,Ty=dl({rows:Ic,style:{fontSize:"".concat(Ce,"px"),width:"".concat(Wr,"px"),fontFamily:vt,lineHeight:Pt,padding:Yr},rowsLength:fO,className:"lf-get-text-height"}),xa=Re.height>Ty?Re.height:Ty;wa&&(xa=wa);var pO=Vr==="ellipsis";return Object(q.g)("g",null,Object(q.g)("foreignObject",{width:Wr,height:xa,x:_a-Wr/2,y:Oa-xa/2},Object(q.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:xa,width:Wr,padding:Yr}},Object(q.g)("div",{className:pO?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:h0({},Me)},Ic.map(function(dO){return Object(q.g)("div",{className:"lf-node-text--auto-wrap-inner"},dO)})))))}(e)}if(ae>1){var he=re.map(function(Me,xe){var Ce=(xe-(ae-1)/2)*(u+2);return Object(q.g)("tspan",{className:"lf-text-tspan",x:n,y:i+Ce},Me)});return Object(q.g)("text",W,he)}return Object(q.g)("text",W,o)}}function Vd(e){return(Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Wd(){return(Wd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Kd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zd(e,t){return(Zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function m0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$u(e);if(t){var i=$u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _0(this,n)}}function _0(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}function _r(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $u(e){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Zd(o,u)})(i,e);var t,n,r=m0(i);function i(o){var u;(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,i),Xr(_r(u=r.call(this)),"dragHandler",void 0),Xr(_r(u),"sumDeltaX",0),Xr(_r(u),"sumDeltaY",0),Xr(_r(u),"stepDrag",void 0),Xr(_r(u),"onDraging",function(_){var E=_.deltaX,A=_.deltaY,D=u.props,B=D.model,W=g0(D.graphModel.transformModel.fixDeltaXY(E,A),2),re=W[0],ae=W[1];B.moveText(re,ae)}),Xr(_r(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(xt.TEXT_EDIT)}),Xr(_r(u),"mouseDownHandle",function(_){var E=u.props,A=E.draggable,D=E.graphModel.editConfigModel.nodeTextDraggable;(A||D)&&u.stepDrag.handleMouseDown(_)});var l=o.model,d=o.draggable;return u.stepDrag=new Yo({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d={x:u.x,y:u.y,className:"lf-element-text",value:l},_=o.getTextStyle();return Object(q.g)(Yd,Wd({},d,_,{model:o}))}},{key:"render",value:function(){if(this.props.model.text)return Object(q.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&b0(t.prototype,n),i}(q.a),O0=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function $d(e){return($d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jd(){return(Jd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Qd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e,t){return(th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function x0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ju(e);if(t){var i=Ju(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E0(this,n)}}function E0(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fn(e)}function fn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ir=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&th(u,l)})(o,e);var t,n,r,i=x0(o);function o(u){var l;(function(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")})(this,o),bn(fn(l=i.call(this)),"stepDrag",void 0),bn(fn(l),"contextMenuTime",void 0),bn(fn(l),"startTime",void 0),bn(fn(l),"clickTimer",void 0),bn(fn(l),"onDraging",function(D){var B=D.deltaX,W=D.deltaY,re=l.props,ae=re.model,ne=re.graphModel;l.state.isDraging||l.setState({isDraging:!0});var le=w0(ne.transformModel.fixDeltaXY(B,W),2),he=le[0],Me=le[1];ne.moveNode(ae.id,he,Me)}),bn(fn(l),"onDragEnd",function(){l.props.model.isDragging=!1}),bn(fn(l),"handleClick",function(D){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var B=l.props,W=B.model,re=B.graphModel,ae={data:W.getData(),e:D,position:re.getPointByClient({x:D.clientX,y:D.clientY})},ne=D.button===2,le=D.detail===2;if(!ne){var he=re.editConfigModel;re.selectNodeById(W.id,Gs(D,he)),l.toFront(),le?(he.nodeTextEdit&&W.text.editable&&(W.setSelected(!1),re.setElementStateById(W.id,xt.TEXT_EDIT)),re.eventCenter.emit(nt.NODE_DBCLICK,ae)):(re.eventCenter.emit(nt.ELEMENT_CLICK,ae),re.eventCenter.emit(nt.NODE_CLICK,ae))}}}),bn(fn(l),"handleContextMenu",function(D){D.preventDefault();var B=l.props,W=B.model,re=B.graphModel,ae=W.getData(),ne=re.getPointByClient({x:D.clientX,y:D.clientY});re.setElementStateById(W.id,xt.SHOW_MENU,ne.domOverlayPosition),re.selectNodeById(W.id),re.eventCenter.emit(nt.NODE_CONTEXTMENU,{data:ae,e:D,position:ne}),l.toFront()}),bn(fn(l),"handleMouseDown",function(D){var B=l.props,W=B.model,re=B.graphModel;l.toFront(),l.startTime=new Date().getTime(),re.editConfigModel.adjustNodePosition&&W.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(D)}),bn(fn(l),"setHoverON",function(D){if(!l.state.isHovered){l.setState({isHovered:!0});var B=l.props,W=B.model,re=B.graphModel,ae=W.getData();W.setHovered(!0),re.eventCenter.emit(nt.NODE_MOUSEENTER,{data:ae,e:D})}}),bn(fn(l),"setHoverOFF",function(D){l.setState({isHovered:!1});var B=l.props,W=B.model,re=B.graphModel,ae=W.getData();W.setHovered(!1),re.eventCenter.emit(nt.NODE_MOUSELEAVE,{data:ae,e:D})}),bn(fn(l),"onMouseOut",function(D){O0&&l.setHoverOFF(D)});var d=u.graphModel,_=d.gridSize,E=d.eventCenter,A=u.model;return l.stepDrag=new Yo({onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:_,eventType:"NODE",eventCenter:E,model:A}),l.state={isHovered:!1},l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,_=l.graphModel,E=d.isSelected,A=d.isHitable,D=d.isDragging,B=this.state.isHovered;if(A&&(E||B)){var W=d.getAnchorStyle(),re=d.getAnchorLineStyle();return Fi(d.anchors,function(ae,ne){return Object(q.g)(d0,Jd({},ae,{anchorData:ae,nodeDraging:D,style:W,edgeStyle:re,anchorIndex:ne,nodeModel:d,graphModel:_,setHoverOFF:u.setHoverOFF}))})}return[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===xt.TEXT_EDIT)return"";if(l.text){var _=d.editConfigModel,E=!1;return(l.text.draggable||_.nodeTextDraggable)&&(E=!0),Object(q.g)(qd,{editable:_.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:E})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDraging,_="lf-node";switch(l){case xt.ALLOW_CONNECT:_+=" lf-node-allow";break;case xt.NOT_ALLOW_CONNECT:_+=" lf-node-not-allow";break;default:_+=" lf-node-default"}return d&&(_+=" lf-isDragging"),_}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==cn.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,_=l.graphModel,E=_.editConfigModel,A=E.hideAnchors,D=E.adjustNodePosition,B=_.gridSize,W=_.transformModel.SCALE_X,re=d.isHitable,ae=d.draggable,ne=Object(q.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),A?null:this.getAnchors());return re?(D&&ae&&this.stepDrag.setStep(B*W),u=Object(q.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ne)):u=Object(q.g)("g",{className:this.getStateClassName()},ne),u}}])&&eh(t.prototype,n),r&&eh(t,r),o}(q.a);function nh(e){return(nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rh(){return(rh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oh(e,t){return(oh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function P0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qu(e);if(t){var i=Qu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A0(this,n)}}function A0(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ec=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&oh(o,u)})(i,e);var t,n,r=P0(i);function i(){return j0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(q.g)(br,rh({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&S0(t.prototype,n),i}(ir);function ih(e){return(ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ah(){return(ah=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uh(e,t){return(uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function T0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=tc(e);if(t){var i=tc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D0(this,n)}}function D0(e,t){if(t&&(ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function tc(e){return(tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var nc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uh(o,u)})(i,e);var t,n,r=T0(i);function i(){return k0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,_=o.getNodeStyle();return Object(q.g)(Wo,ah({},_,{x:u,y:l,r:d}))}}])&&M0(t.prototype,n),i}(ir);function ch(e){return(ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function N0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return sh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(e).forEach(function(i){var o=N0(i,2),u=o[0],l=o[1];ch(l)!=="object"&&(r[u]=l)}),r.points=t.map(function(i){return i.join(",")}).join(" "),Object(q.g)("polygon",r)}function fh(e){return(fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ph(){return(ph=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dh(e,t){return(dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function I0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rc(e);if(t){var i=rc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L0(this,n)}}function L0(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function rc(e){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var oc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&dh(o,u)})(i,e);var t,n,r=I0(i);function i(){return C0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,_=o.height,E=o.points,A=o.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-_/2,")")};return Object(q.g)("g",D,Object(q.g)(lh,ph({},A,{points:E,x:u,y:l})))}}])&&R0(t.prototype,n),i}(ir);function hh(e){return(hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function yh(){return(yh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vh(e,t){return(vh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function F0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ic(e);if(t){var i=ic(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U0(this,n)}}function U0(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ac=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vh(o,u)})(i,e);var t,n,r=F0(i);function i(){return z0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(q.g)("g",null,Object(q.g)(lh,yh({},u,{points:o.points,x:o.x,y:o.y})))}}])&&B0(t.prototype,n),i}(ir);function gh(e){return(gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function G0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return bh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return bh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X0(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d={cx:n,cy:i,rx:u,ry:l===void 0?4:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(_){var E=G0(_,2),A=E[0],D=E[1];gh(D)!=="object"&&(d[A]=D)}),Object(q.g)("ellipse",d)}function mh(e){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _h(){return(_h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oh(e,t){return(Oh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function V0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=uc(e);if(t){var i=uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W0(this,n)}}function W0(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var cc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Oh(o,u)})(i,e);var t,n,r=V0(i);function i(){return H0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(q.g)(X0,_h({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&Y0(t.prototype,n),i}(ir);function wh(e){return(wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xh(Object(n),!0).forEach(function(r){K0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jh(e,t){return(jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sc(e);if(t){var i=sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J0(this,n)}}function J0(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var lc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&jh(o,u)})(i,e);var t,n,r=$0(i);function i(){return Z0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text;if(l&&l.value&&u.background&&u.background.fill!=="transparnet"){var d=l.x,_=l.y,E=o.width,A=o.height,D=Eh(Eh({},u.background),{},{x:d,y:_-1,width:E,height:A});return Object(q.g)(br,D)}}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getBackgroud())}}])&&q0(t.prototype,n),i}(ir);function Sh(e){return(Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Q0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function t_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fc(e);if(t){var i=fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ti(e)}function ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ph(o,u)})(i,e);var t,n,r=t_(i);function i(){var o;Q0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return va(ti(o=r.call.apply(r,[this].concat(l))),"ref",void 0),va(ti(o),"currrentProperties",void 0),va(ti(o),"preProperties",void 0),va(ti(o),"setRef",function(_){o.ref=_}),o}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,_=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object(q.g)("foreignObject",{x:u-_/2,y:l-d/2,width:_,height:d,ref:this.setRef})}}])&&e_(t.prototype,n),i}(ir);function Ah(e){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function r_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return kh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return kh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ni=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=r_(n,2),i=r[0],o=r[1];Ah(o)!=="object"&&(t[i]=o)}),Object(q.g)("path",t)};function Mh(e){return(Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dh(e,t){return(Dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function u_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=dc(e);if(t){var i=dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c_(this,n)}}function c_(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Nh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Dh(o,u)})(i,e);var t,n,r=u_(i);function i(){return i_(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,_=u.end,E={start:d,end:_,offset:l.offset,verticalLength:l.verticalLength,type:"end"},A=Uo(E),D=A.leftX,B=A.leftY,W=A.rightX,re=A.rightY;return function(ae){for(var ne=1;ne<arguments.length;ne++){var le=arguments[ne]!=null?arguments[ne]:{};ne%2?Th(Object(le),!0).forEach(function(he){o_(ae,he,le[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(le)):Th(Object(le)).forEach(function(he){Object.defineProperty(ae,he,Object.getOwnPropertyDescriptor(le,he))})}return ae}({d:"M".concat(D," ").concat(B," L").concat(_.x," ").concat(_.y," L").concat(W," ").concat(re," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,_=o.fill;return Object(q.g)(ni,{d:u,fill:_,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-arrow"},this.getShape())}}])&&a_(t.prototype,n),i}(q.a);function Ch(e){return(Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rh(){return(Rh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ih(Object(n),!0).forEach(function(r){vc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lh(e,t){return(Lh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function l_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=yc(e);if(t){var i=yc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f_(this,n)}}function f_(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hc(e)}function hc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yc(e){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Or,p_=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Lh(o,u)})(i,e);var t,n,r=l_(i);function i(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),vc(hc(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),vc(hc(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=Hr(Hr({},d),u.hover.background)),l&&l.value&&d.fill!=="transparnet"){var _,E=u.fontSize,A=u.overflowMode,D=u.lineHeight,B=u.wrapPadding,W=u.textWidth,re=l.value,ae=l.x,ne=l.y,le=String(re).split(/[\r\n]/g),he=le.length;if(A==="autoWrap"&&W){var Me=dl({rows:le,style:{fontSize:"".concat(E,"px"),width:"".concat(W,"px"),lineHeight:D,padding:B},rowsLength:he,className:"lf-get-text-height"});_=Hr(Hr({},d),{},{x:ae-1,y:ne-1,width:W,height:Me})}else{le&&le.forEach(function(qe){Ul(qe)});var xe=du({rows:le,fontSize:E,rowsLength:he}),Ce=xe.width,Re=xe.height;_=Hr(Hr({},d),{},{x:ae-1,y:ne-1,width:Ce,height:Re})}return Object(q.g)(br,_)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,_=u.y;if(l){var E=Hr({x:d,y:_,className:"lf-element-text",value:l},o.getTextStyle());return Object(q.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(q.g)(Yd,Rh({},E,{model:o})))}}}])&&s_(t.prototype,n),i}(qd);function zh(e){return(zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bh(){return(Bh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fh(Object(n),!0).forEach(function(r){xr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Uh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Uh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gh(e,t){return(Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function y_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gc(e);if(t){var i=gc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v_(this,n)}}function v_(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wr(e)}function wr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gc(e){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Or||(Or={}));var Xh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gh(o,u)})(i,e);var t,n,r=y_(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),xr(wr(o=r.call(this)),"dragHandler",void 0),xr(wr(o),"oldEdge",void 0),xr(wr(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,_=u.edgeModel,E=_.startPoint,A=_.endPoint,D=_.pointsList;o.oldEdge={startPoint:E,endPoint:A,pointsList:D},o.setState({endX:l,endY:d,draging:!0})}),xr(wr(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,_=o.state,E=_.endX,A=_.endY,D=o.props,B=D.graphModel,W=D.type,re=d_(B.transformModel.moveCanvasPointByHtml([E,A],l,d),2),ae=re[0],ne=re[1];o.setState({endX:ae,endY:ne,draging:!0});var le=o.props.edgeModel,he=Yi({x:E,y:A},B);if(he&&he.node){var Me,xe=le.startPoint,Ce=le.endPoint,Re=le.sourceNode,qe=le.targetNode;W===Or.SOURCE?Me={startPoint:{x:he.anchor.x,y:he.anchor.y},endPoint:{x:Ce.x,y:Ce.y},sourceNode:he.node,targetNode:qe}:W===Or.TARGET&&(Me={startPoint:{x:xe.x,y:xe.y},endPoint:{x:he.anchor.x,y:he.anchor.y},sourceNode:Re,targetNode:he.node}),le.updateAfterAdjustStartAndEnd(Me)}else W===Or.SOURCE?le.updateStartPoint({x:ae,y:ne}):W===Or.TARGET&&le.updateEndPoint({x:ae,y:ne})}),xr(wr(o),"onDragEnd",function(){o.setState({draging:!1});var u=o.props,l=u.graphModel,d=u.edgeModel,_=u.type,E=o.state,A=E.endX,D=E.endY,B=E.draging,W=Yi({x:A,y:D},l);if(B)if(W&&W.node){var re,ae=d.getData(),ne=ar(ar({},ae),{},{sourceAnchorId:"",targetAnchorId:"",text:(ae==null||(re=ae.text)===null||re===void 0?void 0:re.value)||""});_===Or.SOURCE?ne=ar(ar({},ne),{},{sourceNodeId:W.node.id,sourceAnchorId:W.anchor.id,startPoint:{x:W.anchor.x,y:W.anchor.y},targetNodeId:d.targetNodeId,endPoint:ar({},d.endPoint)}):_===Or.TARGET&&(ne=ar(ar({},ne),{},{sourceNodeId:d.sourceNodeId,startPoint:ar({},d.startPoint),targetNodeId:W.node.id,targetAnchorId:W.anchor.id,endPoint:{x:W.anchor.x,y:W.anchor.y}})),l.deleteEdgeById(d.id);var le=l.addEdge(ar({},ne));l.eventCenter.emit(nt.EDGE_EXCHANGE_NODE,{data:{newEdge:le.getData(),oldEdge:d.getData()}})}else o.recoveryEdge()}),xr(wr(o),"recoveryEdge",function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,_=l.endPoint,E=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(_),u.modelType!==ct.LINE_EDGE&&(u.pointsList=E,u.initPoints())}),xr(wr(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.dragHandler=Ho({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,_=this.getAdjustPointStyle();return Object(q.g)("g",null,Object(q.g)(Wo,Bh({className:"lf-edge-adjust-point"},_,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&h_(t.prototype,n),i}(q.a);function Hh(e){return(Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bc(){return(bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(n),!0).forEach(function(r){Pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wh(e,t){return(Wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function m_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=mc(e);if(t){var i=mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return __(this,n)}}function __(e,t){if(t&&(Hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sn(e)}function Sn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mc(e){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ri=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Wh(o,u)})(i,e);var t,n,r=m_(i);function i(){var o;g_(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Pn(Sn(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),Pn(Sn(o),"contextMenuTime",void 0),Pn(Sn(o),"clickTimer",void 0),Pn(Sn(o),"handleHover",function(_,E){var A=o.props,D=A.model,B=A.graphModel.eventCenter;D.setHovered(_);var W=_?nt.EDGE_MOUSEENTER:nt.EDGE_MOUSELEAVE,re=D.getData();B.emit(W,{data:re,e:E})}),Pn(Sn(o),"setHoverON",function(_){o.handleHover(!0,_)}),Pn(Sn(o),"setHoverOFF",function(_){o.handleHover(!1,_)}),Pn(Sn(o),"handleContextMenu",function(_){_.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var E=o.props,A=E.model,D=E.graphModel,B=D.getPointByClient({x:_.clientX,y:_.clientY});D.setElementStateById(A.id,xt.SHOW_MENU,B.domOverlayPosition),o.toFront(),D.selectEdgeById(A.id);var W=A==null?void 0:A.getData();D.eventCenter.emit(nt.EDGE_CONTEXTMENU,{data:W,e:_,position:B})}),Pn(Sn(o),"handleMouseDown",function(_){_.stopPropagation(),o.startTime=new Date().getTime()}),Pn(Sn(o),"handleMouseUp",function(_){if(o.startTime&&!(new Date().getTime()-o.startTime>200||_.button===2)){var E=_.detail===2,A=o.props,D=A.model,B=A.graphModel,W=D==null?void 0:D.getData(),re=B.getPointByClient({x:_.clientX,y:_.clientY});if(E){var ae=B.editConfigModel,ne=B.textEditElement;if(ne&&ne.id===D.id&&B.setElementStateById(D.id,xt.DEFAULT),ae.edgeTextEdit&&D.text.editable&&B.setElementStateById(D.id,xt.TEXT_EDIT),D.modelType===ct.POLYLINE_EDGE){var le=D,he=B.getPointByClient({x:_.x,y:_.y}).canvasOverlayPosition,Me=he.x,xe=he.y,Ce=Xl({x:Me,y:xe},le.points);le.dbClickPosition=Ce}B.eventCenter.emit(nt.EDGE_DBCLICK,{data:W,e:_,position:re})}else B.eventCenter.emit(nt.ELEMENT_CLICK,{data:W,e:_,position:re}),B.eventCenter.emit(nt.EDGE_CLICK,{data:W,e:_,position:re});var Re=B.editConfigModel;B.selectEdgeById(D.id,Gs(_,Re)),o.toFront()}}),Pn(Sn(o),"getIsDraging",function(){return!1}),o}return t=i,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===xt.TEXT_EDIT)return"";var d=!1,_=l.editConfigModel;return(u.text.draggable||_.edgeTextDraggable)&&(d=!0),Object(q.g)(p_,{editable:_.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getEdgeStyle(),_=l.theme.arrow;return Vh(Vh({},d),{},{fill:d.stroke},_)}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,l=o.end;if(u&&l&&(u.x!==l.x||u.y!==l.y)){var d=this.getArrowStyle();return Object(q.g)(Nh,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),_=u.getAdjustEnd();return Object(q.g)("g",null,Object(q.g)(Xh,bc({type:"SOURCE"},d,{edgeModel:u,graphModel:l})),Object(q.g)(Xh,bc({type:"TARGET"},_,{edgeModel:u,graphModel:l})))}},{key:"getAppendWidth",value:function(){return Object(q.g)("g",null)}},{key:"getAppend",value:function(){return Object(q.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==cn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model.isSelected,l=o.graphModel.editConfigModel,d=this.getIsDraging(),_=l.adjustEdgeStartAndEnd;return Object(q.g)("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow(),_&&u&&!d?this.getAdjustPoints():"")}}])&&b_(t.prototype,n),i}(q.a);function Kh(e){return(Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zh(){return(Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qh(e,t){return(qh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function x_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_c(e);if(t){var i=_c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E_(this,n)}}function E_(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function _c(e){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Oc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&qh(o,u)})(i,e);var t,n,r=x_(i);function i(){return O_(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.getEdgeStyle();return Object(q.g)(lo,Zh({},d,{x1:u.x,y1:u.y,x2:l.x,y2:l.y}))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(D){var B,W=D.start,re=D.end;if(W.x===re.x&&W.y===re.y)B="";else{var ae={start:W,end:re,offset:10,verticalLength:5},ne=Uo(Ki(Ki({},ae),{},{type:"start"})),le=Uo(Ki(Ki({},ae),{},{type:"end"}));B="M".concat(ne.leftX," ").concat(ne.leftY,` 
    L`).concat(ne.rightX," ").concat(ne.rightY,` 
    L`).concat(le.rightX," ").concat(le.rightY,`
    L`).concat(le.leftX," ").concat(le.leftY," z")}return{d:B,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,_=u.fill,E=u.strokeDasharray,A=u.stroke;return Object(q.g)(ni,{d:l,fill:_,strokeWidth:d,stroke:A,strokeDasharray:E})}}])&&w_(t.prototype,n),i}(ri);function $h(e){return($h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function j_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Jh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S_=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=j_(n,2),i=r[0],o=r[1];$h(o)!=="object"&&(t[i]=o)}),Object(q.g)("polyline",t)};function Qh(e){return(Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(r){Xn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ty(){return(ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ny(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ny(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ry(e,t){return(ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function k_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wc(e);if(t){var i=wc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}function Gn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ry(o,u)})(i,e);var t,n,r=k_(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),Xn(Gn(o=r.call(this)),"drag",void 0),Xn(Gn(o),"isDraging",void 0),Xn(Gn(o),"appendInfo",void 0),Xn(Gn(o),"dragHandler",void 0),Xn(Gn(o),"onDragStart",function(){o.props.model.dragAppendStart()}),Xn(Gn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,_=o.props,E=_.model,A=_.graphModel;o.isDraging=!0;var D=A.transformModel,B=A.editConfigModel,W=P_(D.fixDeltaXY(l,d),2),re=W[0],ae=W[1],ne=E,le=B.adjustEdgeMiddle;o.appendInfo=le?ne.dragAppendSimple(o.appendInfo,{x:re,y:ae}):ne.dragAppend(o.appendInfo,{x:re,y:ae})}),Xn(Gn(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,_=l;_.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(nt.EDGE_ADJUST,{data:_.getData()})}),Xn(Gn(o),"beforeDragStart",function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l}),Xn(Gn(o),"getIsDraging",function(){return o.isDraging}),o.drag=Ho({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(q.g)(S_,ty({points:o.points},u))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},_=co(u);return _.length>=2&&(d.start=_[_.length-2],d.end=_[_.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var _={start:l,end:d,offset:10,verticalLength:5},E=Uo(ga(ga({},_),{},{type:"start"})),A=Uo(ga(ga({},_),{},{type:"end"}));u="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(A.rightX," ").concat(A.rightY,`
      L`).concat(A.leftX," ").concat(A.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,_=u.fill,E=u.strokeDasharray,A=u.stroke;return Object(q.g)(ni,{d:l,fill:_,strokeWidth:d,stroke:A,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,_=l.pointsList,E=l.draggable,A=[],D=_.length,B=function(re){var ae="lf-polyline-append",ne={start:{x:_[re].x,y:_[re].y},end:{x:_[re+1].x,y:_[re+1].y},startIndex:re,endIndex:re+1,direction:"",dragAble:!0},le=Object(q.g)("g",{className:ae},o.getAppendShape(ne)),he=d.editConfigModel,Me=he.adjustEdge,xe=he.adjustEdgeMiddle;if(Me&&E){o.dragHandler=o.drag;var Ce=ne.startIndex,Re=ne.endIndex,qe=xe&&(Ce===0||Re===D-1);ne.dragAble=!qe,ne.start.x===ne.end.x?(ne.dragAble&&(ae+="-ew-resize"),ne.direction=St.VERTICAL):ne.start.y===ne.end.y&&(ne.dragAble&&(ae+="-ns-resize"),ne.direction=St.HORIZONTAL),le=Object(q.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(vt){return o.beforeDragStart(vt,ne)}},Object(q.g)("g",{className:ae},o.getAppendShape(ne)))}else o.dragHandler=function(){};A.push(le)},W=0;W<D-1;W++)B(W);return Object(q.g)("g",null,A)}}])&&A_(t.prototype,n),i}(ri);function oy(e){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function T_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return iy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return iy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ay(){return(ay=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e,t){return(uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function C_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ec(e);if(t){var i=Ec(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R_(this,n)}}function R_(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var jc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uy(o,u)})(i,e);var t,n,r=C_(i);function i(){return D_(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(q.g)(ni,ay({d:o.path},u))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(q.g)(ni,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,_=l.isSelected,E=T_(function(A){var D=ea(A);return[D[2],D[3]]}(d),2);return{start:E[0],end:E[1],hover:u,isSelected:_}}}])&&N_(t.prototype,n),i}(ri),cy=function(e,t){return v(e,t)},I_=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Sc=function(){return dt.a.Date.now()},L_=/\s/,z_=function(e){for(var t=e.length;t--&&L_.test(e.charAt(t)););return t},B_=/^\s+/,F_=function(e){return e&&e.slice(0,z_(e)+1).replace(B_,"")},U_=/^[-+]0x[0-9a-f]+$/i,G_=/^0b[01]+$/i,X_=/^0o[0-7]+$/i,H_=parseInt,sy=function(e){if(typeof e=="number")return e;if(te(e))return NaN;if(Mt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=F_(e);var n=G_.test(e);return n||X_.test(e)?H_(e.slice(2),n?2:8):U_.test(e)?NaN:+e},Y_=Math.max,V_=Math.min,W_=function(e,t,n){var r,i,o,u,l,d,_=0,E=!1,A=!1,D=!0;if(typeof e!="function")throw new TypeError("Expected a function");function B(he){var Me=r,xe=i;return r=i=void 0,_=he,u=e.apply(xe,Me)}function W(he){return _=he,l=setTimeout(ae,t),E?B(he):u}function re(he){var Me=he-d;return d===void 0||Me>=t||Me<0||A&&he-_>=o}function ae(){var he=Sc();if(re(he))return ne(he);l=setTimeout(ae,function(Me){var xe=t-(Me-d);return A?V_(xe,o-(Me-_)):xe}(he))}function ne(he){return l=void 0,D&&r?B(he):(r=i=void 0,u)}function le(){var he=Sc(),Me=re(he);if(r=arguments,i=this,d=he,Me){if(l===void 0)return W(d);if(A)return clearTimeout(l),l=setTimeout(ae,t),B(d)}return l===void 0&&(l=setTimeout(ae,t)),u}return t=sy(t)||0,Mt(n)&&(E=!!n.leading,o=(A="maxWait"in n)?Y_(sy(n.maxWait)||0,t):o,D="trailing"in n?!!n.trailing:D),le.cancel=function(){l!==void 0&&clearTimeout(l),_=0,r=d=i=l=void 0},le.flush=function(){return l===void 0?u:ne(Sc())},le},K_=a(157);function Z_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ly,fy,py,q_=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Er(this,"undos",[]),Er(this,"redos",[]),Er(this,"callbacks",[]),Er(this,"stopWatch",null),Er(this,"curData",null),Er(this,"maxSize",50),Er(this,"waitTime",100),Er(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){cy(I_(this.undos),r)||(this.undos.push(r),cy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(nt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Lt(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Lt(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(K_.a)(r,W_(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&Z_(t.prototype,n),e}();function dy(e){return(dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return hy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(n),!0).forEach(function(r){oi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gy(e,t){return(gy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function J_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Pc(e);if(t){var i=Pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q_(this,n)}}function Q_(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ba(e)}function ba(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var by,my,_y,Ac=An((py=fy=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&gy(u,l)})(o,e);var t,n,r,i=J_(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),oi(ba(u=i.call(this)),"ref",Object(q.f)()),oi(ba(u),"__prevText",{type:"",text:"",id:""}),oi(ba(u),"keyupHandler",function(l){var d=l.target.innerText,_=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&_.setElementState(0),u.__prevText={type:_.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:_.id}}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,_=d.transformModel,E=d.theme,A=d.textEditElement;if(A){var D;if((D=A.text)===null||D===void 0||!D.value)if(A.BaseType===It.EDGE){var B=(A=A).text,W=A.textPosition,re=W.x,ae=W.y;B.x=re,B.y=ae,A.setText(B)}else A=A;var ne={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(A.BaseType===It.EDGE){var le=E.edgeText,he=le.overflowMode,Me=le.lineHeight,xe=le.wrapPadding,Ce=le.textWidth;Ce&&he==="autoWrap"&&(l=yo(yo({},ne),{},{width:Ce,minWidth:Ce,lineHeight:Me,padding:xe}))}else if(A.BaseType===It.NODE){var Re=E.nodeText,qe=Re.overflowMode,vt=Re.lineHeight,Pt=Re.wrapPadding,mn=Re.textWidth,Yr=A,Vr=Yr.width,_a=Yr.modelType;(_a!==ct.TEXT_NODE&&qe==="autoWrap"||_a===ct.TEXT_NODE&&mn)&&(l=yo(yo({},ne),{},{width:mn||Vr,minWidth:mn||Vr,lineHeight:vt,padding:Pt}))}var Oa=A.text,Rc=Oa.x,wa=Oa.y,Wr=$_(_.CanvasPointToHtmlPoint([Rc,wa]),2);return{style:yo({left:Wr[0],top:Wr[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfigModel,_=d.edgeTextEdit,E=d.nodeTextEdit;(_||E)&&l.on(nt.GRAPH_TRANSFORM,function(){u.textEditElement&&u.textEditElement.setElementState(xt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,_=l.id;u.updateText(_,d),u.eventCenter.emit(nt.TEXT_UPDATE,yo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(q.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&vy(t.prototype,n),r&&vy(t,r),o}(q.a),oi(fy,"toolName","textEdit"),ly=py))||ly,eO=function(e){return e.modelType===ct.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:i-u/2,y:o-l/2,x1:i+u/2,y1:o+l/2}}(e):e.modelType===ct.POLYLINE_EDGE?function(t){var n=t.points,r=co(n),i=Go(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===ct.BEZIER_EDGE?function(t){var n=t.path,r=ea(n),i=Go(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Oy(e){return(Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,_=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){_=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(_)throw u}}return l}}(e,t)||xy(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tO(e){return function(t){if(Array.isArray(t))return kc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||xy(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(e,t){if(e){if(typeof e=="string")return kc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(e,t):void 0}}function kc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ey(e,t){return(Ey=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function rO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mc(e);if(t){var i=Mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oO(this,n)}}function oO(e,t){if(t&&(Oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(e)}function ii(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mc(e){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tc=An((_y=my=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ey(o,u)})(i,e);var t,n,r=rO(i);function i(o){var u;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),ai(ii(u=r.call(this)),"stepDrag",void 0),ai(ii(u),"handleMouseDown",function(E){u.stepDrag.handleMouseDown(E)}),ai(ii(u),"onDraging",function(E){var A=E.deltaX,D=E.deltaY,B=u.props.graphModel,W=B.getSelectElements(!0);B.moveNodes(W.nodes.map(function(re){return re.id}),A,D)}),ai(ii(u),"handleContextMenu",function(E){E.preventDefault();var A=u.props,D=A.graphModel,B=A.graphModel,W=B.eventCenter,re=B.selectElements,ae=D.getPointByClient({x:E.clientX,y:E.clientY}),ne={nodes:[],edges:[]};tO(re.values()).forEach(function(le){le.BaseType===It.NODE&&ne.nodes.push(le.getData()),le.BaseType===It.EDGE&&ne.edges.push(le.getData())}),W.emit(nt.SELECTION_CONTEXTMENU,{data:ne,e:E,position:ae})});var l=o.graphModel,d=l.gridSize,_=l.eventCenter;return u.stepDrag=new Yo({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:_}),u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,_=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;u.forEach(function(re){var ae={x:0,y:0,x1:0,y1:0};re.BaseType===It.NODE&&(ae=function(ne){var le=ne.x,he=ne.y,Me=ne.width,xe=ne.height;return{x:le-Me/2,y:he-xe/2,x1:le+Me/2,y1:he+xe/2}}(re)),re.BaseType===It.EDGE&&(ae=eO(re)),d=Math.min(d,ae.x),_=Math.min(_,ae.y),E=Math.max(E,ae.x1),A=Math.max(A,ae.y1)});var D=wy(l.CanvasPointToHtmlPoint([d,_]),2);d=D[0],_=D[1];var B=wy(l.CanvasPointToHtmlPoint([E,A]),2);E=B[0],A=B[1];var W={left:"".concat(d-10,"px"),top:"".concat(_-10,"px"),width:"".concat(E-d+20,"px"),height:"".concat(A-_+20,"px")};return Object(q.g)("div",{className:"lf-multiple-select",style:W,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&nO(t.prototype,n),i}(q.a),ai(my,"toolName","multipleSelect"),by=_y))||by;function iO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aO=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),ma(this,"tools",void 0),ma(this,"components",void 0),ma(this,"toolMap",new Map),ma(this,"instance",void 0),this.instance=r,this.isDisabledTool(Ac.toolName)||this.registerTool(Ac.toolName,Ac),this.isDisabledTool(Tc.toolName)||this.registerTool(Tc.toolName,Tc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&iO(t.prototype,n),e}(),uO=a(158),cO=a.n(uO);function sO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jy=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Dc(this,"mousetrap",void 0),Dc(this,"options",void 0),Dc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new cO.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(Ft(i))i.forEach(function(d){var _=d.keys,E=d.callback,A=d.action;return r.on(_,E,A)});else{var o=i.keys,u=i.callback,l=i.action;this.on(o,u,l)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&sO(t.prototype,n),e}(),lO=jy,ur=null;function Sy(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Py(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Ay(e){return(Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(n),!0).forEach(function(r){Tt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function My(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cc=function(){function e(i){var o,u,l=this;(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,e),Tt(this,"container",void 0),Tt(this,"width",void 0),Tt(this,"height",void 0),Tt(this,"graphModel",void 0),Tt(this,"history",void 0),Tt(this,"viewMap",new Map),Tt(this,"tool",void 0),Tt(this,"keyboard",void 0),Tt(this,"dnd",void 0),Tt(this,"options",void 0),Tt(this,"snaplineModel",void 0),Tt(this,"components",[]),Tt(this,"plugins",void 0),Tt(this,"extension",{}),Tt(this,"adapterIn",void 0),Tt(this,"adapterOut",void 0),Tt(this,"getView",function(d){return l.viewMap.get(d)}),i=op(i),this.options=i,this.container=i.container,this.plugins=i.plugins,this.graphModel=new _b(Nc({},i)),this.tool=new aO(this),this.history=new q_(this.graphModel.eventCenter),this.dnd=new ym({lf:this}),this.keyboard=new lO({lf:this,keyboard:i.keyboard}),i.isSilentMode||i.snapline===!1||(this.snaplineModel=new Id(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var _=d.data;u.setNodeSnapLine(_)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,_){var E=d.keyboard,A=E.options.keyboard;E.on(["cmd + c","ctrl + c"],function(){if(A.enabled&&!_.textEditElement){var D=d.options.guards,B=_.getSelectElements(!1);return D&&D.beforeClone&&!D.beforeClone(B)?(ur=null,!1):((ur=B).nodes.forEach(function(W){return Sy(W,40)}),ur.edges.forEach(function(W){return Py(W,40)}),!1)}}),E.on(["cmd + v","ctrl + v"],function(){if(A.enabled&&!_.textEditElement){if(ur&&(ur.nodes||ur.edges)){d.clearSelectElements();var D=d.addElements(ur);if(!D)return;D.nodes.forEach(function(B){return d.selectElementById(B.id,!0)}),D.edges.forEach(function(B){return d.selectElementById(B.id,!0)}),ur.nodes.forEach(function(B){return Sy(B,40)}),ur.edges.forEach(function(B){return Py(B,40)})}return!1}}),E.on(["cmd + z","ctrl + z"],function(){if(A.enabled&&!_.textEditElement)return d.undo(),!1}),E.on(["cmd + y","ctrl + y"],function(){if(A.enabled&&!_.textEditElement)return d.redo(),!1}),E.on(["backspace"],function(){if(A.enabled&&!_.textEditElement){var D=_.getSelectElements(!0);return d.clearSelectElements(),D.edges.forEach(function(B){return d.deleteEdge(B.id)}),D.nodes.forEach(function(B){return d.deleteNode(B.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,i)}}],(n=[{key:"register",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var l={BaseEdge:ri,BaseEdgeModel:yu,BaseNode:ir,BaseNodeModel:tr,RectNode:ec,RectNodeModel:Yu,CircleNode:nc,CircleNodeModel:Bu,PolygonNode:oc,PolygonNodeModel:Hu,TextNode:lc,TextNodeModel:Vu,LineEdge:Oc,LineEdgeModel:gu,DiamondNode:ac,DiamondNodeModel:Uu,PolylineEdge:xc,PolylineEdgeModel:mu,BezierEdge:jc,BezierEdgeModel:Lu,EllipseNode:cc,EllipseNodeModel:Gu,HtmlNode:pc,HtmlNodeModel:Ku,h:q.g,type:i};this.viewMap.forEach(function(D){var B=D.extendKey;B&&(l[B]=D)}),this.graphModel.modelMap.forEach(function(D){var B=D.extendKey;B&&(l[B]=D)});var d=o(l),_=d.view,E=d.model,A=_;u&&!A.isObervered&&(A.isObervered=!0,A=pe(A)),this.setView(i,A),this.graphModel.setModel(i,E)}else this.registerElement(i)}},{key:"registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=pe(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:ec,model:Yu,type:"rect"}),this.registerElement({type:"circle",view:nc,model:Bu}),this.registerElement({type:"polygon",view:oc,model:Hu}),this.registerElement({type:"line",view:Oc,model:gu}),this.registerElement({type:"polyline",view:xc,model:mu}),this.registerElement({type:"bezier",view:jc,model:Lu}),this.registerElement({type:"text",view:lc,model:Vu}),this.registerElement({type:"ellipse",view:cc,model:Gu}),this.registerElement({type:"diamond",view:ac,model:Uu}),this.registerElement({type:"html",view:pc,model:Ku})}},{key:"selectElementById",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o),o||this.graphModel.toFront(i)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformModel,u=i.coordinate,l=i.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var _=this.getEdgeModelById(l);_&&(u=_.textPosition)}var E=u,A=E.x,D=E.y;o.focusOn(A,D,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"resize",value:function(i,o){this.options.width=i!=null?i:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(i,o)}},{key:"setDefaultEdgeType",value:function(i){this.graphModel.setDefaultEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.updateText(i,o)}},{key:"deleteElement",value:function(i){var o,u,l,d=this.getModelById(i);return!!d&&(u=(l=(Tt(o={},It.NODE,this.deleteNode),Tt(o,It.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,i))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(i){return this.graphModel.getElement(i)}},{key:"getDataById",value:function(i){return this.graphModel.getElement(i).getData()}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"changeEdgeType",value:function(i,o){this.graphModel.changeEdgeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModelById(i);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(i),d}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModelById(i).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"getNodeModelById",value:function(i){return this.graphModel.getNodeModelById(i)}},{key:"getNodeDataById",value:function(i){return this.graphModel.getNodeModelById(i).getData()}},{key:"addEdge",value:function(i){return this.graphModel.addEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,u=this.graphModel.edgesMap[i];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(i),d}},{key:"deleteEdgeByNodeId",value:function(i){var o=i.sourceNodeId,u=i.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(i){var o=this.graphModel.edges,u=i.sourceNodeId,l=i.targetNodeId;if(u&&l){var d=[];return o.forEach(function(A){A.sourceNodeId===u&&A.targetNodeId===l&&d.push(A)}),d}if(u){var _=[];return o.forEach(function(A){A.sourceNodeId===u&&_.push(A)}),_}if(l){var E=[];return o.forEach(function(A){A.targetNodeId===l&&E.push(A)}),E}return[]}},{key:"getEdgeDataById",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(i){return this.graphModel.getNodeIncomingEdge(i)}},{key:"getNodeOutgoingEdge",value:function(i){return this.graphModel.getNodeOutgoingEdge(i)}},{key:"getNodeIncomingNode",value:function(i){return this.graphModel.getNodeIncomingNode(i)}},{key:"getNodeOutgoingNode",value:function(i){return this.graphModel.getNodeOutgoingNode(i)}},{key:"editText",value:function(i){this.graphModel.editText(i)}},{key:"setProperties",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.setProperties(zn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(i){this.graphModel.toFront(i)}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,u=i.nodes,l=i.edges,d={},_={nodes:[],edges:[]},E=0;E<u.length;E++){var A=u[E],D=A.id,B=this.addNode(A);if(!B)return;D&&(d[D]=B.id),_.nodes.push(B)}return l.forEach(function(W){var re=W.sourceNodeId,ae=W.targetNodeId;d[re]&&(W.sourceNodeId=d[re]),d[ae]&&(W.targetNodeId=d[ae]);var ne=o.graphModel.addEdge(W);_.edges.push(ne)}),_}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(u){return u.getData()})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfigModel.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=zn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=zn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){return this.graphModel.transformModel.zoom(i,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformModel.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformModel.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformModel;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformModel.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformModel,o=i.TRANSLATE_X,u=i.TRANSLATE_Y;this.translate(-o,-u)}},{key:"on",value:function(i,o){this.graphModel.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.graphModel.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.graphModel.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.graphModel.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(i=this.plugins)!==null&&i!==void 0?i:e.extensions;l.forEach(function(d){var _=d.pluginName||d.name;u.indexOf(_)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(i){if(Ay(i)==="object"){var o=i.install,u=i.render;return o&&o.call(i,this,e),u&&this.components.push(u.bind(i)),void(this.extension[i.pluginName]=i)}var l=i,d=new l({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var u=new o(Nc(Nc({},i),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(zn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(q.j)(Object(q.g)(dm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(nt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}}])&&My(t.prototype,n),r&&My(t,r),e}();function An(e){return pe(e)}Tt(Cc,"extensions",new Map),f.default=Cc}])})})(Fe,Fe.exports);var vo=NO(Fe.exports);function WO(y,h){return h={exports:{}},y(h,h.exports),h.exports}var KO=WO(function(y){var h=y.exports=function(c,f){if(f||(f=16),c===void 0&&(c=128),c<=0)return"0";for(var a=Math.log(Math.pow(2,c))/Math.log(f),p=2;a===1/0;p*=2)a=Math.log(Math.pow(2,c/p))/Math.log(f)*p;for(var s=a-Math.floor(a),b="",p=0;p<Math.floor(a);p++){var m=Math.floor(Math.random()*f).toString(f);b=m+b}if(s){var w=Math.pow(f,s),m=Math.floor(Math.random()*w).toString(f);b=m+b}var O=parseInt(b,f);return O!==1/0&&O>=Math.pow(2,c)?h(c,f):b};h.rack=function(c,f,a){var p=function(b){var m=0;do{if(m++>10)if(a)c+=a;else throw new Error("too many ID collisions, use more bits");var w=h(c,f)}while(Object.hasOwnProperty.call(s,w));return s[w]=b,w},s=p.hats={};return p.get=function(b){return p.hats[b]},p.set=function(b,m){return p.hats[b]=m,p},p.bits=c||128,p.base=f||16,p}});function Hn(y){if(!(this instanceof Hn))return new Hn(y);y=y||[128,36,1],this._seed=y.length?KO.rack(y[0],y[1],y[2]):y}Hn.prototype.next=function(y){return this._seed(y||!0)};Hn.prototype.nextPrefixed=function(y,h){var c;do c=y+this.next(!0);while(this.assigned(c));return this.claim(c,h),c};Hn.prototype.claim=function(y,h){this._seed.set(y,h||!0)};Hn.prototype.assigned=function(y){return this._seed.get(y)||!1};Hn.prototype.unclaim=function(y){delete this._seed.hats[y]};Hn.prototype.clear=function(){var y=this._seed.hats,h;for(h in y)this.unclaim(h)};var ZO=new Hn([32,32,1]);function _o(){return ZO.next()}var sv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),qO=function(y){sv(h,y);function h(c,f){var a=this;return c.id||(c.id="Event_"+_o()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=y.call(this,c,f)||this,a}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var c=y.prototype.getConnectedTargetRules.call(this),f={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(f),c},h.extendKey="StartEventModel",h}(Fe.exports.CircleNodeModel),$O=function(y){sv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(Fe.exports.CircleNode),JO={type:"bpmn:startEvent",view:$O,model:qO},lv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ma=globalThis&&globalThis.__assign||function(){return Ma=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Ma.apply(this,arguments)},QO=function(y){lv(h,y);function h(c,f){var a=this;return c.id||(c.id="Event_"+_o()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=y.call(this,c,f)||this,a}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var c=y.prototype.getConnectedSourceRules.call(this),f={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(f),c},h.extendKey="EndEventModel",h}(Fe.exports.CircleNodeModel),ew=function(y){lv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var c=this.props.model,f=c.getNodeStyle(),a=c.x,p=c.y,s=c.r,b=y.prototype.getShape.call(this);return Fe.exports.h("g",{},b,Fe.exports.h("circle",Ma(Ma({},f),{cx:a,cy:p,r:s-5})))},h.extendKey="EndEventView",h}(Fe.exports.CircleNode),tw={type:"bpmn:endEvent",view:ew,model:QO},fv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),pi=globalThis&&globalThis.__assign||function(){return pi=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},pi.apply(this,arguments)},nw=function(y){fv(h,y);function h(c,f){var a=this;return c.id||(c.id="Gateway_"+_o()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=y.call(this,c,f)||this,a.points=[[25,0],[50,25],[25,50],[0,25]],a}return h.extendKey="ExclusiveGatewayModel",h}(Fe.exports.PolygonNodeModel),rw=function(y){fv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.points,m=c.getNodeStyle();return Fe.exports.h("g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(a-s/2)+")"},Fe.exports.h("polygon",pi(pi({},m),{x:f,y:a,points:b})),Fe.exports.h("path",pi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},m)))},h.extendKey="ExclusiveGatewayNode",h}(Fe.exports.PolygonNode),ow={type:"bpmn:exclusiveGateway",view:rw,model:nw},pv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ta=globalThis&&globalThis.__assign||function(){return Ta=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Ta.apply(this,arguments)},iw=function(y){pv(h,y);function h(c,f){var a=this;return c.id||(c.id="Activity_"+_o()),a=y.call(this,c,f)||this,a}return h.extendKey="UserTaskModel",h}(Fe.exports.RectNodeModel),aw=function(y){pv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.getNodeStyle();return Fe.exports.h("svg",{x:f-p/2+5,y:a-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Fe.exports.h("path",{fill:b.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.radius,m=c.getNodeStyle();return Fe.exports.h("g",{},[Fe.exports.h("rect",Ta(Ta({},m),{x:f-p/2,y:a-s/2,rx:b,ry:b,width:p,height:s})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(Fe.exports.RectNode),uw={type:"bpmn:userTask",view:aw,model:iw},dv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Fc=globalThis&&globalThis.__assign||function(){return Fc=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Fc.apply(this,arguments)},cw=function(y){dv(h,y);function h(c,f){var a=this;return c.id||(c.id="Activity_"+_o()),a=y.call(this,c,f)||this,a}return h.extendKey="ServiceTaskModel",h}(Fe.exports.RectNodeModel),sw=function(y){dv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.getNodeStyle();return Fe.exports.h("svg",{x:f-p/2+5,y:a-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Fe.exports.h("path",{fill:b.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.radius,m=c.getNodeStyle();return Fe.exports.h("g",{},[Fe.exports.h("rect",Fc({x:f-p/2,y:a-s/2,rx:b,ry:b,width:p,height:s},m)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(Fe.exports.RectNode),lw={type:"bpmn:serviceTask",view:sw,model:cw},hv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),fw=function(y){hv(h,y);function h(c,f){var a=this;return c.id||(c.id="Flow_"+_o()),a=y.call(this,c,f)||this,a}return h.extendKey="SequenceFlowModel",h}(Fe.exports.PolylineEdgeModel),pw=function(y){hv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(Fe.exports.PolylineEdge),dw={type:"bpmn:sequenceFlow",view:pw,model:fw},Ly={width:40,height:40},zy={width:40,height:40},By={width:40,height:40},Fy={width:100,height:80},Uy={width:100,height:80},hw={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},yw=function(){function y(h){var c=h.lf;c.setTheme(hw),c.register(JO),c.register(tw),c.register(ow),c.register(uw),c.register(lw),c.options.customBpmnEdge||(c.register(dw),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return y.pluginName="bpmnElement",y}(),vw={pluginName:"snapshot",install:function(y){var h=this;this.lf=y,y.getSnapshot=function(c,f){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER,h.fileName=c||"logic-flow."+Date.now()+".png";var a=h.getSvgRootElement(y);h.downloadSvg(a,h.fileName,f)},y.getSnapshotBlob=function(c){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER;var f=h.getSvgRootElement(y);return h.getBlob(f,c)},y.getSnapshotBase64=function(c){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER;var f=h.getSvgRootElement(y);return h.getBase64(f,c)}},getSvgRootElement:function(y){var h=this;y.graphModel.nodes.forEach(function(f){var a=f.x,p=f.width,s=f.y,b=f.height,m=a-p/2,w=s-b/2;m<h.offsetX&&(h.offsetX=m-5),w<h.offsetY&&(h.offsetY=w-5)}),y.graphModel.edges.forEach(function(f){f.pointsList&&f.pointsList.forEach(function(a){var p=a.x,s=a.y;p<h.offsetX&&(h.offsetX=p-5),s<h.offsetY&&(h.offsetY=s-5)})});var c=y.container.querySelector(".lf-canvas-overlay");return c},triggerDownload:function(y){var h=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",y),c.setAttribute("target","_blank"),c.dispatchEvent(h)},removeAnchor:function(y){for(var h=y.childNodes,c=y.childNodes&&y.childNodes.length,f=0;f<c;f++){var a=h[f],p=a.classList&&Array.from(a.classList)||[];p.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[f]),c--,f--)}},downloadSvg:function(y,h,c){var f=this;this.getCanvasData(y,c).then(function(a){var p=a.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(p,h)})},getBase64:function(y,h){var c=this;return new Promise(function(f){c.getCanvasData(y,h).then(function(a){var p=a.toDataURL("image/png");f({data:p,width:a.width,height:a.height})})})},getBlob:function(y,h){var c=this;return new Promise(function(f){c.getCanvasData(y,h).then(function(a){a.toBlob(function(p){f({data:p,width:a.width,height:a.height})},"image/png")})})},getClassRules:function(){for(var y="",h=document.styleSheets,c=0;c<h.length;c++)for(var f=h[c],a=0;a<f.cssRules.length;a++)y+=f.cssRules[a].cssText;return y},getCanvasData:function(y,h){var c=this,f=y.cloneNode(!0),a=f.lastChild,p=a.childNodes&&a.childNodes.length;if(p)for(var s=0;s<p;s++){var b=a.childNodes[s],m=b.classList&&Array.from(b.classList);if(m&&m.indexOf("lf-base")<0)a.removeChild(a.childNodes[s]),p--,s--;else{var w=a.childNodes[s];w&&w.childNodes.forEach(function(k){var I=k;c.removeAnchor(I.firstChild)})}}f.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var O=window.devicePixelRatio||1,j=document.createElement("canvas"),S=document.getElementsByClassName("lf-base")[0],P=S.getBoundingClientRect(),C=this.lf.graphModel,R=C.transformModel,G=R.SCALE_X,H=R.SCALE_Y,L=Math.ceil(P.width/G),V=Math.ceil(P.height/H);j.style.width=L+"px",j.style.height=V+"px",j.width=L*O+80,j.height=V*O+80;var Z=j.getContext("2d");Z.clearRect(0,0,j.width,j.height),Z.scale(O,O),h?(Z.fillStyle=h,Z.fillRect(0,0,L*O+80,V*O+80)):Z.clearRect(0,0,L,V);var Y=new Image,N=document.createElement("style");N.innerHTML=this.getClassRules();var z=document.createElement("foreignObject");return z.appendChild(N),f.appendChild(z),new Promise(function(k){Y.onload=function(){Z.drawImage(Y,0,0),k(j)};var I="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(f),U=I.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=U})}},gw=new Hn([32,32,1]);function Gy(){return gw.next()}var rn=function(){};rn.ObjTree=function(){return this};rn.ObjTree.VERSION="0.23";rn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;rn.ObjTree.prototype.attr_prefix="-";rn.ObjTree.prototype.parseXML=function(y){var h;if(window.DOMParser){var c=new DOMParser,f=c.parseFromString(y,"application/xml");if(!f)return;h=f.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(y),h=c.documentElement);if(!!h)return this.parseDOM(h)};rn.ObjTree.prototype.parseHTTP=function(y,h,c){var f={};for(var a in h)f[a]=h[a];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),c){f.asynchronous=!0;var p=this,s=c,b=f.onComplete;f.onComplete=function(O){var j;O&&O.responseXML&&O.responseXML.documentElement&&(j=p.parseDOM(O.responseXML.documentElement)),s(j,O),b&&b(O)}}else f.asynchronous=!1;var m;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=y;var w=new HTTP.Request(f);w&&(m=w.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var w=new Ajax.Request(y,f);w&&(m=w.transport)}if(c)return m;if(m&&m.responseXML&&m.responseXML.documentElement)return this.parseDOM(m.responseXML.documentElement)};rn.ObjTree.prototype.parseDOM=function(y){if(!!y){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var c=this.parseElement(y);if(this.__force_array[y.nodeName]&&(c=[c]),y.nodeType!=11){var f={};f[y.nodeName]=c,c=f}return c}};rn.ObjTree.prototype.parseElement=function(y){if(y.nodeType!=7){if(y.nodeType==3||y.nodeType==4){var h=y.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:y.nodeValue}var c,f={};if(y.attributes&&y.attributes.length){c={};for(var a=0;a<y.attributes.length;a++){var p=y.attributes[a].nodeName;if(typeof p=="string"){var s=y.attributes[a].nodeValue;!s||(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],s))}}}if(y.childNodes&&y.childNodes.length){var b=!0;c&&(b=!1);for(var a=0;a<y.childNodes.length&&b;a++){var m=y.childNodes[a].nodeType;m==3||m==4||(b=!1)}if(b){c||(c="");for(var a=0;a<y.childNodes.length;a++)c+=y.childNodes[a].nodeValue}else{c||(c={});for(var a=0;a<y.childNodes.length;a++){var p=y.childNodes[a].nodeName;if(typeof p=="string"){var s=this.parseElement(y.childNodes[a]);!s||(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],s))}}}}return c}};rn.ObjTree.prototype.addNode=function(y,h,c,f){this.__force_array[h]?(c==1&&(y[h]=[]),y[h][y[h].length]=f):c==1?y[h]=f:c==2?y[h]=[y[h],f]:y[h][y[h].length]=f};rn.ObjTree.prototype.writeXML=function(y){var h=this.hash_to_xml(null,y);return this.xmlDecl+h};rn.ObjTree.prototype.hash_to_xml=function(y,h){var c=[],f=[];for(var a in h)if(!!h.hasOwnProperty(a)){var p=h[a];a.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?c[c.length]="<"+a+" />":typeof p=="object"&&p.constructor==Array?c[c.length]=this.array_to_xml(a,p):typeof p=="object"?c[c.length]=this.hash_to_xml(a,p):c[c.length]=this.scalar_to_xml(a,p):f[f.length]=" "+a.substring(1)+'="'+this.xml_escape(p)+'"'}var s=f.join(""),b=c.join("");return typeof y=="undefined"||y==null||(c.length>0?b.match(/\n/)?b="<"+y+s+`>
`+b+"</"+y+`>
`:b="<"+y+s+">"+b+"</"+y+`>
`:b="<"+y+s+` />
`),b};rn.ObjTree.prototype.array_to_xml=function(y,h){for(var c=[],f=0;f<h.length;f++){var a=h[f];typeof a=="undefined"||a==null?c[c.length]="<"+y+" />":typeof a=="object"&&a.constructor==Array?c[c.length]=this.array_to_xml(y,a):typeof a=="object"?c[c.length]=this.hash_to_xml(y,a):c[c.length]=this.scalar_to_xml(y,a)}return c.join("")};rn.ObjTree.prototype.scalar_to_xml=function(y,h){return y=="#text"?this.xml_escape(h):"<"+y+">"+this.xml_escape(h)+"</"+y+`>
`};rn.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Ia=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},Yn;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow"})(Yn||(Yn={}));var yv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Uc(y){var h={};return Object.entries(y).forEach(function(c){var f=Ia(c,2),a=f[0],p=f[1];typeof p!="object"?a.indexOf("-")===0?h[a]=p:h["-"+a]=p:h[a]=Uc(p)}),h}function Vc(y){var h={};return Object.entries(y).forEach(function(c){var f=Ia(c,2),a=f[0],p=f[1];typeof p=="string"?a.indexOf("-")===0?h[a.substr(1)]=p:h[a]=p:typeof p=="object"?h[a]=Vc(p):h[a]=p}),h}function bw(y,h){var c=new Map;h.nodes.forEach(function(a){var p,s={"-id":a.id};if(((p=a.text)===null||p===void 0?void 0:p.value)&&(s["-name"]=a.text.value),a.properties){var b=Uc(a.properties);Object.assign(s,b)}c.set(a.id,s),y[a.type]?Array.isArray(y[a.type])?y[a.type].push(s):y[a.type]=[y[a.type],s]:y[a.type]=s});var f=h.edges.map(function(a){var p,s,b=c.get(a.targetNodeId);b["bpmn:incoming"]?Array.isArray(b["bpmn:incoming"])?b["bpmn:incoming"].push(a.id):b["bpmn:incoming"]=[b["bpmn:incoming"],a.id]:b["bpmn:incoming"]=a.id;var m=c.get(a.sourceNodeId);m["bpmn:outgoing"]?Array.isArray(m["bpmn:outgoing"])?m["bpmn:outgoing"].push(a.id):m["bpmn:outgoing"]=[m["bpmn:outgoing"],a.id]:m["bpmn:outgoing"]=a.id;var w={"-id":a.id,"-sourceRef":a.sourceNodeId,"-targetRef":a.targetNodeId};if(((p=a.text)===null||p===void 0?void 0:p.value)&&(w["-name"]=(s=a.text)===null||s===void 0?void 0:s.value),a.properties){var O=Uc(a.properties);Object.assign(w,O)}return w});y[Yn.FLOW]=f}function mw(y,h){y["bpmndi:BPMNEdge"]=h.edges.map(function(c){var f,a=c.id,p=c.pointsList.map(function(b){var m=b.x,w=b.y;return{"-x":m,"-y":w}}),s={"-id":a+"_di","-bpmnElement":a,"di:waypoint":p};return((f=c.text)===null||f===void 0?void 0:f.value)&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),y["bpmndi:BPMNShape"]=h.nodes.map(function(c){var f,a=c.id,p=100,s=80,b=c.x,m=c.y,w=Zr.shapeConfigMap.get(c.type);w&&(p=w.width,s=w.height),b-=p/2,m-=s/2;var O={"-id":a+"_di","-bpmnElement":a,"dc:Bounds":{"-x":b,"-y":m,"-width":p,"-height":s}};return((f=c.text)===null||f===void 0?void 0:f.value)&&(O["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),O})}function _w(y){var h=[],c=[],f=y["bpmn:definitions"];if(f){var a=f["bpmn:process"];Object.keys(a).forEach(function(p){if(p.indexOf("bpmn:")===0){var s=a[p];if(p===Yn.FLOW){var b=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=ww(s,b)}else{var m=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(Ow(s,m,p))}}})}return{nodes:h,edges:c}}function Ow(y,h,c){var f=[];if(Array.isArray(y))y.forEach(function(s){var b;Array.isArray(h)?b=h.find(function(w){return w["-bpmnElement"]===s["-id"]}):b=h;var m=Xy(b,c,s);f.push(m)});else{var a=void 0;Array.isArray(h)?a=h.find(function(s){return s["-bpmnElement"]===y["-id"]}):a=h;var p=Xy(a,c,y);f.push(p)}return f}function Xy(y,h,c){var f=Number(y["dc:Bounds"]["-x"]),a=Number(y["dc:Bounds"]["-y"]),p=c["-name"],s=Zr.shapeConfigMap.get(h);s&&(f+=s.width/2,a+=s.height/2);var b;Object.entries(c).forEach(function(j){var S=Ia(j,2),P=S[0],C=S[1];yv.indexOf(P)===-1&&(b||(b={}),b[P]=C)}),b&&(b=Vc(b));var m;if(p&&(m={x:f,y:a,value:p},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var w=y["bpmndi:BPMNLabel"]["dc:Bounds"];m.x=Number(w["-x"])+Number(w["-width"])/2,m.y=Number(w["-y"])+Number(w["-height"])/2}var O={id:y["-bpmnElement"],type:h,x:f,y:a,properties:b};return m&&(O.text=m),O}function ww(y,h){var c=[];if(Array.isArray(y))y.forEach(function(a){var p;Array.isArray(h)?p=h.find(function(s){return s["-bpmnElement"]===a["-id"]}):p=h,c.push(Hy(p,a))});else{var f=void 0;Array.isArray(h)?f=h.find(function(a){return a["-bpmnElement"]===y["-id"]}):f=h,c.push(Hy(f,y))}return c}function Hy(y,h){var c,f=h["-name"];if(f){var a=y["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(m){p<m.length&&(p=m.length)}),c={value:f,x:Number(a["-x"])+p*10/2,y:Number(a["-y"])+7}}var s;Object.entries(h).forEach(function(m){var w=Ia(m,2),O=w[0],j=w[1];yv.indexOf(O)===-1&&(s||(s={}),s[O]=j)}),s&&(s=Vc(s));var b={id:h["-id"],type:Yn.FLOW,pointsList:y["di:waypoint"].map(function(m){return{x:Number(m["-x"]),y:Number(m["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:s};return c&&(b.text=c),b}var Zr={pluginName:"bpmn-adapter",install:function(y){y.adapterIn=this.adapterIn,y.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(y,h){this.shapeConfigMap.set(y,h)},adapterOut:function(y){var h={"-id":"Process_"+Gy(),"-isExecutable":"false"};bw(h,y);var c={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};mw(c,y);var f={"bpmn:definitions":{"-id":"Definitions_"+Gy(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":h,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return f},adapterIn:function(y){if(y)return _w(y)}};Zr.shapeConfigMap.set(Yn.START,{width:Ly.width,height:Ly.height});Zr.shapeConfigMap.set(Yn.END,{width:zy.width,height:zy.height});Zr.shapeConfigMap.set(Yn.GATEWAY,{width:By.width,height:By.height});Zr.shapeConfigMap.set(Yn.SYSTEM,{width:Fy.width,height:Fy.height});Zr.shapeConfigMap.set(Yn.USER,{width:Uy.width,height:Uy.height});var Yy=globalThis&&globalThis.__assign||function(){return Yy=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Yy.apply(this,arguments)},Vy;(function(y){y[y.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",y[y.START_EVENT=2]="START_EVENT",y[y.END_EVENT=3]="END_EVENT",y[y.USER_TASK=4]="USER_TASK",y[y.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(Vy||(Vy={}));var Wy;(function(y){y.HORIZONTAL="horizontal",y.VERTICAL="vertical"})(Wy||(Wy={}));var xw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var Ew=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var jw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},Sw=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(jw(arguments[h]));return y},ui="lf:defaultNodeMenu",ci="lf:defaultEdgeMenu",si="lf:defaultGraphMenu",Ky="lf:defaultSelectionMenu",Pw=function(){function y(h){var c=this,f=h.lf;this.__menuDOM=document.createElement("ul"),this.lf=f,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(a){c.setMenuConfig(a)},this.lf.addMenuConfig=function(a){c.addMenuConfig(a)},this.lf.setMenuByType=function(a){c.setMenuByType(a)}}return y.prototype.init=function(){var h=this,c=[{text:"\u5220\u9664",callback:function(p){h.lf.deleteNode(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){h.lf.graphModel.editText(p.id)}},{text:"\u590D\u5236",callback:function(p){h.lf.cloneNode(p.id)}}];this.menuTypeMap.set(ui,c);var f=[{text:"\u5220\u9664",callback:function(p){h.lf.deleteEdge(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){h.lf.graphModel.editText(p.id)}}];this.menuTypeMap.set(ci,f),this.menuTypeMap.set(si,[]);var a=[{text:"\u5220\u9664",callback:function(p){h.lf.clearSelectElements(),p.edges.forEach(function(s){return h.lf.deleteEdge(s.id)}),p.nodes.forEach(function(s){return h.lf.deleteNode(s.id)})}}];this.menuTypeMap.set(Ky,a)},y.prototype.render=function(h,c){var f=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(a){a.stopPropagation();for(var p=a.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1?(p.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(a){var p=a.data,s=a.position,b=s.domOverlayPosition,m=b.x,w=b.y,O=p.id,j=f.lf.graphModel.getNodeModelById(O),S=[],P=f.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:P?S=P:S=f.menuTypeMap.get(ui),f.__currentData=p,f.showMenu(m,w,S)}),this.lf.on("edge:contextmenu",function(a){var p=a.data,s=a.position,b=s.domOverlayPosition,m=b.x,w=b.y,O=p.id,j=f.lf.graphModel.getEdgeModelById(O),S=[],P=f.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:P?S=P:S=f.menuTypeMap.get(ci),f.__currentData=p,f.showMenu(m,w,S)}),this.lf.on("blank:contextmenu",function(a){var p=a.position,s=f.menuTypeMap.get(si),b=p.domOverlayPosition,m=b.x,w=b.y;f.showMenu(m,w,s)}),this.lf.on("selection:contextmenu",function(a){var p=a.data,s=a.position,b=f.menuTypeMap.get(Ky),m=s.domOverlayPosition,w=m.x,O=m.y;f.__currentData=p,f.showMenu(w,O,b)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"})},y.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},y.prototype.showMenu=function(h,c,f){if(!(!f||!f.length)){var a=this.__menuDOM;a.innerHTML="",a.append.apply(a,Sw(this.__getMenuDom(f))),!!a.children.length&&(a.style.display="block",a.style.top=c+"px",a.style.left=h+"px")}},y.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},y.prototype.__getMenuDom=function(h){var c=[];return h&&h.length>0&&h.forEach(function(f){var a=document.createElement("li");if(f.className?a.className="lf-menu-item "+f.className:a.className="lf-menu-item",f.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",a.appendChild(p)}var s=document.createElement("span");s.className="lf-menu-item-text",f.text&&(s.innerText=f.text),a.appendChild(s),a.onclickCallback=f.callback,c.push(a)}),c},y.prototype.setMenuConfig=function(h){!h||(h.nodeMenu!==void 0&&this.menuTypeMap.set(ui,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(ci,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(si,h.graphMenu?h.graphMenu:[]))},y.prototype.addMenuConfig=function(h){if(!!h){if(Array.isArray(h.nodeMenu)){var c=this.menuTypeMap.get(ui);this.menuTypeMap.set(ui,c.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var c=this.menuTypeMap.get(ci);this.menuTypeMap.set(ci,c.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var c=this.menuTypeMap.get(si);this.menuTypeMap.set(si,c.concat(h.graphMenu))}}},y.prototype.changeMenuItem=function(h,c){if(h==="add")this.addMenuConfig(c);else if(h==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},y.pluginName="menu",y}();globalThis&&globalThis.__read;var Aw=function(){function y(h){var c=this,f=h.lf;this.lf=f,this.lf.setPatternItems=function(a){c.setPatternItems(a)}}return y.prototype.render=function(h,c){var f=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(a){f.panelEl.appendChild(f.createDndItem(a))}),c.appendChild(this.panelEl),this.domContainer=c},y.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},y.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},y.prototype.createDndItem=function(h){var c=this,f=document.createElement("div");f.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var a=document.createElement("div");if(a.className="lf-dnd-shape",h.icon&&(a.style.backgroundImage="url("+h.icon+")"),f.appendChild(a),h.label){var p=document.createElement("div");p.innerText=h.label,p.className="lf-dnd-text",f.appendChild(p)}return f.onmousedown=function(){h.type&&c.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(c.lf,c.domContainer)},f},y.pluginName="dndPanel",y}(),kw=function(){function y(h){var c=this,f=h.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.__draw=function(p){var s=c.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,b=s.x,m=s.y;c.endPoint={x:b,y:m};var w=c.startPoint,O=w.x,j=w.y,S=c.wrapper.style,P=O,C=j,R=b-O,G=m-j;b<O&&(P=b,R=O-b),m<j&&(C=m,G=j-m),S.left=P+"px",S.top=C+"px",S.width=R+"px",S.height=G+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var p=c.startPoint,s=p.x,b=p.y,m=c.endPoint,w=m.x,O=m.y,j=[Math.min(s,w),Math.min(b,O)],S=[Math.max(s,w),Math.max(b,O)],P=c.lf.getAreaElement(j,S);P.forEach(function(C){c.lf.selectElementById(C.id,!0)}),c.lf.emit("selection:selected",P)},this.lf=f;var a=f.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=a,f.openSelectionSelect=function(){c.openSelectionSelect()},f.closeSelectionSelect=function(){c.closeSelectionSelect()}}return y.prototype.render=function(h,c){var f=this;this.__domContainer=c,h.on("blank:mousedown",function(a){var p=a.e,s=h.getEditConfig();if(!(!s.stopMoveGraph||f.__disabled)){var b=h.getPointByClient(p.clientX,p.clientY).domOverlayPosition,m=b.x,w=b.y;f.startPoint={x:m,y:w},f.endPoint={x:m,y:w};var O=document.createElement("div");O.className="lf-selection-select",O.style.top=f.startPoint.y+"px",O.style.left=f.startPoint.x+"px",c.appendChild(O),f.wrapper=O,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}})},y.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},y.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},y.prototype.open=function(){this.__disabled=!1},y.prototype.close=function(){this.__disabled=!0},y.pluginName="selectionSelect",y}();globalThis&&globalThis.__values;var vv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),li=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};(function(y){vv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),f=c.strokeWidth,a=c.stroke,p=c.strokeDashArray,s=this.props.model.points,b=s.split(" ").map(function($){return $.split(",").map(function(ie){return Number(ie)})}),m=li(b[0],2),w=m[0],O=m[1],j="M"+w+" "+O,S=5,P=1;P<b.length-1;P++){var C=li(b[P-1],2),R=C[0],G=C[1],H=li(b[P],2),L=H[0],V=H[1],Z=li(b[P+1],2),Y=Z[0],N=Z[1];if(L===R&&V!==G){var z=V>G?V-S:V+S;j=j+" L "+L+" "+z}if(V===G&&L!==R){var k=L>R?L-S:L+S;j=j+" L "+k+" "+V}if(j=j+" Q "+L+" "+V,L===Y&&V!==N){var z=V>N?V-S:V+S;j=j+" "+L+" "+z}if(V===N&&L!==Y){var k=L>Y?L-S:L+S;j=j+" "+k+" "+V}}var I=li(b[b.length-1],2),U=I[0],ee=I[1];return j=j+" L "+U+" "+ee,Fe.exports.h("path",{d:j,strokeWidth:f,stroke:a,fill:"none",strokeDashArray:p})},h.extendKey="curvedEdge",h})(Fe.exports.PolylineEdge);(function(y){vv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h})(Fe.exports.PolylineEdgeModel);var Wc,Nt,gv,di,bv,Zy,mv={},_v=[],Mw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Sr(y,h){for(var c in h)y[c]=h[c];return y}function Ov(y){var h=y.parentNode;h&&h.removeChild(y)}function hi(y,h,c){var f,a,p,s={};for(p in h)p=="key"?f=h[p]:p=="ref"?a=h[p]:s[p]=h[p];if(arguments.length>2&&(s.children=arguments.length>3?Wc.call(arguments,2):c),typeof y=="function"&&y.defaultProps!=null)for(p in y.defaultProps)s[p]===void 0&&(s[p]=y.defaultProps[p]);return Pa(y,s,f,a,null)}function Pa(y,h,c,f,a){var p={type:y,props:h,key:c,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++gv:a};return a==null&&Nt.vnode!=null&&Nt.vnode(p),p}function Kc(y){return y.children}function bo(y,h){this.props=y,this.context=h}function mo(y,h){if(h==null)return y.__?mo(y.__,y.__.__k.indexOf(y)+1):null;for(var c;h<y.__k.length;h++)if((c=y.__k[h])!=null&&c.__e!=null)return c.__e;return typeof y.type=="function"?mo(y):null}function wv(y){var h,c;if((y=y.__)!=null&&y.__c!=null){for(y.__e=y.__c.base=null,h=0;h<y.__k.length;h++)if((c=y.__k[h])!=null&&c.__e!=null){y.__e=y.__c.base=c.__e;break}return wv(y)}}function qy(y){(!y.__d&&(y.__d=!0)&&di.push(y)&&!Da.__r++||Zy!==Nt.debounceRendering)&&((Zy=Nt.debounceRendering)||bv)(Da)}function Da(){for(var y;Da.__r=di.length;)y=di.sort(function(h,c){return h.__v.__b-c.__v.__b}),di=[],y.some(function(h){var c,f,a,p,s,b;h.__d&&(s=(p=(c=h).__v).__e,(b=c.__P)&&(f=[],(a=Sr({},p)).__v=p.__v+1,Sv(b,p,a,c.__n,b.ownerSVGElement!==void 0,p.__h!=null?[s]:null,f,s==null?mo(p):s,p.__h),Dw(f,p),p.__e!=s&&wv(p)))})}function xv(y,h,c,f,a,p,s,b,m,w){var O,j,S,P,C,R,G,H=f&&f.__k||_v,L=H.length;for(c.__k=[],O=0;O<h.length;O++)if((P=c.__k[O]=(P=h[O])==null||typeof P=="boolean"?null:typeof P=="string"||typeof P=="number"||typeof P=="bigint"?Pa(null,P,null,null,P):Array.isArray(P)?Pa(Kc,{children:P},null,null,null):P.__b>0?Pa(P.type,P.props,P.key,null,P.__v):P)!=null){if(P.__=c,P.__b=c.__b+1,(S=H[O])===null||S&&P.key==S.key&&P.type===S.type)H[O]=void 0;else for(j=0;j<L;j++){if((S=H[j])&&P.key==S.key&&P.type===S.type){H[j]=void 0;break}S=null}Sv(y,P,S=S||mv,a,p,s,b,m,w),C=P.__e,(j=P.ref)&&S.ref!=j&&(G||(G=[]),S.ref&&G.push(S.ref,null,P),G.push(j,P.__c||C,P)),C!=null?(R==null&&(R=C),typeof P.type=="function"&&P.__k===S.__k?P.__d=m=Ev(P,m,y):m=jv(y,P,S,H,C,m),typeof c.type=="function"&&(c.__d=m)):m&&S.__e==m&&m.parentNode!=y&&(m=mo(S))}for(c.__e=R,O=L;O--;)H[O]!=null&&(typeof c.type=="function"&&H[O].__e!=null&&H[O].__e==c.__d&&(c.__d=mo(f,O+1)),Av(H[O],H[O]));if(G)for(O=0;O<G.length;O++)Pv(G[O],G[++O],G[++O])}function Ev(y,h,c){for(var f,a=y.__k,p=0;a&&p<a.length;p++)(f=a[p])&&(f.__=y,h=typeof f.type=="function"?Ev(f,h,c):jv(c,f,f,a,f.__e,h));return h}function jv(y,h,c,f,a,p){var s,b,m;if(h.__d!==void 0)s=h.__d,h.__d=void 0;else if(c==null||a!=p||a.parentNode==null)e:if(p==null||p.parentNode!==y)y.appendChild(a),s=null;else{for(b=p,m=0;(b=b.nextSibling)&&m<f.length;m+=2)if(b==a)break e;y.insertBefore(a,p),s=p}return s!==void 0?s:a.nextSibling}function Tw(y,h,c,f,a){var p;for(p in c)p==="children"||p==="key"||p in h||Na(y,p,null,c[p],f);for(p in h)a&&typeof h[p]!="function"||p==="children"||p==="key"||p==="value"||p==="checked"||c[p]===h[p]||Na(y,p,h[p],c[p],f)}function $y(y,h,c){h[0]==="-"?y.setProperty(h,c):y[h]=c==null?"":typeof c!="number"||Mw.test(h)?c:c+"px"}function Na(y,h,c,f,a){var p;e:if(h==="style")if(typeof c=="string")y.style.cssText=c;else{if(typeof f=="string"&&(y.style.cssText=f=""),f)for(h in f)c&&h in c||$y(y.style,h,"");if(c)for(h in c)f&&c[h]===f[h]||$y(y.style,h,c[h])}else if(h[0]==="o"&&h[1]==="n")p=h!==(h=h.replace(/Capture$/,"")),h=h.toLowerCase()in y?h.toLowerCase().slice(2):h.slice(2),y.l||(y.l={}),y.l[h+p]=c,c?f||y.addEventListener(h,p?Qy:Jy,p):y.removeEventListener(h,p?Qy:Jy,p);else if(h!=="dangerouslySetInnerHTML"){if(a)h=h.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h in y)try{y[h]=c==null?"":c;break e}catch(s){}typeof c=="function"||(c!=null&&(c!==!1||h[0]==="a"&&h[1]==="r")?y.setAttribute(h,c):y.removeAttribute(h))}}function Jy(y){this.l[y.type+!1](Nt.event?Nt.event(y):y)}function Qy(y){this.l[y.type+!0](Nt.event?Nt.event(y):y)}function Sv(y,h,c,f,a,p,s,b,m){var w,O,j,S,P,C,R,G,H,L,V,Z=h.type;if(h.constructor!==void 0)return null;c.__h!=null&&(m=c.__h,b=h.__e=c.__e,h.__h=null,p=[b]),(w=Nt.__b)&&w(h);try{e:if(typeof Z=="function"){if(G=h.props,H=(w=Z.contextType)&&f[w.__c],L=w?H?H.props.value:w.__:f,c.__c?R=(O=h.__c=c.__c).__=O.__E:("prototype"in Z&&Z.prototype.render?h.__c=O=new Z(G,L):(h.__c=O=new bo(G,L),O.constructor=Z,O.render=Cw),H&&H.sub(O),O.props=G,O.state||(O.state={}),O.context=L,O.__n=f,j=O.__d=!0,O.__h=[]),O.__s==null&&(O.__s=O.state),Z.getDerivedStateFromProps!=null&&(O.__s==O.state&&(O.__s=Sr({},O.__s)),Sr(O.__s,Z.getDerivedStateFromProps(G,O.__s))),S=O.props,P=O.state,j)Z.getDerivedStateFromProps==null&&O.componentWillMount!=null&&O.componentWillMount(),O.componentDidMount!=null&&O.__h.push(O.componentDidMount);else{if(Z.getDerivedStateFromProps==null&&G!==S&&O.componentWillReceiveProps!=null&&O.componentWillReceiveProps(G,L),!O.__e&&O.shouldComponentUpdate!=null&&O.shouldComponentUpdate(G,O.__s,L)===!1||h.__v===c.__v){O.props=G,O.state=O.__s,h.__v!==c.__v&&(O.__d=!1),O.__v=h,h.__e=c.__e,h.__k=c.__k,h.__k.forEach(function(Y){Y&&(Y.__=h)}),O.__h.length&&s.push(O);break e}O.componentWillUpdate!=null&&O.componentWillUpdate(G,O.__s,L),O.componentDidUpdate!=null&&O.__h.push(function(){O.componentDidUpdate(S,P,C)})}O.context=L,O.props=G,O.state=O.__s,(w=Nt.__r)&&w(h),O.__d=!1,O.__v=h,O.__P=y,w=O.render(O.props,O.state,O.context),O.state=O.__s,O.getChildContext!=null&&(f=Sr(Sr({},f),O.getChildContext())),j||O.getSnapshotBeforeUpdate==null||(C=O.getSnapshotBeforeUpdate(S,P)),V=w!=null&&w.type===Kc&&w.key==null?w.props.children:w,xv(y,Array.isArray(V)?V:[V],h,c,f,a,p,s,b,m),O.base=h.__e,h.__h=null,O.__h.length&&s.push(O),R&&(O.__E=O.__=null),O.__e=!1}else p==null&&h.__v===c.__v?(h.__k=c.__k,h.__e=c.__e):h.__e=Nw(c.__e,h,c,f,a,p,s,m);(w=Nt.diffed)&&w(h)}catch(Y){h.__v=null,(m||p!=null)&&(h.__e=b,h.__h=!!m,p[p.indexOf(b)]=null),Nt.__e(Y,h,c)}}function Dw(y,h){Nt.__c&&Nt.__c(h,y),y.some(function(c){try{y=c.__h,c.__h=[],y.some(function(f){f.call(c)})}catch(f){Nt.__e(f,c.__v)}})}function Nw(y,h,c,f,a,p,s,b){var m,w,O,j=c.props,S=h.props,P=h.type,C=0;if(P==="svg"&&(a=!0),p!=null){for(;C<p.length;C++)if((m=p[C])&&"setAttribute"in m==!!P&&(P?m.localName===P:m.nodeType===3)){y=m,p[C]=null;break}}if(y==null){if(P===null)return document.createTextNode(S);y=a?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,S.is&&S),p=null,b=!1}if(P===null)j===S||b&&y.data===S||(y.data=S);else{if(p=p&&Wc.call(y.childNodes),w=(j=c.props||mv).dangerouslySetInnerHTML,O=S.dangerouslySetInnerHTML,!b){if(p!=null)for(j={},C=0;C<y.attributes.length;C++)j[y.attributes[C].name]=y.attributes[C].value;(O||w)&&(O&&(w&&O.__html==w.__html||O.__html===y.innerHTML)||(y.innerHTML=O&&O.__html||""))}if(Tw(y,S,j,a,b),O)h.__k=[];else if(C=h.props.children,xv(y,Array.isArray(C)?C:[C],h,c,f,a&&P!=="foreignObject",p,s,p?p[0]:c.__k&&mo(c,0),b),p!=null)for(C=p.length;C--;)p[C]!=null&&Ov(p[C]);b||("value"in S&&(C=S.value)!==void 0&&(C!==y.value||P==="progress"&&!C||P==="option"&&C!==j.value)&&Na(y,"value",C,j.value,!1),"checked"in S&&(C=S.checked)!==void 0&&C!==y.checked&&Na(y,"checked",C,j.checked,!1))}return y}function Pv(y,h,c){try{typeof y=="function"?y(h):y.current=h}catch(f){Nt.__e(f,c)}}function Av(y,h,c){var f,a;if(Nt.unmount&&Nt.unmount(y),(f=y.ref)&&(f.current&&f.current!==y.__e||Pv(f,null,h)),(f=y.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(p){Nt.__e(p,h)}f.base=f.__P=null}if(f=y.__k)for(a=0;a<f.length;a++)f[a]&&Av(f[a],h,typeof y.type!="function");c||y.__e==null||Ov(y.__e),y.__e=y.__d=void 0}function Cw(y,h,c){return this.constructor(y,c)}Wc=_v.slice,Nt={__e:function(y,h){for(var c,f,a;h=h.__;)if((c=h.__c)&&!c.__)try{if((f=c.constructor)&&f.getDerivedStateFromError!=null&&(c.setState(f.getDerivedStateFromError(y)),a=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(y),a=c.__d),a)return c.__E=c}catch(p){y=p}throw y}},gv=0,bo.prototype.setState=function(y,h){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Sr({},this.state),typeof y=="function"&&(y=y(Sr({},c),this.props)),y&&Sr(c,y),y!=null&&this.__v&&(h&&this.__h.push(h),qy(this))},bo.prototype.forceUpdate=function(y){this.__v&&(this.__e=!0,y&&this.__h.push(y),qy(this))},bo.prototype.render=Kc,di=[],bv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Da.__r=0;var yi=globalThis&&globalThis.__assign||function(){return yi=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},yi.apply(this,arguments)};function Zc(y){var h=y.x,c=y.y,f=y.width,a=y.height,p=y.radius,s=y.className,b=h-f/2,m=c-a/2,w=yi(yi({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},y),{x:b,y:m});return Fe.exports.h("rect",yi({},w))}Zc.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var go;(function(y){y.NODE="node",y.CIRCLE_NODE="circle-node",y.POLYGON_NODE="polygon-node",y.RECT_NODE="rect-node",y.HTML_NODE="html-node",y.TEXT_NODE="text-node",y.ELLIPSE_NODE="ellipse-node",y.DIAMOND_NODE="diamond-node",y.EDGE="edge",y.LINE_EDGE="line-edge",y.POLYLINE_EDGE="polyline-edge",y.BEZIER_EDGE="bezier-edge",y.GRAPH="graph"})(go||(go={}));function Aa(y){var h=y.x,c=y.y,f=y.width,a=y.height;return{minX:h-f/2,minY:c-a/2,maxX:h+f/2,maxY:c+a/2}}function ev(y){var h=Aa(y),c=y.radius,f=h.minX,a=h.minY,p=h.maxX,s=h.maxY;return[{x:f+c,y:a+c},{x:p-c,y:a+c},{x:p-c,y:s-c},{x:f+c,y:s-c}]}function tv(y){var h=y.point,c=y.beforeNode,f=y.afterNode,a=h.x,p=h.y,s={x:a,y:p},b=c.radius,m=Aa(c),w=Aa(f);if(a===m.minX){s.x=w.minX;var O=(p-c.y)/(c.height/2-b);O?s.y=f.y+(f.height/2-b)*O:s.y=f.y}else if(a===m.maxX){s.x=w.maxX;var O=(p-c.y)/(c.height/2-b);O?s.y=f.y+(f.height/2-b)*O:s.y=f.y}else if(p===m.minY){s.y=w.minY;var O=(a-c.x)/(c.width/2-b);O?s.x=f.x+(f.width/2-b)*O:s.x=f.x}else if(p===m.maxY){s.y=w.maxY;var O=(a-c.x)/(c.width/2-b);O?s.x=f.x+(f.width/2-b)*O:s.x=f.x}else{var j=ev(c),S=ev(f),P=Aa(c),C=P.minX,R=P.minY,G=P.maxX,H=P.maxY,L=-1;if(a-C<b&&p-R<b?L=0:G-a<b&&p-R<b?L=1:G-a<b&&H-p<b?L=2:a-C<b&&R-p<b&&(L=3),L>-1){var V=Math.atan2(p-j[L].y,a-j[L].x);s.x=S[L].x+b*Math.cos(V),s.y=S[L].y+b*Math.sin(V)}}return s}function nv(y){var h=y.point,c=y.beforeNode,f=y.afterNode,a=f.rx,p=f.ry,s=h,b=(h.y-c.y)/(h.x-c.x),m=a,w=p,O,j;return b>=1/0?(O=0,j=w):b<=-1/0?(O=0,j=-w):h.x-c.x>0?(O=m*w/Math.sqrt(w*w+m*m*b*b),j=m*w*b/Math.sqrt(w*w+m*m*b*b)):(O=-(m*w)/Math.sqrt(w*w+m*m*b*b),j=-(m*w*b)/Math.sqrt(w*w+m*m*b*b)),s={x:O+f.x,y:j+f.y},s}function rv(y){var h=y.point,c=y.beforeNode,f=y.afterNode,a=h,p,s,b=h.x-c.x,m=h.y-c.y,w=c.rx,O=c.ry,j=Math.sqrt((w-Math.abs(b))*(w-Math.abs(b))+m*m)/Math.sqrt(w*w+O*O),S=f.rx,P=f.ry,C=Math.sqrt((S*S+P*P)*j*j*(S*S/(S*S+P*P))),R=C*(P/S);return b>=0?p=S-C:p=C-S,m>0?s=R:s=-R,a={x:p+f.x,y:s+f.y},a}var Rw=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Kr=globalThis&&globalThis.__assign||function(){return Kr=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Kr.apply(this,arguments)},Iw=Fe.exports.LogicFlowUtil.createDrag,Lw=function(y){Rw(h,y);function h(c){var f=y.call(this)||this;f.updatePosition=function(s){var b=s.deltaX,m=s.deltaY,w=f.nodeModel,O=w.x,j=w.y;f.nodeModel.x=O+b/2,f.nodeModel.y=j+m/2,f.nodeModel.moveText(b/2,m/2)},f.getResize=function(s){var b=s.index,m=s.deltaX,w=s.deltaY,O=s.width,j=s.height,S=s.pct,P=S===void 0?1:S,C={width:O,height:j};switch(b){case 0:C.width=O-m*P,C.height=j-w*P;break;case 1:C.width=O+m*P,C.height=j-w*P;break;case 2:C.width=O+m,C.height=j+w*P;break;case 3:C.width=O-m*P,C.height=j+w*P;break}return C},f.updateRect=function(s){var b=s.deltaX,m=s.deltaY,w=f.nodeModel,O=w.id,j=w.x,S=w.y,P=w.width,C=w.height,R=w.radius,G=f.index,H=f.getResize({index:G,deltaX:b,deltaY:m,width:P,height:C,pct:1}),L=f.nodeModel,V=L.minWidth,Z=L.minHeight,Y=L.maxWidth,N=L.maxHeight;if(!(H.width<V||H.width>Y||H.height<Z||H.height>N)){f.updatePosition({deltaX:b,deltaY:m}),f.nodeModel.width=H.width,f.nodeModel.height=H.height,f.nodeModel.setProperties({nodeSize:{width:H.width,height:H.height}});var z=f.getNodeEdges(O),k={x:j,y:S,width:P,height:C,radius:R},I={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:R},U={point:"",beforeNode:k,afterNode:I},ee;z.sourceEdges.forEach(function($){U.point=$.startPoint,ee=tv(U),$.updateStartPoint(ee)}),z.targetEdges.forEach(function($){U.point=$.endPoint,ee=tv(U),$.updateEndPoint(ee)}),f.eventEmit({beforeNode:k,afterNode:I})}},f.updateEllipse=function(s){var b=s.deltaX,m=s.deltaY,w=f.nodeModel,O=w.id,j=w.rx,S=w.ry,P=w.x,C=w.y,R=f.index,G=j,H=S,L=f.getResize({index:R,deltaX:b,deltaY:m,width:G,height:H,pct:1/2}),V=f.nodeModel,Z=V.minWidth,Y=V.minHeight,N=V.maxWidth,z=V.maxHeight;if(!(L.width<Z/2||L.width>N/2||L.height<Y/2||L.height>z/2)){f.updatePosition({deltaX:b,deltaY:m}),f.nodeModel.rx=L.width,f.nodeModel.ry=L.height,f.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var k=f.getNodeEdges(O),I={x:P,y:C},U={rx:L.width,ry:L.height,x:f.nodeModel.x,y:f.nodeModel.y},ee={point:{},beforeNode:I,afterNode:U},$;k.sourceEdges.forEach(function(ie){ee.point=ie.startPoint,$=nv(ee),ie.updateStartPoint($)}),k.targetEdges.forEach(function(ie){ee.point=ie.endPoint,$=nv(ee),ie.updateEndPoint($)}),f.eventEmit({beforeNode:Kr(Kr({},I),{rx:j,ry:S}),afterNode:U})}},f.updateDiamond=function(s){var b=s.deltaX,m=s.deltaY,w=f.nodeModel,O=w.id,j=w.rx,S=w.ry,P=w.x,C=w.y,R=f.index,G=j,H=S,L=f.getResize({index:R,deltaX:b,deltaY:m,width:G,height:H,pct:1/2}),V=f.nodeModel,Z=V.minWidth,Y=V.minHeight,N=V.maxWidth,z=V.maxHeight;if(!(L.width<Z/2||L.width>N/2||L.height<Y/2||L.height>z/2)){f.updatePosition({deltaX:b,deltaY:m}),f.nodeModel.rx=L.width,f.nodeModel.ry=L.height,f.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var k={x:P,y:C,rx:j,ry:S},I={rx:L.width,ry:L.height,x:f.nodeModel.x,y:f.nodeModel.y},U={point:{},beforeNode:k,afterNode:I},ee,$=f.getNodeEdges(O);$.sourceEdges.forEach(function(ie){U.point=ie.startPoint,ee=rv(U),ie.updateStartPoint(ee)}),$.targetEdges.forEach(function(ie){U.point=ie.endPoint,ee=rv(U),ie.updateEndPoint(ee)}),f.eventEmit({beforeNode:k,afterNode:I})}},f.eventEmit=function(s){var b=s.beforeNode,m=s.afterNode,w=f.nodeModel,O=w.id,j=w.modelType,S=w.type,P=Kr({id:O,modelType:j,type:S},b),C=Kr({id:O,modelType:j,type:S},m);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:C})},f.onDraging=function(s){var b=s.deltaX,m=s.deltaY,w=f.nodeModel.modelType;w===go.RECT_NODE||w===go.HTML_NODE?f.updateRect({deltaX:b,deltaY:m}):w===go.ELLIPSE_NODE?f.updateEllipse({deltaX:b,deltaY:m}):w===go.DIAMOND_NODE&&f.updateDiamond({deltaX:b,deltaY:m})},f.index=c.index,f.nodeModel=c.model,f.graphModel=c.graphModel;var a=f.graphModel.gridSize,p=2;return a>1&&(p=2*a),f.state={},f.dragHandler=Iw({onDraging:f.onDraging,step:p}),f}return h.prototype.getNodeEdges=function(c){for(var f=this.graphModel,a=f.edges,p=[],s=[],b=0;b<a.length;b++){var m=a[b];m.sourceNodeId===c?p.push(m):a[b].targetNodeId===c&&s.push(m)}return{sourceEdges:p,targetEdges:s}},h.prototype.render=function(){var c=this.props,f=c.x,a=c.y,p=c.index,s=c.model,b=s.getControlPointStyle();return hi("g",{className:"lf-resize-control-"+p},hi(Zc,Kr({className:"lf-node-control"},{x:f,y:a},b,{onMouseDown:this.dragHandler})))},h}(bo),zw=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ca=globalThis&&globalThis.__assign||function(){return Ca=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Ca.apply(this,arguments)},La=function(y){zw(h,y);function h(){var c=y.call(this)||this;return c.state={},c}return h.prototype.getResizeControl=function(){var c=this.props,f=c.model,a=c.graphModel,p=f.x,s=f.y,b=f.width,m=f.height,w={minX:p-b/2,minY:s-m/2,maxX:p+b/2,maxY:s+m/2},O=w.minX,j=w.minY,S=w.maxX,P=w.maxY,C=[{x:O,y:j},{x:S,y:j},{x:S,y:P},{x:O,y:P}];return C.map(function(R,G){return hi(Lw,Ca({index:G},R,{model:f,graphModel:a}))})},h.prototype.getGroupSolid=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.getResizeOutlineStyle();return hi(Zc,Ca({fill:"none"},b,{x:f,y:a,width:p,height:s}))},h.prototype.render=function(){return hi("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(bo),kv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Bw=function(y){kv(h,y);function h(){var c=y!==null&&y.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return h.prototype.getOutlineStyle=function(){var c=y.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.width=c.width,this.height=c.height)},h.prototype.resize=function(c,f){},h}(Fe.exports.RectNodeModel),Fw=function(y){kv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(La,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h}(Fe.exports.RectNode),Mv={type:"rect",view:Fw,model:Bw},Tv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();(function(y){Tv(h,y);function h(c,f){var a=y.call(this,c,f)||this;return a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3,a.rx=50,a.ry=50,a}return h.prototype.getOutlineStyle=function(){var c=y.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},h})(Fe.exports.EllipseNodeModel);(function(y){Tv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(La,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model;return Fe.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},h})(Fe.exports.EllipseNode);var Gc=globalThis&&globalThis.__assign||function(){return Gc=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Gc.apply(this,arguments)};function Uw(y){var h=y.fillOpacity,c=h===void 0?1:h,f=y.strokeWidth,a=f===void 0?1:f,p=y.strokeOpacity,s=p===void 0?1:p,b=y.fill,m=b===void 0?"transparent":b,w=y.stroke,O=w===void 0?"#000":w,j=y.points,S=y.className,P=S===void 0?"lf-basic-shape":S,C={fill:m,fillOpacity:c,strokeWidth:a,stroke:O,strokeOpacity:s,points:"",className:P};return C.points=j.map(function(R){return R.join(",")}).join(" "),Fe.exports.h("polygon",Gc({},C))}var Dv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Xc=globalThis&&globalThis.__assign||function(){return Xc=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Xc.apply(this,arguments)};(function(y){Dv(h,y);function h(){var c=y!==null&&y.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return h.prototype.getOutlineStyle=function(){var c=y.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.rx=c.rx,this.ry=c.ry)},h})(Fe.exports.DiamondNodeModel);(function(y){Dv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(La,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){var c=this.props.model,f=c.points,a=c.getNodeStyle();return Fe.exports.h("g",null,Fe.exports.h(Uw,Xc({},a,{points:f})))},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Fe.exports.DiamondNode);var Nv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();(function(y){Nv(h,y);function h(){var c=y!==null&&y.apply(this,arguments)||this;return c.minWidth=30,c.minHeight=30,c.maxWidth=2e3,c.maxHeight=2e3,c}return h.prototype.getOutlineStyle=function(){var c=y.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.setAttributes=function(){var c=this.properties.nodeSize;c&&(this.width=c.width,this.height=c.height)},h})(Fe.exports.HtmlNodeModel);(function(y){Nv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(La,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Fe.exports.HtmlNode);var Cv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ra=globalThis&&globalThis.__assign||function(){return Ra=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Ra.apply(this,arguments)},Gw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},Xw=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(Gw(arguments[h]));return y},ov=500,iv=300;(function(y){Cv(h,y);function h(){var c=y!==null&&y.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=ov,c.unfoldedHight=iv,c}return h.prototype.initNodeData=function(c){y.prototype.initNodeData.call(this,c);var f=[];Array.isArray(c.children)&&(f=c.children),this.children=new Set(f),this.width=ov,this.height=iv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded=!1,this.isFolded=this.properties.isFolded},h.prototype.getResizeOutlineStyle=function(){var c=y.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},h.prototype.foldGroup=function(c){var f=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var a=this.graphModel.getNodeIncomingEdge(this.id),p=this.graphModel.getNodeOutgoingEdge(this.id);a.concat(p).forEach(function(s){if(f.graphModel.deleteEdgeById(s.id),!s.isFoldedEdge){var b=s.targetNodeId===f.id,m=s.getData();b?m.endPoint=void 0:m.startPoint=void 0,m.pointsList=void 0,f.graphModel.addEdge(m)}}),this.children.forEach(function(s){var b=f.graphModel.getElement(s);b.visible=!c,f.foldEdge(s,c)})},h.prototype.foldEdge=function(c,f){var a=this,p=this.graphModel.getNodeIncomingEdge(c),s=this.graphModel.getNodeOutgoingEdge(c);p.concat(s).forEach(function(b,m){var w;if(b.visible=!f,f&&(!a.children.has(b.targetNodeId)||!a.children.has(b.sourceNodeId))){var O=b.targetNodeId===c;if(f){var j=b.getData();j.id=j.id+"__"+m,O?(j.endPoint=void 0,j.targetNodeId=a.id):(j.startPoint=void 0,j.sourceNodeId=a.id),j.text=(w=j.text)===null||w===void 0?void 0:w.value,j.pointsList=void 0;var S=a.graphModel.addEdge(j);S.virtual=!0,S.getData=function(){return null},S.text.editable=!1,S.isFoldedEdge=!0}}})},h.prototype.isInRange=function(c){var f=c.x1,a=c.y1,p=c.x2,s=c.y2;return f>=this.x-this.width/2&&p<=this.x+this.width/2&&a>=this.y-this.height/2&&s<=this.y+this.height/2},h.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},h.prototype.addChild=function(c){this.children.add(c)},h.prototype.removeChild=function(c){this.children.delete(c)},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var c=y.prototype.getData.call(this);c.children=Xw(this.children);var f=c.properties;return delete f.groupAddable,delete f.isFolded,c},h})(Mv.model);(function(y){Cv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props.model,f=c.resizable,a=c.properties;return f&&!a.isFolded?y.prototype.getControlGroup.call(this):null},h.prototype.getAddedableShape=function(){var c=this.props.model,f=c.width,a=c.height,p=c.x,s=c.y,b=c.radius,m=c.properties;if(!m.groupAddable)return null;var w=this.props.model.getNodeStyle().strokeWidth,O=this.props.model.getAddableOutlineStyle(),j=f+w+8,S=a+w+8;return Fe.exports.h("rect",Ra(Ra({},O),{width:j,height:S,x:p-j/2,y:s-S/2,rx:b,ry:b}))},h.prototype.getFoldIcon=function(){var c=this.props.model,f=c.x-c.width/2+5,a=c.y-c.height/2+5;if(!c.foldable)return null;var p=Fe.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(f+3)+","+(a+6)+" "+(f+11)+","+(a+6)+" M"+(f+7)+","+(a+2)+" "+(f+7)+","+(a+10):"M "+(f+3)+","+(a+6)+" "+(f+11)+","+(a+6)+" "});return Fe.exports.h("g",{},[Fe.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),p])},h.prototype.getResizeShape=function(){return Fe.exports.h("g",{},[this.getAddedableShape(),y.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(Mv.view);var Hw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var Yw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var av=globalThis&&globalThis.__assign||function(){return av=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},av.apply(this,arguments)};const Vw={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function Ww(y){const{incoming:h,outgoing:c,properties:f,key:a}=y,{text:p,startPoint:s,endPoint:b,pointsList:m,logicFlowType:w}=f,O={id:a,type:w,sourceNodeId:h[0],targetNodeId:c[0],text:p,startPoint:s,endPoint:b,pointsList:m,properties:{}},j=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(y.properties).forEach(S=>{j.indexOf(S)===-1&&(O.properties[S]=y.properties[S])}),O}function Kw(y){const{properties:h,key:c}=y,{x:f,y:a,text:p,logicFlowType:s}=h,b={id:c,type:s,x:f,y:a,text:p,properties:{}},m=["x","y","text","logicFlowType"];return Object.keys(y.properties).forEach(w=>{m.indexOf(w)===-1&&(b.properties[w]=y.properties[w])}),b}function Zw(y){const h={nodes:[],edges:[]},c=y.flowElementList;return c&&c.length>0&&c.forEach(f=>{if(f.type===Vw.SEQUENCE_FLOW){const a=Ww(f);h.edges.push(a)}else{const a=Kw(f);h.nodes.push(a)}}),h}function qw(y){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{y.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const $w=uv({name:"FlowChart",components:{BasicModal:LO,FlowChartToolbar:VO,JsonPreview:BO},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(y){const h=ja(null),c=ja({}),f=ja(null),{prefixCls:a}=_O("flow-chart"),p=OO(),[s,{openModal:b}]=zO();UO({logicFlow:f});const m=CO(()=>{const{flowOptions:S}=y;return Lc({grid:!0,background:{color:p.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},S)});Iy(()=>y.data,()=>{O()}),Iy(()=>en(m),S=>{var P;(P=en(f))==null||P.updateEditConfig(S)});function w(){return Ea(this,null,function*(){yield zc();const S=en(h);if(!S)return;vo.use(Aw),vo.use(vw),vo.use(yw),vo.use(Pw),vo.use(kw),f.value=new vo(Cy(Lc({},en(m)),{container:S}));const P=en(f);P==null||P.setDefaultEdgeType("line"),O(),P==null||P.setPatternItems(y.patternItems||qw(P))})}function O(){return Ea(this,null,function*(){yield zc();const S=en(f);if(!S)return;const P=Zw(y.data);S.render(P)})}function j(){const S=en(f);!S||(c.value=en(S).getGraphData(),b())}return RO(w),{register:s,prefixCls:a,lfElRef:h,handlePreview:j,graphData:c}}}),Jw={ref:"lfElRef",class:"h-full"};function Qw(y,h,c,f,a,p){const s=Pr("FlowChartToolbar"),b=Pr("JsonPreview"),m=Pr("BasicModal");return jr(),fi("div",{class:Sa(["h-full",y.prefixCls])},[y.toolbar?(jr(),Yc(s,{key:0,prefixCls:y.prefixCls,onViewData:y.handlePreview},null,8,["prefixCls","onViewData"])):Bc("",!0),IO("div",Jw,null,512),vi(m,{onRegister:y.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:ka(()=>[vi(b,{data:y.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var e1=Hc($w,[["render",Qw]]);const t1=wO(e1),n1=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var r1={flowElementList:n1};const o1={components:{FlowChart:t1,PageWrapper:FO},setup(){return{demoData:r1}}};function i1(y,h,c,f,a,p){const s=Pr("FlowChart"),b=Pr("PageWrapper");return jr(),Yc(b,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:ka(()=>[vi(s,{data:f.demoData},null,8,["data"])]),_:1})}var g1=Hc(o1,[["render",i1]]);export{g1 as default};
